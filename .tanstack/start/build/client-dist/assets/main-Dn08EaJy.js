const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/_layout-DwuZFJSW.js","assets/zero-app-CdYV702a.js","assets/cn-BW4RVDli.js","assets/dialog-E99Y3Rr_.js","assets/index-pxUher2e.js","assets/input-B_ypof4g.js","assets/VI7QYH27-BxFHqnt-.js","assets/auth-client-c_CyRio9.js","assets/register-uLZUEoRd.js","assets/separator-CXmTPIfj.js","assets/login-De9bTmS_.js","assets/index-TpnxbMeV.js","assets/card-CZU5oDAw.js","assets/_feedbackId-BJM-1nJy.js"])))=>i.map(i=>d[i]);
var Wl=Object.defineProperty;var Yl=(e,n,t)=>n in e?Wl(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t;var f=(e,n,t)=>Yl(e,typeof n!="symbol"?n+"":n,t);const C={context:void 0,registry:void 0,effects:void 0,done:!1,getContextId(){return Os(this.context.count)},getNextContextId(){return Os(this.context.count++)}};function Os(e){const n=String(e),t=n.length-1;return C.context.id+(t?String.fromCharCode(96+t):"")+n}function $t(e){C.context=e}function Zl(){return{...C.context,id:C.getNextContextId(),count:0}}const Xl=!1,Ql=(e,n)=>e===n,Je=Symbol("solid-proxy"),pa=typeof Proxy=="function",pi=Symbol("solid-track"),ar={equals:Ql};let vn=null,ma=xa;const Ye=1,cr=2,ga={owned:null,cleanups:null,context:null,owner:null},Gr={};var K=null;let nr=null,eu=null,Y=null,ye=null,Ne=null,Er=0;function jt(e,n){const t=Y,r=K,i=e.length===0,s=n===void 0?r:n,o=i?ga:{owned:null,cleanups:null,context:s?s.context:null,owner:s},a=i?e:()=>e(()=>de(()=>Sn(o)));K=o,Y=null;try{return nt(a,!0)}finally{Y=t,K=r}}function pe(e,n){n=n?Object.assign({},ar,n):ar;const t={value:e,observers:null,observerSlots:null,comparator:n.equals||void 0},r=i=>(typeof i=="function"&&(i=i(t.value)),$a(t,i));return[wa.bind(t),r]}function Ns(e,n,t){const r=On(e,n,!0,Ye);an(r)}function Ce(e,n,t){const r=On(e,n,!1,Ye);an(r)}function bt(e,n,t){ma=cu;const r=On(e,n,!1,Ye),i=Yt&&Rt(Yt);i&&(r.suspense=i),(!t||!t.render)&&(r.user=!0),Ne?Ne.push(r):an(r)}function G(e,n,t){t=t?Object.assign({},ar,t):ar;const r=On(e,n,!0,0);return r.observers=null,r.observerSlots=null,r.comparator=t.equals||void 0,an(r),wa.bind(r)}function tu(e){return e&&typeof e=="object"&&"then"in e}function lr(e,n,t){let r,i,s;typeof n=="function"?(r=e,i=n,s={}):(r=!0,i=e,s=n||{});let o=null,a=Gr,c=null,l=!1,u="initialValue"in s,d=typeof r=="function"&&G(r);const h=new Set,[p,m]=(s.storage||pe)(s.initialValue),[g,y]=pe(void 0),[b,A]=pe(void 0,{equals:!1}),[R,B]=pe(u?"ready":"unresolved");C.context&&(c=C.getNextContextId(),s.ssrLoadFrom==="initial"?a=s.initialValue:C.load&&C.has(c)&&(a=C.load(c)));function T(w,_,I,N){return o===w&&(o=null,N!==void 0&&(u=!0),(w===a||_===a)&&s.onHydrated&&queueMicrotask(()=>s.onHydrated(N,{value:_})),a=Gr,P(_,I)),_}function P(w,_){nt(()=>{_===void 0&&m(()=>w),B(_!==void 0?"errored":u?"ready":"unresolved"),y(_);for(const I of h.keys())I.decrement();h.clear()},!1)}function E(){const w=Yt&&Rt(Yt),_=p(),I=g();if(I!==void 0&&!o)throw I;return Y&&!Y.user&&w&&Ns(()=>{b(),o&&(w.resolved&&nr||h.has(w)||(w.increment(),h.add(w)))}),_}function x(w=!0){if(w!==!1&&l)return;l=!1;const _=d?d():r;if(_==null||_===!1){T(o,de(p));return}let I;const N=a!==Gr?a:de(()=>{try{return i(_,{value:p(),refetching:w})}catch(F){I=F}});if(I!==void 0){T(o,void 0,rr(I),_);return}else if(!tu(N))return T(o,N,void 0,_),N;return o=N,"v"in N?(N.s===1?T(o,N.v,void 0,_):T(o,void 0,rr(N.v),_),N):(l=!0,queueMicrotask(()=>l=!1),nt(()=>{B(u?"refreshing":"pending"),A()},!1),N.then(F=>T(N,F,void 0,_),F=>T(N,void 0,rr(F),_)))}Object.defineProperties(E,{state:{get:()=>R()},error:{get:()=>g()},loading:{get(){const w=R();return w==="pending"||w==="refreshing"}},latest:{get(){if(!u)return E();const w=g();if(w&&!o)throw w;return p()}}});let S=K;return d?Ns(()=>(S=K,x(!1))):x(!1),[E,{refetch:w=>ba(S,()=>x(w)),mutate:m}]}function nu(e){return nt(e,!1)}function de(e){if(Y===null)return e();const n=Y;Y=null;try{return e()}finally{Y=n}}function wn(e,n,t){const r=Array.isArray(e);let i,s=t&&t.defer;return o=>{let a;if(r){a=Array(e.length);for(let l=0;l<e.length;l++)a[l]=e[l]()}else a=e();if(s)return s=!1,o;const c=de(()=>n(a,i,o));return i=a,c}}function ya(e){bt(()=>de(e))}function Me(e){return K===null||(K.cleanups===null?K.cleanups=[e]:K.cleanups.push(e)),e}function ru(e,n){vn||(vn=Symbol("error")),K=On(void 0,void 0,!0),K.context={...K.context,[vn]:[n]};try{return e()}catch(t){Nn(t)}finally{K=K.owner}}function mi(){return Y}function gi(){return K}function ba(e,n){const t=K,r=Y;K=e,Y=null;try{return nt(n,!0)}catch(i){Nn(i)}finally{K=t,Y=r}}const[hv,pv]=pe(!1);function iu(e){Ne.push.apply(Ne,e),e.length=0}function Pt(e,n){const t=Symbol("context");return{id:t,Provider:lu(t),defaultValue:e}}function Rt(e){let n;return K&&K.context&&(n=K.context[e.id])!==void 0?n:e.defaultValue}function va(e){const n=G(e),t=G(()=>yi(n()));return t.toArray=()=>{const r=t();return Array.isArray(r)?r:r!=null?[r]:[]},t}let Yt;function su(){return Yt||(Yt=Pt())}function wa(){if(this.sources&&this.state)if(this.state===Ye)an(this);else{const e=ye;ye=null,nt(()=>dr(this),!1),ye=e}if(Y){const e=this.observers?this.observers.length:0;Y.sources?(Y.sources.push(this),Y.sourceSlots.push(e)):(Y.sources=[this],Y.sourceSlots=[e]),this.observers?(this.observers.push(Y),this.observerSlots.push(Y.sources.length-1)):(this.observers=[Y],this.observerSlots=[Y.sources.length-1])}return this.value}function $a(e,n,t){let r=e.value;return(!e.comparator||!e.comparator(r,n))&&(e.value=n,e.observers&&e.observers.length&&nt(()=>{for(let i=0;i<e.observers.length;i+=1){const s=e.observers[i],o=nr&&nr.running;o&&nr.disposed.has(s),(o?!s.tState:!s.state)&&(s.pure?ye.push(s):Ne.push(s),s.observers&&Sa(s)),o||(s.state=Ye)}if(ye.length>1e6)throw ye=[],new Error},!1)),n}function an(e){if(!e.fn)return;Sn(e);const n=Er;ou(e,e.value,n)}function ou(e,n,t){let r;const i=K,s=Y;Y=K=e;try{r=e.fn(n)}catch(o){return e.pure&&(e.state=Ye,e.owned&&e.owned.forEach(Sn),e.owned=null),e.updatedAt=t+1,Nn(o)}finally{Y=s,K=i}(!e.updatedAt||e.updatedAt<=t)&&(e.updatedAt!=null&&"observers"in e?$a(e,r):e.value=r,e.updatedAt=t)}function On(e,n,t,r=Ye,i){const s={fn:e,state:r,updatedAt:null,owned:null,sources:null,sourceSlots:null,cleanups:null,value:n,owner:K,context:K?K.context:null,pure:t};return K===null||K!==ga&&(K.owned?K.owned.push(s):K.owned=[s]),s}function ur(e){if(e.state===0)return;if(e.state===cr)return dr(e);if(e.suspense&&de(e.suspense.inFallback))return e.suspense.effects.push(e);const n=[e];for(;(e=e.owner)&&(!e.updatedAt||e.updatedAt<Er);)e.state&&n.push(e);for(let t=n.length-1;t>=0;t--)if(e=n[t],e.state===Ye)an(e);else if(e.state===cr){const r=ye;ye=null,nt(()=>dr(e,n[0]),!1),ye=r}}function nt(e,n){if(ye)return e();let t=!1;n||(ye=[]),Ne?t=!0:Ne=[],Er++;try{const r=e();return au(t),r}catch(r){t||(Ne=null),ye=null,Nn(r)}}function au(e){if(ye&&(xa(ye),ye=null),e)return;const n=Ne;Ne=null,n.length&&nt(()=>ma(n),!1)}function xa(e){for(let n=0;n<e.length;n++)ur(e[n])}function cu(e){let n,t=0;for(n=0;n<e.length;n++){const r=e[n];r.user?e[t++]=r:ur(r)}if(C.context){if(C.count){C.effects||(C.effects=[]),C.effects.push(...e.slice(0,t));return}$t()}for(C.effects&&(C.done||!C.count)&&(e=[...C.effects,...e],t+=C.effects.length,delete C.effects),n=0;n<t;n++)ur(e[n])}function dr(e,n){e.state=0;for(let t=0;t<e.sources.length;t+=1){const r=e.sources[t];if(r.sources){const i=r.state;i===Ye?r!==n&&(!r.updatedAt||r.updatedAt<Er)&&ur(r):i===cr&&dr(r,n)}}}function Sa(e){for(let n=0;n<e.observers.length;n+=1){const t=e.observers[n];t.state||(t.state=cr,t.pure?ye.push(t):Ne.push(t),t.observers&&Sa(t))}}function Sn(e){let n;if(e.sources)for(;e.sources.length;){const t=e.sources.pop(),r=e.sourceSlots.pop(),i=t.observers;if(i&&i.length){const s=i.pop(),o=t.observerSlots.pop();r<i.length&&(s.sourceSlots[o]=r,i[r]=s,t.observerSlots[r]=o)}}if(e.tOwned){for(n=e.tOwned.length-1;n>=0;n--)Sn(e.tOwned[n]);delete e.tOwned}if(e.owned){for(n=e.owned.length-1;n>=0;n--)Sn(e.owned[n]);e.owned=null}if(e.cleanups){for(n=e.cleanups.length-1;n>=0;n--)e.cleanups[n]();e.cleanups=null}e.state=0}function rr(e){return e instanceof Error?e:new Error(typeof e=="string"?e:"Unknown error",{cause:e})}function Ms(e,n,t){try{for(const r of n)r(e)}catch(r){Nn(r,t&&t.owner||null)}}function Nn(e,n=K){const t=vn&&n&&n.context&&n.context[vn],r=rr(e);if(!t)throw r;Ne?Ne.push({fn(){Ms(r,t,n)},state:Ye}):Ms(r,t,n)}function yi(e){if(typeof e=="function"&&!e.length)return yi(e());if(Array.isArray(e)){const n=[];for(let t=0;t<e.length;t++){const r=yi(e[t]);Array.isArray(r)?n.push.apply(n,r):n.push(r)}return n}return e}function lu(e,n){return function(r){let i;return Ce(()=>i=de(()=>(K.context={...K.context,[e]:r.value},va(()=>r.children))),void 0),i}}const uu=Symbol("fallback");function Es(e){for(let n=0;n<e.length;n++)e[n]()}function du(e,n,t={}){let r=[],i=[],s=[],o=0,a=n.length>1?[]:null;return Me(()=>Es(s)),()=>{let c=e()||[],l=c.length,u,d;return c[pi],de(()=>{let p,m,g,y,b,A,R,B,T;if(l===0)o!==0&&(Es(s),s=[],r=[],i=[],o=0,a&&(a=[])),t.fallback&&(r=[uu],i[0]=jt(P=>(s[0]=P,t.fallback())),o=1);else if(o===0){for(i=new Array(l),d=0;d<l;d++)r[d]=c[d],i[d]=jt(h);o=l}else{for(g=new Array(l),y=new Array(l),a&&(b=new Array(l)),A=0,R=Math.min(o,l);A<R&&r[A]===c[A];A++);for(R=o-1,B=l-1;R>=A&&B>=A&&r[R]===c[B];R--,B--)g[B]=i[R],y[B]=s[R],a&&(b[B]=a[R]);for(p=new Map,m=new Array(B+1),d=B;d>=A;d--)T=c[d],u=p.get(T),m[d]=u===void 0?-1:u,p.set(T,d);for(u=A;u<=R;u++)T=r[u],d=p.get(T),d!==void 0&&d!==-1?(g[d]=i[u],y[d]=s[u],a&&(b[d]=a[u]),d=m[d],p.set(T,d)):s[u]();for(d=A;d<l;d++)d in g?(i[d]=g[d],s[d]=y[d],a&&(a[d]=b[d],a[d](d))):i[d]=jt(h);i=i.slice(0,o=l),r=c.slice(0)}return i});function h(p){if(s[d]=p,a){const[m,g]=pe(d);return a[d]=g,n(c[d],m)}return n(c[d])}}}let ka=!1;function fu(){ka=!0}function v(e,n){if(ka&&C.context){const t=C.context;$t(Zl());const r=de(()=>e(n||{}));return $t(t),r}return de(()=>e(n||{}))}function Hn(){return!0}const bi={get(e,n,t){return n===Je?t:e.get(n)},has(e,n){return n===Je?!0:e.has(n)},set:Hn,deleteProperty:Hn,getOwnPropertyDescriptor(e,n){return{configurable:!0,enumerable:!0,get(){return e.get(n)},set:Hn,deleteProperty:Hn}},ownKeys(e){return e.keys()}};function Wr(e){return(e=typeof e=="function"?e():e)?e:{}}function hu(){for(let e=0,n=this.length;e<n;++e){const t=this[e]();if(t!==void 0)return t}}function Pe(...e){let n=!1;for(let o=0;o<e.length;o++){const a=e[o];n=n||!!a&&Je in a,e[o]=typeof a=="function"?(n=!0,G(a)):a}if(pa&&n)return new Proxy({get(o){for(let a=e.length-1;a>=0;a--){const c=Wr(e[a])[o];if(c!==void 0)return c}},has(o){for(let a=e.length-1;a>=0;a--)if(o in Wr(e[a]))return!0;return!1},keys(){const o=[];for(let a=0;a<e.length;a++)o.push(...Object.keys(Wr(e[a])));return[...new Set(o)]}},bi);const t={},r=Object.create(null);for(let o=e.length-1;o>=0;o--){const a=e[o];if(!a)continue;const c=Object.getOwnPropertyNames(a);for(let l=c.length-1;l>=0;l--){const u=c[l];if(u==="__proto__"||u==="constructor")continue;const d=Object.getOwnPropertyDescriptor(a,u);if(!r[u])r[u]=d.get?{enumerable:!0,configurable:!0,get:hu.bind(t[u]=[d.get.bind(a)])}:d.value!==void 0?d:void 0;else{const h=t[u];h&&(d.get?h.push(d.get.bind(a)):d.value!==void 0&&h.push(()=>d.value))}}}const i={},s=Object.keys(r);for(let o=s.length-1;o>=0;o--){const a=s[o],c=r[a];c&&c.get?Object.defineProperty(i,a,c):i[a]=c?c.value:void 0}return i}function qt(e,...n){if(pa&&Je in e){const i=new Set(n.length>1?n.flat():n[0]),s=n.map(o=>new Proxy({get(a){return o.includes(a)?e[a]:void 0},has(a){return o.includes(a)&&a in e},keys(){return o.filter(a=>a in e)}},bi));return s.push(new Proxy({get(o){return i.has(o)?void 0:e[o]},has(o){return i.has(o)?!1:o in e},keys(){return Object.keys(e).filter(o=>!i.has(o))}},bi)),s}const t={},r=n.map(()=>({}));for(const i of Object.getOwnPropertyNames(e)){const s=Object.getOwnPropertyDescriptor(e,i),o=!s.get&&!s.set&&s.enumerable&&s.writable&&s.configurable;let a=!1,c=0;for(const l of n)l.includes(i)&&(a=!0,o?r[c][i]=s.value:Object.defineProperty(r[c],i,s)),++c;a||(o?t[i]=s.value:Object.defineProperty(t,i,s))}return[...r,t]}let pu=0;function mu(){return C.context?C.getNextContextId():`cl-${pu++}`}const _a=e=>`Stale read from <${e}>.`;function mv(e){const n="fallback"in e&&{fallback:()=>e.fallback};return G(du(()=>e.each,e.children,n||void 0))}function Yi(e){const n=e.keyed,t=G(()=>e.when,void 0,void 0),r=n?t:G(t,void 0,{equals:(i,s)=>!i==!s});return G(()=>{const i=r();if(i){const s=e.children;return typeof s=="function"&&s.length>0?de(()=>s(n?i:()=>{if(!de(r))throw _a("Show");return t()})):s}return e.fallback},void 0,void 0)}function Aa(e){const n=va(()=>e.children),t=G(()=>{const r=n(),i=Array.isArray(r)?r:[r];let s=()=>{};for(let o=0;o<i.length;o++){const a=o,c=i[o],l=s,u=G(()=>l()?void 0:c.when,void 0,void 0),d=c.keyed?u:G(u,void 0,{equals:(h,p)=>!h==!p});s=()=>l()||(d()?[a,u,c]:void 0)}return s});return G(()=>{const r=t()();if(!r)return e.fallback;const[i,s,o]=r,a=o.children;return typeof a=="function"&&a.length>0?de(()=>a(o.keyed?s():()=>{var l;if(((l=de(t)())==null?void 0:l[0])!==i)throw _a("Match");return s()})):a},void 0,void 0)}function ht(e){return e}let Gn;function gu(e){let n;C.context&&C.load&&(n=C.load(C.getContextId()));const[t,r]=pe(n,void 0);return Gn||(Gn=new Set),Gn.add(r),Me(()=>Gn.delete(r)),G(()=>{let i;if(i=t()){const s=e.fallback;return typeof s=="function"&&s.length?de(()=>s(i,()=>r())):s}return ru(()=>e.children,r)},void 0,void 0)}const yu=Pt();function fr(e){let n=0,t,r,i,s,o;const[a,c]=pe(!1),l=su(),u={increment:()=>{++n===1&&c(!0)},decrement:()=>{--n===0&&c(!1)},inFallback:a,effects:[],resolved:!1},d=gi();if(C.context&&C.load){const m=C.getContextId();let g=C.load(m);if(g&&(typeof g!="object"||g.s!==1?i=g:C.gather(m)),i&&i!=="$$f"){const[y,b]=pe(void 0,{equals:!1});s=y,i.then(()=>{if(C.done)return b();C.gather(m),$t(r),b(),$t()},A=>{o=A,b()})}}const h=Rt(yu);h&&(t=h.register(u.inFallback));let p;return Me(()=>p&&p()),v(l.Provider,{value:u,get children(){return G(()=>{if(o)throw o;if(r=C.context,s)return s(),s=void 0;r&&i==="$$f"&&$t();const m=G(()=>e.children);return G(g=>{const y=u.inFallback(),{showContent:b=!0,showFallback:A=!0}=t?t():{};if((!y||i&&i!=="$$f")&&b)return u.resolved=!0,p&&p(),p=r=i=void 0,iu(u.effects),m();if(A)return p?g:jt(R=>(p=R,r&&($t({id:r.id+"F",count:0}),r=void 0),e.fallback),d)})})}})}const bu=["allowfullscreen","async","autofocus","autoplay","checked","controls","default","disabled","formnovalidate","hidden","indeterminate","inert","ismap","loop","multiple","muted","nomodule","novalidate","open","playsinline","readonly","required","reversed","seamless","selected"],vu=new Set(["className","value","readOnly","noValidate","formNoValidate","isMap","noModule","playsInline",...bu]),wu=new Set(["innerHTML","textContent","innerText","children"]),$u=Object.assign(Object.create(null),{className:"class",htmlFor:"for"}),xu=Object.assign(Object.create(null),{class:"className",novalidate:{$:"noValidate",FORM:1},formnovalidate:{$:"formNoValidate",BUTTON:1,INPUT:1},ismap:{$:"isMap",IMG:1},nomodule:{$:"noModule",SCRIPT:1},playsinline:{$:"playsInline",VIDEO:1},readonly:{$:"readOnly",INPUT:1,TEXTAREA:1}});function Su(e,n){const t=xu[e];return typeof t=="object"?t[n]?t.$:void 0:t}const ku=new Set(["beforeinput","click","dblclick","contextmenu","focusin","focusout","input","keydown","keyup","mousedown","mousemove","mouseout","mouseover","mouseup","pointerdown","pointermove","pointerout","pointerover","pointerup","touchend","touchmove","touchstart"]),_u=new Set(["altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feDropShadow","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignObject","g","glyph","glyphRef","hkern","image","line","linearGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","set","stop","svg","switch","symbol","text","textPath","tref","tspan","use","view","vkern"]),Au={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"},Ie=e=>G(()=>e());function Cu(e,n,t){let r=t.length,i=n.length,s=r,o=0,a=0,c=n[i-1].nextSibling,l=null;for(;o<i||a<s;){if(n[o]===t[a]){o++,a++;continue}for(;n[i-1]===t[s-1];)i--,s--;if(i===o){const u=s<r?a?t[a-1].nextSibling:t[s-a]:c;for(;a<s;)e.insertBefore(t[a++],u)}else if(s===a)for(;o<i;)(!l||!l.has(n[o]))&&n[o].remove(),o++;else if(n[o]===t[s-1]&&t[a]===n[i-1]){const u=n[--i].nextSibling;e.insertBefore(t[a++],n[o++].nextSibling),e.insertBefore(t[--s],u),n[i]=t[s]}else{if(!l){l=new Map;let d=a;for(;d<s;)l.set(t[d],d++)}const u=l.get(n[o]);if(u!=null)if(a<u&&u<s){let d=o,h=1,p;for(;++d<i&&d<s&&!((p=l.get(n[d]))==null||p!==u+h);)h++;if(h>u-a){const m=n[o];for(;a<u;)e.insertBefore(t[a++],m)}else e.replaceChild(t[a++],n[o++])}else o++;else n[o++].remove()}}}const Ls="_$DX_DELEGATE";function Ds(e,n,t,r={}){let i;return jt(s=>{i=s,n===document?e():Be(n,e(),n.firstChild?null:void 0,t)},r.owner),()=>{i(),n.textContent=""}}function je(e,n,t,r){let i;const s=()=>{const a=document.createElement("template");return a.innerHTML=e,a.content.firstChild},o=n?()=>de(()=>document.importNode(i||(i=s()),!0)):()=>(i||(i=s())).cloneNode(!0);return o.cloneNode=o,o}function Lr(e,n=window.document){const t=n[Ls]||(n[Ls]=new Set);for(let r=0,i=e.length;r<i;r++){const s=e[r];t.has(s)||(t.add(s),n.addEventListener(s,Pa))}}function Ca(e,n,t){ct(e)||(e[n]=t)}function hr(e,n,t){ct(e)||(t==null?e.removeAttribute(n):e.setAttribute(n,t))}function Pu(e,n,t,r){ct(e)||(r==null?e.removeAttributeNS(n,t):e.setAttributeNS(n,t,r))}function Ru(e,n,t){ct(e)||(t?e.setAttribute(n,""):e.removeAttribute(n))}function Iu(e,n){ct(e)||(n==null?e.removeAttribute("class"):e.className=n)}function Ou(e,n,t,r){if(r)Array.isArray(t)?(e[`$$${n}`]=t[0],e[`$$${n}Data`]=t[1]):e[`$$${n}`]=t;else if(Array.isArray(t)){const i=t[0];e.addEventListener(n,t[0]=s=>i.call(e,t[1],s))}else e.addEventListener(n,t,typeof t!="function"&&t)}function Nu(e,n,t={}){const r=Object.keys(n||{}),i=Object.keys(t);let s,o;for(s=0,o=i.length;s<o;s++){const a=i[s];!a||a==="undefined"||n[a]||(Ts(e,a,!1),delete t[a])}for(s=0,o=r.length;s<o;s++){const a=r[s],c=!!n[a];!a||a==="undefined"||t[a]===c||!c||(Ts(e,a,!0),t[a]=c)}return t}function Mu(e,n,t){if(!n)return t?hr(e,"style"):n;const r=e.style;if(typeof n=="string")return r.cssText=n;typeof t=="string"&&(r.cssText=t=void 0),t||(t={}),n||(n={});let i,s;for(s in t)n[s]==null&&r.removeProperty(s),delete t[s];for(s in n)i=n[s],i!==t[s]&&(r.setProperty(s,i),t[s]=i);return t}function Zt(e,n={},t,r){const i={};return r||Ce(()=>i.children=kn(e,n.children,i.children)),Ce(()=>typeof n.ref=="function"&&Eu(n.ref,e)),Ce(()=>Lu(e,n,t,!0,i,!0)),i}function Eu(e,n,t){return de(()=>e(n,t))}function Be(e,n,t,r){if(t!==void 0&&!r&&(r=[]),typeof n!="function")return kn(e,n,r,t);Ce(i=>kn(e,n(),i,t),r)}function Lu(e,n,t,r,i={},s=!1){n||(n={});for(const o in i)if(!(o in n)){if(o==="children")continue;i[o]=Fs(e,o,null,i[o],t,s,n)}for(const o in n){if(o==="children")continue;const a=n[o];i[o]=Fs(e,o,a,i[o],t,s,n)}}function Du(e,n,t={}){if(globalThis._$HY.done)return Ds(e,n,[...n.childNodes],t);C.completed=globalThis._$HY.completed,C.events=globalThis._$HY.events,C.load=r=>globalThis._$HY.r[r],C.has=r=>r in globalThis._$HY.r,C.gather=r=>Ks(n,r),C.registry=new Map,C.context={id:t.renderId||"",count:0};try{return Ks(n,t.renderId),Ds(e,n,[...n.childNodes],t)}finally{C.context=null}}function Re(e){let n,t;return!ct()||!(n=C.registry.get(t=Fu()))?e():(C.completed&&C.completed.add(n),C.registry.delete(t),n)}function pr(e){let n=e,t=0,r=[];if(ct(e))for(;n;){if(n.nodeType===8){const i=n.nodeValue;if(i==="$")t++;else if(i==="/"){if(t===0)return[n,r];t--}}r.push(n),n=n.nextSibling}return[n,r]}function Xt(){C.events&&!C.events.queued&&(queueMicrotask(()=>{const{completed:e,events:n}=C;if(n){for(n.queued=!1;n.length;){const[t,r]=n[0];if(!e.has(t))return;n.shift(),Pa(r)}C.done&&(C.events=_$HY.events=null,C.completed=_$HY.completed=null)}}),C.events.queued=!0)}function ct(e){return!!C.context&&!C.done&&(!e||e.isConnected)}function Tu(e){return e.toLowerCase().replace(/-([a-z])/g,(n,t)=>t.toUpperCase())}function Ts(e,n,t){const r=n.trim().split(/\s+/);for(let i=0,s=r.length;i<s;i++)e.classList.toggle(r[i],t)}function Fs(e,n,t,r,i,s,o){let a,c,l,u,d;if(n==="style")return Mu(e,t,r);if(n==="classList")return Nu(e,t,r);if(t===r)return r;if(n==="ref")s||t(e);else if(n.slice(0,3)==="on:"){const h=n.slice(3);r&&e.removeEventListener(h,r,typeof r!="function"&&r),t&&e.addEventListener(h,t,typeof t!="function"&&t)}else if(n.slice(0,10)==="oncapture:"){const h=n.slice(10);r&&e.removeEventListener(h,r,!0),t&&e.addEventListener(h,t,!0)}else if(n.slice(0,2)==="on"){const h=n.slice(2).toLowerCase(),p=ku.has(h);if(!p&&r){const m=Array.isArray(r)?r[0]:r;e.removeEventListener(h,m)}(p||t)&&(Ou(e,h,t,p),p&&Lr([h]))}else if(n.slice(0,5)==="attr:")hr(e,n.slice(5),t);else if(n.slice(0,5)==="bool:")Ru(e,n.slice(5),t);else if((d=n.slice(0,5)==="prop:")||(l=wu.has(n))||!i&&((u=Su(n,e.tagName))||(c=vu.has(n)))||(a=e.nodeName.includes("-")||"is"in o)){if(d)n=n.slice(5),c=!0;else if(ct(e))return t;n==="class"||n==="className"?Iu(e,t):a&&!c&&!l?e[Tu(n)]=t:e[u||n]=t}else{const h=i&&n.indexOf(":")>-1&&Au[n.split(":")[0]];h?Pu(e,h,n,t):hr(e,$u[n]||n,t)}return t}function Pa(e){if(C.registry&&C.events&&C.events.find(([c,l])=>l===e))return;let n=e.target;const t=`$$${e.type}`,r=e.target,i=e.currentTarget,s=c=>Object.defineProperty(e,"target",{configurable:!0,value:c}),o=()=>{const c=n[t];if(c&&!n.disabled){const l=n[`${t}Data`];if(l!==void 0?c.call(n,l,e):c.call(n,e),e.cancelBubble)return}return n.host&&typeof n.host!="string"&&!n.host._$host&&n.contains(e.target)&&s(n.host),!0},a=()=>{for(;o()&&(n=n._$host||n.parentNode||n.host););};if(Object.defineProperty(e,"currentTarget",{configurable:!0,get(){return n||document}}),C.registry&&!C.done&&(C.done=_$HY.done=!0),e.composedPath){const c=e.composedPath();s(c[0]);for(let l=0;l<c.length-2&&(n=c[l],!!o());l++){if(n._$host){n=n._$host,a();break}if(n.parentNode===i)break}}else a();s(r)}function kn(e,n,t,r,i){const s=ct(e);if(s){!t&&(t=[...e.childNodes]);let c=[];for(let l=0;l<t.length;l++){const u=t[l];u.nodeType===8&&u.data.slice(0,2)==="!$"?u.remove():c.push(u)}t=c}for(;typeof t=="function";)t=t();if(n===t)return t;const o=typeof n,a=r!==void 0;if(e=a&&t[0]&&t[0].parentNode||e,o==="string"||o==="number"){if(s||o==="number"&&(n=n.toString(),n===t))return t;if(a){let c=t[0];c&&c.nodeType===3?c.data!==n&&(c.data=n):c=document.createTextNode(n),t=Mt(e,t,r,c)}else t!==""&&typeof t=="string"?t=e.firstChild.data=n:t=e.textContent=n}else if(n==null||o==="boolean"){if(s)return t;t=Mt(e,t,r)}else{if(o==="function")return Ce(()=>{let c=n();for(;typeof c=="function";)c=c();t=kn(e,c,t,r)}),()=>t;if(Array.isArray(n)){const c=[],l=t&&Array.isArray(t);if(vi(c,n,t,i))return Ce(()=>t=kn(e,c,t,r,!0)),()=>t;if(s){if(!c.length)return t;if(r===void 0)return t=[...e.childNodes];let u=c[0];if(u.parentNode!==e)return t;const d=[u];for(;(u=u.nextSibling)!==r;)d.push(u);return t=d}if(c.length===0){if(t=Mt(e,t,r),a)return t}else l?t.length===0?Bs(e,c,r):Cu(e,t,c):(t&&Mt(e),Bs(e,c));t=c}else if(n.nodeType){if(s&&n.parentNode)return t=a?[n]:n;if(Array.isArray(t)){if(a)return t=Mt(e,t,r,n);Mt(e,t,null,n)}else t==null||t===""||!e.firstChild?e.appendChild(n):e.replaceChild(n,e.firstChild);t=n}}return t}function vi(e,n,t,r){let i=!1;for(let s=0,o=n.length;s<o;s++){let a=n[s],c=t&&t[e.length],l;if(!(a==null||a===!0||a===!1))if((l=typeof a)=="object"&&a.nodeType)e.push(a);else if(Array.isArray(a))i=vi(e,a,c)||i;else if(l==="function")if(r){for(;typeof a=="function";)a=a();i=vi(e,Array.isArray(a)?a:[a],Array.isArray(c)?c:[c])||i}else e.push(a),i=!0;else{const u=String(a);c&&c.nodeType===3&&c.data===u?e.push(c):e.push(document.createTextNode(u))}}return i}function Bs(e,n,t=null){for(let r=0,i=n.length;r<i;r++)e.insertBefore(n[r],t)}function Mt(e,n,t,r){if(t===void 0)return e.textContent="";const i=r||document.createTextNode("");if(n.length){let s=!1;for(let o=n.length-1;o>=0;o--){const a=n[o];if(i!==a){const c=a.parentNode===e;!s&&!o?c?e.replaceChild(i,a):e.insertBefore(i,t):c&&a.remove()}else s=!0}}else e.insertBefore(i,t);return[i]}function Ks(e,n){const t=e.querySelectorAll("*[data-hk]");for(let r=0;r<t.length;r++){const i=t[r],s=i.getAttribute("data-hk");(!n||s.startsWith(n))&&!C.registry.has(s)&&C.registry.set(s,i)}}function Fu(){return C.getNextContextId()}const Bu="http://www.w3.org/2000/svg";function Ra(e,n=!1){return n?document.createElementNS(Bu,e):document.createElement(e)}const Ku=(...e)=>(fu(),Du(...e));function gv(e){const{useShadow:n}=e,t=document.createTextNode(""),r=()=>e.mount||document.body,i=gi();let s,o=!!C.context;return bt(()=>{o&&(gi().user=o=!1),s||(s=ba(i,()=>G(()=>e.children)));const a=r();if(a instanceof HTMLHeadElement){const[c,l]=pe(!1),u=()=>l(!0);jt(d=>Be(a,()=>c()?d():s(),null)),Me(u)}else{const c=Ra(e.isSVG?"g":"div",e.isSVG),l=n&&c.attachShadow?c.attachShadow({mode:"open"}):c;Object.defineProperty(c,"_$host",{get(){return t.parentNode},configurable:!0}),Be(l,s),a.appendChild(c),e.ref&&e.ref(c),Me(()=>a.removeChild(c))}},void 0,{render:!o}),t}function ju(e,n){const t=G(e);return G(()=>{const r=t();switch(typeof r){case"function":return de(()=>r(n));case"string":const i=_u.has(r),s=C.context?Re():Ra(r,i);return Zt(s,n,i),s}})}function Ue(e){const[,n]=qt(e,["component"]);return ju(()=>e.component,n)}function Ia(e){if(Array.isArray(e))return e.flatMap(u=>Ia(u));if(typeof e!="string")return[];const n=[];let t=0,r,i,s,o,a;const c=()=>{for(;t<e.length&&/\s/.test(e.charAt(t));)t+=1;return t<e.length},l=()=>(i=e.charAt(t),i!=="="&&i!==";"&&i!==",");for(;t<e.length;){for(r=t,a=!1;c();)if(i=e.charAt(t),i===","){for(s=t,t+=1,c(),o=t;t<e.length&&l();)t+=1;t<e.length&&e.charAt(t)==="="?(a=!0,t=o,n.push(e.slice(r,s)),r=t):t=s+1}else t+=1;(!a||t>=e.length)&&n.push(e.slice(r,e.length))}return n}function qu(e){return e instanceof Headers?new Headers(e):Array.isArray(e)?new Headers(e):typeof e=="object"?new Headers(e):new Headers}function zu(...e){return e.reduce((n,t)=>{const r=qu(t);for(const[i,s]of r.entries())i==="set-cookie"?Ia(s).forEach(a=>n.append("set-cookie",a)):n.set(i,s);return n},new Headers)}var Uu="Invariant failed";function Ke(e,n){if(!e)throw new Error(Uu)}function wi(e){return e[e.length-1]}function Vu(e){return typeof e=="function"}function St(e,n){return Vu(e)?e(n):e}function $i(e,n){return n.reduce((t,r)=>(t[r]=e[r],t),{})}function qe(e,n){if(e===n)return e;const t=n,r=zs(e)&&zs(t);if(r||js(e)&&js(t)){const i=r?e:Object.keys(e).concat(Object.getOwnPropertySymbols(e)),s=i.length,o=r?t:Object.keys(t).concat(Object.getOwnPropertySymbols(t)),a=o.length,c=r?[]:{};let l=0;for(let u=0;u<a;u++){const d=r?u:o[u];(!r&&i.includes(d)||r)&&e[d]===void 0&&t[d]===void 0?(c[d]=void 0,l++):(c[d]=qe(e[d],t[d]),c[d]===e[d]&&e[d]!==void 0&&l++)}return s===a&&l===s?e:c}return t}function js(e){return tt(e)&&Object.getOwnPropertyNames(e).length===Object.keys(e).length}function tt(e){if(!qs(e))return!1;const n=e.constructor;if(typeof n>"u")return!0;const t=n.prototype;return!(!qs(t)||!t.hasOwnProperty("isPrototypeOf"))}function qs(e){return Object.prototype.toString.call(e)==="[object Object]"}function zs(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Us(e,n){let t=Object.keys(e);return n&&(t=t.filter(r=>e[r]!==void 0)),t}function zt(e,n,t){if(e===n)return!0;if(typeof e!=typeof n)return!1;if(tt(e)&&tt(n)){const r=(t==null?void 0:t.ignoreUndefined)??!0,i=Us(e,r),s=Us(n,r);return!(t!=null&&t.partial)&&i.length!==s.length?!1:s.every(o=>zt(e[o],n[o],t))}return Array.isArray(e)&&Array.isArray(n)?e.length!==n.length?!1:!e.some((r,i)=>!zt(r,n[i],t)):!1}function Dt(e){let n,t;const r=new Promise((i,s)=>{n=i,t=s});return r.status="pending",r.resolve=i=>{r.status="resolved",r.value=i,n(i),e==null||e(i)},r.reject=i=>{r.status="rejected",t(i)},r}const xe={stringify:e=>JSON.stringify(e,function(t,r){const i=this[t],s=Wn.find(o=>o.stringifyCondition(i));return s?s.stringify(i):r}),parse:e=>JSON.parse(e,function(t,r){const i=this[t];if(tt(i)){const s=Wn.find(o=>o.parseCondition(i));if(s)return s.parse(i)}return r}),encode:e=>{if(Array.isArray(e))return e.map(t=>xe.encode(t));if(tt(e))return Object.fromEntries(Object.entries(e).map(([t,r])=>[t,xe.encode(r)]));const n=Wn.find(t=>t.stringifyCondition(e));return n?n.stringify(e):e},decode:e=>{if(tt(e)){const n=Wn.find(t=>t.parseCondition(e));if(n)return n.parse(e)}return Array.isArray(e)?e.map(n=>xe.decode(n)):tt(e)?Object.fromEntries(Object.entries(e).map(([n,t])=>[n,xe.decode(t)])):e}},hn=(e,n,t,r)=>({key:e,stringifyCondition:n,stringify:i=>({[`$${e}`]:t(i)}),parseCondition:i=>Object.hasOwn(i,`$${e}`),parse:i=>r(i[`$${e}`])}),Wn=[hn("undefined",e=>e===void 0,()=>0,()=>{}),hn("date",e=>e instanceof Date,e=>e.toISOString(),e=>new Date(e)),hn("error",e=>e instanceof Error,e=>({...e,message:e.message,stack:void 0,cause:e.cause}),e=>Object.assign(new Error(e.message),e)),hn("formData",e=>e instanceof FormData,e=>{const n={};return e.forEach((t,r)=>{const i=n[r];i!==void 0?Array.isArray(i)?i.push(t):n[r]=[i,t]:n[r]=t}),n},e=>{const n=new FormData;return Object.entries(e).forEach(([t,r])=>{Array.isArray(r)?r.forEach(i=>n.append(t,i)):n.append(t,r)}),n}),hn("bigint",e=>typeof e=="bigint",e=>e.toString(),e=>BigInt(e))];async function Ju(e){var n,t,r;Ke((n=window.__TSR_SSR__)==null?void 0:n.dehydrated);const{manifest:i,dehydratedData:s,lastMatchId:o}=xe.parse(window.__TSR_SSR__.dehydrated);e.ssr={manifest:i,serializer:xe},e.clientSsr={getStreamedValue:l=>{var u;if(e.isServer)return;const d=(u=window.__TSR_SSR__)==null?void 0:u.streamedValues[l];if(d)return d.parsed||(d.parsed=e.ssr.serializer.parse(d.value)),d.parsed}};const a=e.matchRoutes(e.state.location),c=Promise.all(a.map(l=>{const u=e.looseRoutesById[l.routeId];return e.loadRouteChunk(u)}));return a.forEach(l=>{var u;const d=window.__TSR_SSR__.matches.find(h=>h.id===l.id);if(d)return Object.assign(l,d),d.__beforeLoadContext&&(l.__beforeLoadContext=e.ssr.serializer.parse(d.__beforeLoadContext)),d.loaderData&&(l.loaderData=e.ssr.serializer.parse(d.loaderData)),d.error&&(l.error=e.ssr.serializer.parse(d.error)),(u=l.extracted)==null||u.forEach(h=>{xi(l,["loaderData",...h.path],h.value)}),l}),e.__store.setState(l=>({...l,matches:a})),await((r=(t=e.options).hydrate)==null?void 0:r.call(t,s)),await Promise.all(e.state.matches.map(async l=>{var u,d,h,p,m,g;const y=e.looseRoutesById[l.routeId],b=e.state.matches[l.index-1],A=(b==null?void 0:b.context)??e.options.context??{},R={deps:l.loaderDeps,params:l.params,context:A,location:e.state.location,navigate:E=>e.navigate({...E,_fromLocation:e.state.location}),buildLocation:e.buildLocation,cause:l.cause,abortController:l.abortController,preload:!1,matches:a};l.__routeContext=((d=(u=y.options).context)==null?void 0:d.call(u,R))??{},l.context={...A,...l.__routeContext,...l.__beforeLoadContext};const B={matches:e.state.matches,match:l,params:l.params,loaderData:l.loaderData},T=await((p=(h=y.options).head)==null?void 0:p.call(h,B)),P=await((g=(m=y.options).scripts)==null?void 0:g.call(m,B));l.meta=T==null?void 0:T.meta,l.links=T==null?void 0:T.links,l.headScripts=T==null?void 0:T.scripts,l.scripts=P})),a[a.length-1].id!==o?await Promise.all([c,e.load()]):c}function xi(e,n,t){n.length===1&&(e[n[0]]=t);const[r,...i]=n;Array.isArray(e)?xi(e[Number(r)],i,t):tt(e)&&xi(e[r],i,t)}const Hu="modulepreload",Gu=function(e){return"/"+e},Vs={},Ve=function(n,t,r){let i=Promise.resolve();if(t&&t.length>0){let o=function(l){return Promise.all(l.map(u=>Promise.resolve(u).then(d=>({status:"fulfilled",value:d}),d=>({status:"rejected",reason:d}))))};document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),c=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));i=o(t.map(l=>{if(l=Gu(l),l in Vs)return;Vs[l]=!0;const u=l.endsWith(".css"),d=u?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${d}`))return;const h=document.createElement("link");if(h.rel=u?"stylesheet":Hu,u||(h.as="script"),h.crossOrigin="",h.href=l,c&&h.setAttribute("nonce",c),document.head.appendChild(h),u)return new Promise((p,m)=>{h.addEventListener("load",p),h.addEventListener("error",()=>m(new Error(`Unable to preload CSS for ${l}`)))})}))}function s(o){const a=new Event("vite:preloadError",{cancelable:!0});if(a.payload=o,window.dispatchEvent(a),!a.defaultPrevented)throw o}return i.then(o=>{for(const a of o||[])a.status==="rejected"&&s(a.reason);return n().catch(s)})};const Ut=new WeakMap,ir=new WeakMap,mr={current:[]};let Yr=!1,$n=0;const mn=new Set,Yn=new Map;function Oa(e){const n=Array.from(e).sort((t,r)=>t instanceof Vt&&t.options.deps.includes(r)?1:r instanceof Vt&&r.options.deps.includes(t)?-1:0);for(const t of n){if(mr.current.includes(t))continue;mr.current.push(t),t.recompute();const r=ir.get(t);if(r)for(const i of r){const s=Ut.get(i);s&&Oa(s)}}}function Wu(e){e.listeners.forEach(n=>n({prevVal:e.prevState,currentVal:e.state}))}function Yu(e){e.listeners.forEach(n=>n({prevVal:e.prevState,currentVal:e.state}))}function Na(e){if($n>0&&!Yn.has(e)&&Yn.set(e,e.prevState),mn.add(e),!($n>0)&&!Yr)try{for(Yr=!0;mn.size>0;){const n=Array.from(mn);mn.clear();for(const t of n){const r=Yn.get(t)??t.prevState;t.prevState=r,Wu(t)}for(const t of n){const r=Ut.get(t);r&&(mr.current.push(t),Oa(r))}for(const t of n){const r=Ut.get(t);if(r)for(const i of r)Yu(i)}}}finally{Yr=!1,mr.current=[],Yn.clear()}}function Js(e){$n++;try{e()}finally{if($n--,$n===0){const n=Array.from(mn)[0];n&&Na(n)}}}function Zu(e){return typeof e=="function"}class Si{constructor(n,t){this.listeners=new Set,this.subscribe=r=>{var i,s;this.listeners.add(r);const o=(s=(i=this.options)==null?void 0:i.onSubscribe)==null?void 0:s.call(i,r,this);return()=>{this.listeners.delete(r),o==null||o()}},this.prevState=n,this.state=n,this.options=t}setState(n){var t,r,i;this.prevState=this.state,(t=this.options)!=null&&t.updateFn?this.state=this.options.updateFn(this.prevState)(n):Zu(n)?this.state=n(this.prevState):this.state=n,(i=(r=this.options)==null?void 0:r.onUpdate)==null||i.call(r),Na(this)}}class Vt{constructor(n){this.listeners=new Set,this._subscriptions=[],this.lastSeenDepValues=[],this.getDepVals=()=>{const t=[],r=[];for(const i of this.options.deps)t.push(i.prevState),r.push(i.state);return this.lastSeenDepValues=r,{prevDepVals:t,currDepVals:r,prevVal:this.prevState??void 0}},this.recompute=()=>{var t,r;this.prevState=this.state;const{prevDepVals:i,currDepVals:s,prevVal:o}=this.getDepVals();this.state=this.options.fn({prevDepVals:i,currDepVals:s,prevVal:o}),(r=(t=this.options).onUpdate)==null||r.call(t)},this.checkIfRecalculationNeededDeeply=()=>{for(const s of this.options.deps)s instanceof Vt&&s.checkIfRecalculationNeededDeeply();let t=!1;const r=this.lastSeenDepValues,{currDepVals:i}=this.getDepVals();for(let s=0;s<i.length;s++)if(i[s]!==r[s]){t=!0;break}t&&this.recompute()},this.mount=()=>(this.registerOnGraph(),this.checkIfRecalculationNeededDeeply(),()=>{this.unregisterFromGraph();for(const t of this._subscriptions)t()}),this.subscribe=t=>{var r,i;this.listeners.add(t);const s=(i=(r=this.options).onSubscribe)==null?void 0:i.call(r,t,this);return()=>{this.listeners.delete(t),s==null||s()}},this.options=n,this.state=n.fn({prevDepVals:void 0,prevVal:void 0,currDepVals:this.getDepVals().currDepVals})}registerOnGraph(n=this.options.deps){for(const t of n)if(t instanceof Vt)t.registerOnGraph(),this.registerOnGraph(t.options.deps);else if(t instanceof Si){let r=Ut.get(t);r||(r=new Set,Ut.set(t,r)),r.add(this);let i=ir.get(this);i||(i=new Set,ir.set(this,i)),i.add(t)}}unregisterFromGraph(n=this.options.deps){for(const t of n)if(t instanceof Vt)this.unregisterFromGraph(t.options.deps);else if(t instanceof Si){const r=Ut.get(t);r&&r.delete(this);const i=ir.get(this);i&&i.delete(t)}}}const gt="__TSR_index",Hs="popstate",Gs="beforeunload";function Ma(e){let n=e.getLocation();const t=new Set,r=o=>{n=e.getLocation(),t.forEach(a=>a({location:n,action:o}))},i=o=>{e.notifyOnIndexChange??!0?r(o):n=e.getLocation()},s=async({task:o,navigateOpts:a,...c})=>{var l,u;if((a==null?void 0:a.ignoreBlocker)??!1){o();return}const h=((l=e.getBlockers)==null?void 0:l.call(e))??[],p=c.type==="PUSH"||c.type==="REPLACE";if(typeof document<"u"&&h.length&&p)for(const m of h){const g=_n(c.path,c.state);if(await m.blockerFn({currentLocation:n,nextLocation:g,action:c.type})){(u=e.onBlocked)==null||u.call(e);return}}o()};return{get location(){return n},get length(){return e.getLength()},subscribers:t,subscribe:o=>(t.add(o),()=>{t.delete(o)}),push:(o,a,c)=>{const l=n.state[gt];a=ki(l+1,a),s({task:()=>{e.pushState(o,a),r({type:"PUSH"})},navigateOpts:c,type:"PUSH",path:o,state:a})},replace:(o,a,c)=>{const l=n.state[gt];a=ki(l,a),s({task:()=>{e.replaceState(o,a),r({type:"REPLACE"})},navigateOpts:c,type:"REPLACE",path:o,state:a})},go:(o,a)=>{s({task:()=>{e.go(o),i({type:"GO",index:o})},navigateOpts:a,type:"GO"})},back:o=>{s({task:()=>{e.back((o==null?void 0:o.ignoreBlocker)??!1),i({type:"BACK"})},navigateOpts:o,type:"BACK"})},forward:o=>{s({task:()=>{e.forward((o==null?void 0:o.ignoreBlocker)??!1),i({type:"FORWARD"})},navigateOpts:o,type:"FORWARD"})},canGoBack:()=>n.state[gt]!==0,createHref:o=>e.createHref(o),block:o=>{var a;if(!e.setBlockers)return()=>{};const c=((a=e.getBlockers)==null?void 0:a.call(e))??[];return e.setBlockers([...c,o]),()=>{var l,u;const d=((l=e.getBlockers)==null?void 0:l.call(e))??[];(u=e.setBlockers)==null||u.call(e,d.filter(h=>h!==o))}},flush:()=>{var o;return(o=e.flush)==null?void 0:o.call(e)},destroy:()=>{var o;return(o=e.destroy)==null?void 0:o.call(e)},notify:r}}function ki(e,n){n||(n={});const t=Zi();return{...n,key:t,__TSR_key:t,[gt]:e}}function Xu(e){var n,t;const r=typeof document<"u"?window:void 0,i=r.history.pushState,s=r.history.replaceState;let o=[];const a=()=>o,c=w=>o=w,l=w=>w,u=()=>_n(`${r.location.pathname}${r.location.search}${r.location.hash}`,r.history.state);if(!((n=r.history.state)!=null&&n.__TSR_key)&&!((t=r.history.state)!=null&&t.key)){const w=Zi();r.history.replaceState({[gt]:0,key:w,__TSR_key:w},"")}let d=u(),h,p=!1,m=!1,g=!1,y=!1;const b=()=>d;let A,R;const B=()=>{A&&(S._ignoreSubscribers=!0,(A.isPush?r.history.pushState:r.history.replaceState)(A.state,"",A.href),S._ignoreSubscribers=!1,A=void 0,R=void 0,h=void 0)},T=(w,_,I)=>{const N=l(_);R||(h=d),d=_n(_,I),A={href:N,state:I,isPush:(A==null?void 0:A.isPush)||w==="push"},R||(R=Promise.resolve().then(()=>B()))},P=w=>{d=u(),S.notify({type:w})},E=async()=>{if(m){m=!1;return}const w=u(),_=w.state[gt]-d.state[gt],I=_===1,N=_===-1,F=!I&&!N||p;p=!1;const J=F?"GO":N?"BACK":"FORWARD",z=F?{type:"GO",index:_}:{type:N?"BACK":"FORWARD"};if(g)g=!1;else{const M=a();if(typeof document<"u"&&M.length){for(const j of M)if(await j.blockerFn({currentLocation:d,nextLocation:w,action:J})){m=!0,r.history.go(1),S.notify(z);return}}}d=u(),S.notify(z)},x=w=>{if(y){y=!1;return}let _=!1;const I=a();if(typeof document<"u"&&I.length)for(const N of I){const F=N.enableBeforeUnload??!0;if(F===!0){_=!0;break}if(typeof F=="function"&&F()===!0){_=!0;break}}if(_)return w.preventDefault(),w.returnValue=""},S=Ma({getLocation:b,getLength:()=>r.history.length,pushState:(w,_)=>T("push",w,_),replaceState:(w,_)=>T("replace",w,_),back:w=>(w&&(g=!0),y=!0,r.history.back()),forward:w=>{w&&(g=!0),y=!0,r.history.forward()},go:w=>{p=!0,r.history.go(w)},createHref:w=>l(w),flush:B,destroy:()=>{r.history.pushState=i,r.history.replaceState=s,r.removeEventListener(Gs,x,{capture:!0}),r.removeEventListener(Hs,E)},onBlocked:()=>{h&&d!==h&&(d=h)},getBlockers:a,setBlockers:c,notifyOnIndexChange:!1});return r.addEventListener(Gs,x,{capture:!0}),r.addEventListener(Hs,E),r.history.pushState=function(...w){const _=i.apply(r.history,w);return S._ignoreSubscribers||P("PUSH"),_},r.history.replaceState=function(...w){const _=s.apply(r.history,w);return S._ignoreSubscribers||P("REPLACE"),_},S}function Qu(e={initialEntries:["/"]}){const n=e.initialEntries;let t=e.initialIndex?Math.min(Math.max(e.initialIndex,0),n.length-1):n.length-1;const r=n.map((s,o)=>ki(o,void 0));return Ma({getLocation:()=>_n(n[t],r[t]),getLength:()=>n.length,pushState:(s,o)=>{t<n.length-1&&(n.splice(t+1),r.splice(t+1)),r.push(o),n.push(s),t=Math.max(n.length-1,0)},replaceState:(s,o)=>{r[t]=o,n[t]=s},back:()=>{t=Math.max(t-1,0)},forward:()=>{t=Math.min(t+1,n.length-1)},go:s=>{t=Math.min(Math.max(t+s,0),n.length-1)},createHref:s=>s})}function _n(e,n){const t=e.indexOf("#"),r=e.indexOf("?"),i=Zi();return{href:e,pathname:e.substring(0,t>0?r>0?Math.min(t,r):t:r>0?r:e.length),hash:t>-1?e.substring(t):"",search:r>-1?e.slice(r,t===-1?void 0:t):"",state:n||{[gt]:0,key:i,__TSR_key:i}}}function Zi(){return(Math.random()+1).toString(36).substring(7)}function Ge(e){return Dr(e.filter(n=>n!==void 0).join("/"))}function Dr(e){return e.replace(/\/{2,}/g,"/")}function Xi(e){return e==="/"?e:e.replace(/^\/{1,}/,"")}function Qt(e){return e==="/"?e:e.replace(/\/{1,}$/,"")}function Zr(e){return Qt(Xi(e))}function gr(e,n){return e!=null&&e.endsWith("/")&&e!=="/"&&e!==`${n}/`?e.slice(0,-1):e}function ed(e,n,t){return gr(e,t)===gr(n,t)}function td({basepath:e,base:n,to:t,trailingSlash:r="never",caseSensitive:i}){var s,o;n=yr(e,n,i),t=yr(e,t,i);let a=en(n);const c=en(t);a.length>1&&((s=wi(a))==null?void 0:s.value)==="/"&&a.pop(),c.forEach((d,h)=>{d.value==="/"?h?h===c.length-1&&a.push(d):a=[d]:d.value===".."?a.pop():d.value==="."||a.push(d)}),a.length>1&&(((o=wi(a))==null?void 0:o.value)==="/"?r==="never"&&a.pop():r==="always"&&a.push({type:"pathname",value:"/"}));const l=a.map(d=>{if(d.type==="param"){const h=d.value.substring(1);if(d.prefixSegment&&d.suffixSegment)return`${d.prefixSegment}{$${h}}${d.suffixSegment}`;if(d.prefixSegment)return`${d.prefixSegment}{$${h}}`;if(d.suffixSegment)return`{$${h}}${d.suffixSegment}`}if(d.type==="wildcard"){if(d.prefixSegment&&d.suffixSegment)return`${d.prefixSegment}{$}${d.suffixSegment}`;if(d.prefixSegment)return`${d.prefixSegment}{$}`;if(d.suffixSegment)return`{$}${d.suffixSegment}`}return d.value}),u=Ge([e,...l]);return Dr(u)}const nd=/^\$.{1,}$/,rd=/^(.*?)\{(\$[a-zA-Z_$][a-zA-Z0-9_$]*)\}(.*)$/,id=/^\$$/,sd=/^(.*?)\{\$\}(.*)$/;function en(e){if(!e)return[];e=Dr(e);const n=[];if(e.slice(0,1)==="/"&&(e=e.substring(1),n.push({type:"pathname",value:"/"})),!e)return n;const t=e.split("/").filter(Boolean);return n.push(...t.map(r=>{const i=r.match(sd);if(i){const o=i[1],a=i[2];return{type:"wildcard",value:"$",prefixSegment:o||void 0,suffixSegment:a||void 0}}const s=r.match(rd);if(s){const o=s[1],a=s[2],c=s[3];return{type:"param",value:""+a,prefixSegment:o||void 0,suffixSegment:c||void 0}}return nd.test(r)?{type:"param",value:"$"+r.substring(1),prefixSegment:void 0,suffixSegment:void 0}:id.test(r)?{type:"wildcard",value:"$",prefixSegment:void 0,suffixSegment:void 0}:{type:"pathname",value:r.includes("%25")?r.split("%25").map(o=>decodeURI(o)).join("%25"):decodeURI(r)}})),e.slice(-1)==="/"&&(e=e.substring(1),n.push({type:"pathname",value:"/"})),n}function Xr({path:e,params:n,leaveWildcards:t,leaveParams:r,decodeCharMap:i}){const s=en(e);function o(u){const d=n[u],h=typeof d=="string";return["*","_splat"].includes(u)?h?encodeURI(d):d:h?od(d,i):d}let a=!1;const c={},l=Ge(s.map(u=>{if(u.type==="wildcard"){c._splat=n._splat;const d=u.prefixSegment||"",h=u.suffixSegment||"",p=o("_splat");return t?`${d}${u.value}${p??""}${h}`:`${d}${p}${h}`}if(u.type==="param"){const d=u.value.substring(1);!a&&!(d in n)&&(a=!0),c[d]=n[d];const h=u.prefixSegment||"",p=u.suffixSegment||"";if(r){const m=o(u.value);return`${h}${u.value}${m??""}${p}`}return`${h}${o(d)??"undefined"}${p}`}return u.value}));return{usedParams:c,interpolatedPath:l,isMissingParams:a}}function od(e,n){let t=encodeURIComponent(e);if(n)for(const[r,i]of n)t=t.replaceAll(r,i);return t}function _i(e,n,t){const r=ad(e,n,t);if(!(t.to&&!r))return r??{}}function yr(e,n,t=!1){const r=t?e:e.toLowerCase(),i=t?n:n.toLowerCase();switch(!0){case r==="/":return n;case i===r:return"";case n.length<e.length:return n;case i[r.length]!=="/":return n;case i.startsWith(r):return n.slice(e.length);default:return n}}function ad(e,n,t){if(e!=="/"&&!n.startsWith(e))return;n=yr(e,n,t.caseSensitive);const r=yr(e,`${t.to??"$"}`,t.caseSensitive),i=en(n),s=en(r);n.startsWith("/")||i.unshift({type:"pathname",value:"/"}),r.startsWith("/")||s.unshift({type:"pathname",value:"/"});const o={};return(()=>{var c;for(let l=0;l<Math.max(i.length,s.length);l++){const u=i[l],d=s[l],h=l>=i.length-1,p=l>=s.length-1;if(d){if(d.type==="wildcard"){const m=i.slice(l);let g;if(d.prefixSegment||d.suffixSegment){if(!u)return!1;const y=d.prefixSegment||"",b=d.suffixSegment||"",A=u.value;if("prefixSegment"in d&&!A.startsWith(y)||"suffixSegment"in d&&!((c=i[i.length-1])!=null&&c.value.endsWith(b)))return!1;let R=decodeURI(Ge(m.map(B=>B.value)));y&&R.startsWith(y)&&(R=R.slice(y.length)),b&&R.endsWith(b)&&(R=R.slice(0,R.length-b.length)),g=R}else g=decodeURI(Ge(m.map(y=>y.value)));return o["*"]=g,o._splat=g,!0}if(d.type==="pathname"){if(d.value==="/"&&!(u!=null&&u.value))return!0;if(u){if(t.caseSensitive){if(d.value!==u.value)return!1}else if(d.value.toLowerCase()!==u.value.toLowerCase())return!1}}if(!u)return!1;if(d.type==="param"){if(u.value==="/")return!1;let m;if(d.prefixSegment||d.suffixSegment){const g=d.prefixSegment||"",y=d.suffixSegment||"",b=u.value;if(g&&!b.startsWith(g)||y&&!b.endsWith(y))return!1;let A=b;g&&A.startsWith(g)&&(A=A.slice(g.length)),y&&A.endsWith(y)&&(A=A.slice(0,A.length-y.length)),m=decodeURIComponent(A)}else m=decodeURIComponent(u.value);o[d.value.substring(1)]=m}}if(!h&&p)return o["**"]=Ge(i.slice(l+1).map(m=>m.value)),!!t.fuzzy&&(d==null?void 0:d.value)!=="/"}return!0})()?o:void 0}function _e(e){return!!(e!=null&&e.isNotFound)}function cd(){try{if(typeof window<"u"&&typeof window.sessionStorage=="object")return window.sessionStorage}catch{return}}const br="tsr-scroll-restoration-v1_3",ld=(e,n)=>{let t;return(...r)=>{t||(t=setTimeout(()=>{e(...r),t=null},n))}};function ud(){const e=cd();if(!e)return;const n=e.getItem(br);let t=n?JSON.parse(n):{};return{state:t,set:r=>(t=St(r,t)||t,e.setItem(br,JSON.stringify(t)))}}const Qr=ud(),Ai=e=>e.state.__TSR_key||e.href;function dd(e){const n=[];let t;for(;t=e.parentNode;)n.unshift(`${e.tagName}:nth-child(${[].indexOf.call(t.children,e)+1})`),e=t;return`${n.join(" > ")}`.toLowerCase()}let vr=!1;function Ea(e,n,t,r,i){var s;let o;try{o=JSON.parse(sessionStorage.getItem(e)||"{}")}catch(l){console.error(l);return}const a=n||((s=window.history.state)==null?void 0:s.key),c=o[a];vr=!0,(()=>{if(r&&c){for(const u in c){const d=c[u];if(u==="window")window.scrollTo({top:d.scrollY,left:d.scrollX,behavior:t});else if(u){const h=document.querySelector(u);h&&(h.scrollLeft=d.scrollX,h.scrollTop=d.scrollY)}}return}const l=window.location.hash.split("#")[1];if(l){const u=(window.history.state||{}).__hashScrollIntoViewOptions??!0;if(u){const d=document.getElementById(l);d&&d.scrollIntoView(u)}return}["window",...(i==null?void 0:i.filter(u=>u!=="window"))??[]].forEach(u=>{const d=u==="window"?window:typeof u=="function"?u():document.querySelector(u);d&&d.scrollTo({top:0,left:0,behavior:t})})})(),vr=!1}function fd(e,n){if(Qr===void 0||((e.options.scrollRestoration??!1)&&(e.isScrollRestoring=!0),typeof document>"u"||e.isScrollRestorationSetup))return;e.isScrollRestorationSetup=!0,vr=!1;const r=e.options.getScrollRestorationKey||Ai;window.history.scrollRestoration="manual";const i=s=>{if(vr||!e.isScrollRestoring)return;let o="";if(s.target===document||s.target===window)o="window";else{const c=s.target.getAttribute("data-scroll-restoration-id");c?o=`[data-scroll-restoration-id="${c}"]`:o=dd(s.target)}const a=r(e.state.location);Qr.set(c=>{const l=c[a]=c[a]||{},u=l[o]=l[o]||{};if(o==="window")u.scrollX=window.scrollX||0,u.scrollY=window.scrollY||0;else if(o){const d=document.querySelector(o);d&&(u.scrollX=d.scrollLeft||0,u.scrollY=d.scrollTop||0)}return c})};typeof document<"u"&&document.addEventListener("scroll",ld(i,100),!0),e.subscribe("onRendered",s=>{const o=r(s.toLocation);if(!e.resetNextScroll){e.resetNextScroll=!0;return}Ea(br,o,e.options.scrollRestorationBehavior||void 0,e.isScrollRestoring||void 0,e.options.scrollToTopSelectors||void 0),e.isScrollRestoring&&Qr.set(a=>(a[o]=a[o]||{},a))})}function hd(e){if(typeof document<"u"&&document.querySelector){const n=e.state.location.state.__hashScrollIntoViewOptions??!0;if(n&&e.state.location.hash!==""){const t=document.getElementById(e.state.location.hash);t&&t.scrollIntoView(n)}}}function La(e,n){const t=Object.entries(e).flatMap(([i,s])=>Array.isArray(s)?s.map(o=>[i,String(o)]):[[i,String(s)]]);return""+new URLSearchParams(t).toString()}function ei(e){return e?e==="false"?!1:e==="true"?!0:+e*0===0&&+e+""===e?+e:e:""}function pd(e,n){const t=e;return[...new URLSearchParams(t).entries()].reduce((s,[o,a])=>{const c=s[o];return c==null?s[o]=ei(a):s[o]=Array.isArray(c)?[...c,ei(a)]:[c,ei(a)],s},{})}const md=yd(JSON.parse),gd=bd(JSON.stringify,JSON.parse);function yd(e){return n=>{n.substring(0,1)==="?"&&(n=n.substring(1));const t=pd(n);for(const r in t){const i=t[r];if(typeof i=="string")try{t[r]=e(i)}catch{}}return t}}function bd(e,n){function t(r){if(typeof r=="object"&&r!==null)try{return e(r)}catch{}else if(typeof r=="string"&&typeof n=="function")try{return n(r),e(r)}catch{}return r}return r=>{r={...r},Object.keys(r).forEach(s=>{const o=r[s];typeof o>"u"||o===void 0?delete r[s]:r[s]=t(o)});const i=La(r).toString();return i?`?${i}`:""}}const Te="__root__";function Qi(e){if(e.statusCode=e.statusCode||e.code||307,!e.reloadDocument)try{new URL(`${e.href}`),e.reloadDocument=!0}catch{}const n=new Headers(e.headers||{});e.href&&n.get("Location")===null&&n.set("Location",e.href);const t=new Response(null,{status:e.statusCode,headers:n});if(t.options=e,e.throw)throw t;return t}function De(e){return e instanceof Response&&!!e.options}function vd(e){if(typeof e=="object"&&e.isSerializedRedirect)return Qi(e)}function kt(e){const n=e.resolvedLocation,t=e.location,r=(n==null?void 0:n.pathname)!==t.pathname,i=(n==null?void 0:n.href)!==t.href,s=(n==null?void 0:n.hash)!==t.hash;return{fromLocation:n,toLocation:t,pathChanged:r,hrefChanged:i,hashChanged:s}}class wd{constructor(n){this.tempLocationKey=`${Math.round(Math.random()*1e7)}`,this.resetNextScroll=!0,this.shouldViewTransition=void 0,this.isViewTransitionTypesSupported=void 0,this.subscribers=new Set,this.isScrollRestoring=!1,this.isScrollRestorationSetup=!1,this.startTransition=t=>t(),this.isShell=!1,this.update=t=>{var r;t.notFoundRoute&&console.warn("The notFoundRoute API is deprecated and will be removed in the next major version. See https://tanstack.com/router/v1/docs/framework/react/guide/not-found-errors#migrating-from-notfoundroute for more info.");const i=this.options;this.options={...this.options,...t},this.isServer=this.options.isServer??typeof document>"u",this.pathParamsDecodeCharMap=this.options.pathParamsAllowedCharacters?new Map(this.options.pathParamsAllowedCharacters.map(s=>[encodeURIComponent(s),s])):void 0,(!this.basepath||t.basepath&&t.basepath!==i.basepath)&&(t.basepath===void 0||t.basepath===""||t.basepath==="/"?this.basepath="/":this.basepath=`/${Zr(t.basepath)}`),(!this.history||this.options.history&&this.options.history!==this.history)&&(this.history=this.options.history??(this.isServer?Qu({initialEntries:[this.basepath||"/"]}):Xu()),this.latestLocation=this.parseLocation()),this.options.routeTree!==this.routeTree&&(this.routeTree=this.options.routeTree,this.buildRouteTree()),this.__store||(this.__store=new Si(xd(this.latestLocation),{onUpdate:()=>{this.__store.state={...this.state,cachedMatches:this.state.cachedMatches.filter(s=>!["redirected"].includes(s.status))}}}),fd(this)),typeof window<"u"&&"CSS"in window&&typeof((r=window.CSS)==null?void 0:r.supports)=="function"&&(this.isViewTransitionTypesSupported=window.CSS.supports("selector(:active-view-transition-type(a)")),this.latestLocation.search.__TSS_SHELL&&(this.isShell=!0)},this.buildRouteTree=()=>{const{routesById:t,routesByPath:r,flatRoutes:i}=Sd({routeTree:this.routeTree,initRoute:(o,a)=>{o.init({originalIndex:a,defaultSsr:this.options.defaultSsr})}});this.routesById=t,this.routesByPath=r,this.flatRoutes=i;const s=this.options.notFoundRoute;s&&(s.init({originalIndex:99999999999,defaultSsr:this.options.defaultSsr}),this.routesById[s.id]=s)},this.subscribe=(t,r)=>{const i={eventType:t,fn:r};return this.subscribers.add(i),()=>{this.subscribers.delete(i)}},this.emit=t=>{this.subscribers.forEach(r=>{r.eventType===t.type&&r.fn(t)})},this.parseLocation=(t,r)=>{const i=({pathname:c,search:l,hash:u,state:d})=>{const h=this.options.parseSearch(l),p=this.options.stringifySearch(h);return{pathname:c,searchStr:p,search:qe(t==null?void 0:t.search,h),hash:u.split("#").reverse()[0]??"",href:`${c}${p}${u}`,state:qe(t==null?void 0:t.state,d)}},s=i(r??this.history.location),{__tempLocation:o,__tempKey:a}=s.state;if(o&&(!a||a===this.tempLocationKey)){const c=i(o);return c.state.key=s.state.key,c.state.__TSR_key=s.state.__TSR_key,delete c.state.__tempLocation,{...c,maskedLocation:s}}return s},this.resolvePathWithBase=(t,r)=>td({basepath:this.basepath,base:t,to:Dr(r),trailingSlash:this.options.trailingSlash,caseSensitive:this.options.caseSensitive}),this.matchRoutes=(t,r,i)=>typeof t=="string"?this.matchRoutesInternal({pathname:t,search:r},i):this.matchRoutesInternal(t,r),this.getMatchedRoutes=(t,r)=>kd({pathname:t,routePathname:r,basepath:this.basepath,caseSensitive:this.options.caseSensitive,routesByPath:this.routesByPath,routesById:this.routesById,flatRoutes:this.flatRoutes}),this.cancelMatch=t=>{const r=this.getMatch(t);r&&(r.abortController.abort(),clearTimeout(r.pendingTimeout))},this.cancelMatches=()=>{var t;(t=this.state.pendingMatches)==null||t.forEach(r=>{this.cancelMatch(r.id)})},this.buildLocation=t=>{const r=(s={})=>{var o;const a=s._fromLocation||this.latestLocation,c=this.matchRoutes(a,{_buildLocation:!0}),l=wi(c);let u=l.fullPath;s.unsafeRelative==="path"?u=a.pathname:s.to&&s.from&&(u=s.from,[...c].reverse().find(E=>E.fullPath===u||E.fullPath===Ge([u,"/"]))||console.warn(`Could not find match for from: ${s.from}`));const d=l.search,h={...l.params},p=s.to?this.resolvePathWithBase(u,`${s.to}`):this.resolvePathWithBase(u,".");let m=(s.params??!0)===!0?h:{...h,...St(s.params,h)};const g=this.matchRoutes(p,{},{_buildLocation:!0}).map(P=>this.looseRoutesById[P.routeId]);Object.keys(m).length>0&&g.map(P=>{var E;return((E=P.options.params)==null?void 0:E.stringify)??P.options.stringifyParams}).filter(Boolean).forEach(P=>{m={...m,...P(m)}});const y=Xr({path:p,params:m??{},leaveWildcards:!1,leaveParams:t.leaveParams,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath;let b=d;if(t._includeValidateSearch&&((o=this.options.search)!=null&&o.strict)){let P={};g.forEach(E=>{try{E.options.validateSearch&&(P={...P,...Ci(E.options.validateSearch,{...P,...b})??{}})}catch{}}),b=P}b=_d({search:b,dest:s,destRoutes:g,_includeValidateSearch:t._includeValidateSearch}),b=qe(d,b);const A=this.options.stringifySearch(b),R=s.hash===!0?a.hash:s.hash?St(s.hash,a.hash):void 0,B=R?`#${R}`:"";let T=s.state===!0?a.state:s.state?St(s.state,a.state):{};return T=qe(a.state,T),{pathname:y,search:b,searchStr:A,state:T,hash:R??"",href:`${y}${A}${B}`,unmaskOnReload:s.unmaskOnReload}},i=(s={},o)=>{var a;const c=r(s);let l=o?r(o):void 0;if(!l){let u={};const d=(a=this.options.routeMasks)==null?void 0:a.find(h=>{const p=_i(this.basepath,c.pathname,{to:h.from,caseSensitive:!1,fuzzy:!1});return p?(u=p,!0):!1});if(d){const{from:h,...p}=d;o={...$i(t,["from"]),...p,params:u},l=r(o)}}if(l){const u=r(o);c.maskedLocation=u}return c};return t.mask?i(t,{...$i(t,["from"]),...t.mask}):i(t)},this.commitLocation=({viewTransition:t,ignoreBlocker:r,...i})=>{const s=()=>{const c=["key","__TSR_key","__TSR_index","__hashScrollIntoViewOptions"];c.forEach(u=>{i.state[u]=this.latestLocation.state[u]});const l=zt(i.state,this.latestLocation.state);return c.forEach(u=>{delete i.state[u]}),l},o=this.latestLocation.href===i.href,a=this.commitLocationPromise;if(this.commitLocationPromise=Dt(()=>{a==null||a.resolve()}),o&&s())this.load();else{let{maskedLocation:c,hashScrollIntoView:l,...u}=i;c&&(u={...c,state:{...c.state,__tempKey:void 0,__tempLocation:{...u,search:u.searchStr,state:{...u.state,__tempKey:void 0,__tempLocation:void 0,__TSR_key:void 0,key:void 0}}}},(u.unmaskOnReload??this.options.unmaskOnReload??!1)&&(u.state.__tempKey=this.tempLocationKey)),u.state.__hashScrollIntoViewOptions=l??this.options.defaultHashScrollIntoView??!0,this.shouldViewTransition=t,this.history[i.replace?"replace":"push"](u.href,u.state,{ignoreBlocker:r})}return this.resetNextScroll=i.resetScroll??!0,this.history.subscribers.size||this.load(),this.commitLocationPromise},this.buildAndCommitLocation=({replace:t,resetScroll:r,hashScrollIntoView:i,viewTransition:s,ignoreBlocker:o,href:a,...c}={})=>{if(a){const u=this.history.location.state.__TSR_index,d=_n(a,{__TSR_index:t?u:u+1});c.to=d.pathname,c.search=this.options.parseSearch(d.search),c.hash=d.hash.slice(1)}const l=this.buildLocation({...c,_includeValidateSearch:!0});return this.commitLocation({...l,viewTransition:s,replace:t,resetScroll:r,hashScrollIntoView:i,ignoreBlocker:o})},this.navigate=({to:t,reloadDocument:r,href:i,...s})=>{if(!r&&i)try{new URL(`${i}`),r=!0}catch{}if(r){if(!i){const o=this.buildLocation({to:t,...s});i=this.history.createHref(o.href)}s.replace?window.location.replace(i):window.location.href=i;return}return this.buildAndCommitLocation({...s,href:i,to:t})},this.beforeLoad=()=>{if(this.cancelMatches(),this.latestLocation=this.parseLocation(this.latestLocation),this.isServer){const r=this.buildLocation({to:this.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});if(Zr(this.latestLocation.href)!==Zr(r.href))throw Qi({href:r.href})}const t=this.matchRoutes(this.latestLocation);this.__store.setState(r=>({...r,status:"pending",isLoading:!0,location:this.latestLocation,pendingMatches:t,cachedMatches:r.cachedMatches.filter(i=>t.find(o=>o.id===i.id)?i.status==="success"&&(i.isFetching||i.loaderData!==void 0):!0)}))},this.load=async t=>{let r,i,s;for(s=new Promise(o=>{this.startTransition(async()=>{var a;try{this.beforeLoad();const c=this.latestLocation,l=this.state.resolvedLocation;this.state.redirect||this.emit({type:"onBeforeNavigate",...kt({resolvedLocation:l,location:c})}),this.emit({type:"onBeforeLoad",...kt({resolvedLocation:l,location:c})}),await this.loadMatches({sync:t==null?void 0:t.sync,matches:this.state.pendingMatches,location:c,onReady:async()=>{this.startViewTransition(async()=>{let u,d,h;Js(()=>{this.__store.setState(p=>{const m=p.matches,g=p.pendingMatches||p.matches;return u=m.filter(y=>!g.find(b=>b.id===y.id)),d=g.filter(y=>!m.find(b=>b.id===y.id)),h=m.filter(y=>g.find(b=>b.id===y.id)),{...p,isLoading:!1,loadedAt:Date.now(),matches:g,pendingMatches:void 0,cachedMatches:[...p.cachedMatches,...u.filter(y=>y.status!=="error")]}}),this.clearExpiredCache()}),[[u,"onLeave"],[d,"onEnter"],[h,"onStay"]].forEach(([p,m])=>{p.forEach(g=>{var y,b;(b=(y=this.looseRoutesById[g.routeId].options)[m])==null||b.call(y,g)})})})}})}catch(c){De(c)?(r=c,this.isServer||this.navigate({...r.options,replace:!0,ignoreBlocker:!0})):_e(c)&&(i=c),this.__store.setState(l=>({...l,statusCode:r?r.status:i?404:l.matches.some(u=>u.status==="error")?500:200,redirect:r}))}this.latestLoadPromise===s&&((a=this.commitLocationPromise)==null||a.resolve(),this.latestLoadPromise=void 0,this.commitLocationPromise=void 0),o()})}),this.latestLoadPromise=s,await s;this.latestLoadPromise&&s!==this.latestLoadPromise;)await this.latestLoadPromise;this.hasNotFoundMatch()&&this.__store.setState(o=>({...o,statusCode:404}))},this.startViewTransition=t=>{const r=this.shouldViewTransition??this.options.defaultViewTransition;if(delete this.shouldViewTransition,r&&typeof document<"u"&&"startViewTransition"in document&&typeof document.startViewTransition=="function"){let i;if(typeof r=="object"&&this.isViewTransitionTypesSupported){const s=this.latestLocation,o=this.state.resolvedLocation,a=typeof r.types=="function"?r.types(kt({resolvedLocation:o,location:s})):r.types;i={update:t,types:a}}else i=t;document.startViewTransition(i)}else t()},this.updateMatch=(t,r)=>{var i;let s;const o=(i=this.state.pendingMatches)==null?void 0:i.find(u=>u.id===t),a=this.state.matches.find(u=>u.id===t),c=this.state.cachedMatches.find(u=>u.id===t),l=o?"pendingMatches":a?"matches":c?"cachedMatches":"";return l&&this.__store.setState(u=>{var d;return{...u,[l]:(d=u[l])==null?void 0:d.map(h=>h.id===t?s=r(h):h)}}),s},this.getMatch=t=>[...this.state.cachedMatches,...this.state.pendingMatches??[],...this.state.matches].find(r=>r.id===t),this.loadMatches=async({location:t,matches:r,preload:i,onReady:s,updateMatch:o=this.updateMatch,sync:a})=>{let c,l=!1;const u=async()=>{l||(l=!0,await(s==null?void 0:s()))},d=p=>!!(i&&!this.state.matches.find(m=>m.id===p)),h=(p,m)=>{var g,y,b,A;if(De(m)||_e(m)){if(De(m)&&m.redirectHandled&&!m.options.reloadDocument)throw m;if((g=p.beforeLoadPromise)==null||g.resolve(),(y=p.loaderPromise)==null||y.resolve(),o(p.id,R=>({...R,status:De(m)?"redirected":_e(m)?"notFound":"error",isFetching:!1,error:m,beforeLoadPromise:void 0,loaderPromise:void 0})),m.routeId||(m.routeId=p.routeId),(b=p.loadPromise)==null||b.resolve(),De(m))throw l=!0,m.options._fromLocation=t,m.redirectHandled=!0,m=this.resolveRedirect(m),m;if(_e(m))throw this._handleNotFound(r,m,{updateMatch:o}),(A=this.serverSsr)==null||A.onMatchSettled({router:this,match:this.getMatch(p.id)}),m}};try{await new Promise((p,m)=>{(async()=>{var g,y,b,A;try{const R=(P,E,x)=>{var S,w;const{id:_,routeId:I}=r[P],N=this.looseRoutesById[I];if(E instanceof Promise)throw E;E.routerCode=x,c=c??P,h(this.getMatch(_),E);try{(w=(S=N.options).onError)==null||w.call(S,E)}catch(F){E=F,h(this.getMatch(_),E)}o(_,F=>{var J,z;return(J=F.beforeLoadPromise)==null||J.resolve(),(z=F.loadPromise)==null||z.resolve(),{...F,error:E,status:"error",isFetching:!1,updatedAt:Date.now(),abortController:new AbortController,beforeLoadPromise:void 0}})};for(const[P,{id:E,routeId:x}]of r.entries()){const S=this.getMatch(E),w=(g=r[P-1])==null?void 0:g.id,_=this.looseRoutesById[x],I=_.options.pendingMs??this.options.defaultPendingMs,N=!!(s&&!this.isServer&&!d(E)&&(_.options.loader||_.options.beforeLoad||Ws(_))&&typeof I=="number"&&I!==1/0&&(_.options.pendingComponent??((y=this.options)==null?void 0:y.defaultPendingComponent)));let F=!0;if((S.beforeLoadPromise||S.loaderPromise)&&(N&&setTimeout(()=>{try{u()}catch{}},I),await S.beforeLoadPromise,F=this.getMatch(E).status==="error"),F){try{o(E,re=>{const U=re.loadPromise;return{...re,loadPromise:Dt(()=>{U==null||U.resolve()}),beforeLoadPromise:Dt()}});const J=new AbortController;let z;N&&(z=setTimeout(()=>{try{u()}catch{}},I));const{paramsError:M,searchError:j}=this.getMatch(E);M&&R(P,M,"PARSE_PARAMS"),j&&R(P,j,"VALIDATE_SEARCH");const ve=()=>w?this.getMatch(w).context:this.options.context??{};o(E,re=>({...re,isFetching:"beforeLoad",fetchCount:re.fetchCount+1,abortController:J,pendingTimeout:z,context:{...ve(),...re.__routeContext}}));const{search:me,params:ee,context:Le,cause:ut}=this.getMatch(E),X=d(E),ne={search:me,abortController:J,params:ee,preload:X,context:Le,location:t,navigate:re=>this.navigate({...re,_fromLocation:t}),buildLocation:this.buildLocation,cause:X?"preload":ut,matches:r},oe=await((A=(b=_.options).beforeLoad)==null?void 0:A.call(b,ne))??{};(De(oe)||_e(oe))&&R(P,oe,"BEFORE_LOAD"),o(E,re=>({...re,__beforeLoadContext:oe,context:{...ve(),...re.__routeContext,...oe},abortController:J}))}catch(J){R(P,J,"BEFORE_LOAD")}o(E,J=>{var z;return(z=J.beforeLoadPromise)==null||z.resolve(),{...J,beforeLoadPromise:void 0,isFetching:!1}})}}const B=r.slice(0,c),T=[];B.forEach(({id:P,routeId:E},x)=>{T.push((async()=>{const{loaderPromise:S}=this.getMatch(P);let w=!1,_=!1;if(S){await S;const I=this.getMatch(P);I.error&&h(I,I.error)}else{const I=T[x-1],N=this.looseRoutesById[E],F=()=>{const{params:X,loaderDeps:ne,abortController:oe,context:re,cause:U}=this.getMatch(P),te=d(P);return{params:X,deps:ne,preload:!!te,parentMatchPromise:I,abortController:oe,context:re,location:t,navigate:ae=>this.navigate({...ae,_fromLocation:t}),cause:te?"preload":U,route:N}},J=Date.now()-this.getMatch(P).updatedAt,z=d(P),M=z?N.options.preloadStaleTime??this.options.defaultPreloadStaleTime??3e4:N.options.staleTime??this.options.defaultStaleTime??0,j=N.options.shouldReload,ve=typeof j=="function"?j(F()):j;o(P,X=>({...X,loaderPromise:Dt(),preload:!!z&&!this.state.matches.find(ne=>ne.id===P)}));const me=async()=>{var X,ne,oe,re,U,te;const ae=this.getMatch(P);if(!ae)return;const we={matches:r,match:ae,params:ae.params,loaderData:ae.loaderData},ge=await((ne=(X=N.options).head)==null?void 0:ne.call(X,we)),dt=ge==null?void 0:ge.meta,fn=ge==null?void 0:ge.links,Vn=ge==null?void 0:ge.scripts,Jn=await((re=(oe=N.options).scripts)==null?void 0:re.call(oe,we)),Hr=await((te=(U=N.options).headers)==null?void 0:te.call(U,we));return{meta:dt,links:fn,headScripts:Vn,headers:Hr,scripts:Jn}},ee=async()=>{var X,ne,oe,re,U;try{const te=async()=>{const ae=this.getMatch(P);ae.minPendingPromise&&await ae.minPendingPromise};try{this.loadRouteChunk(N),o(P,ge=>({...ge,isFetching:"loader"}));const ae=await((ne=(X=N.options).loader)==null?void 0:ne.call(X,F()));h(this.getMatch(P),ae),await N._lazyPromise,await te(),await N._componentsPromise,o(P,ge=>({...ge,error:void 0,status:"success",isFetching:!1,updatedAt:Date.now(),loaderData:ae}));const we=await me();o(P,ge=>({...ge,...we}))}catch(ae){let we=ae;await te(),h(this.getMatch(P),ae);try{(re=(oe=N.options).onError)==null||re.call(oe,ae)}catch(dt){we=dt,h(this.getMatch(P),dt)}const ge=await me();o(P,dt=>({...dt,error:we,status:"error",isFetching:!1,...ge}))}(U=this.serverSsr)==null||U.onMatchSettled({router:this,match:this.getMatch(P)})}catch(te){const ae=await me();o(P,we=>({...we,loaderPromise:void 0,...ae})),h(this.getMatch(P),te)}},{status:Le,invalid:ut}=this.getMatch(P);if(w=Le==="success"&&(ut||(ve??J>M)),!(z&&N.options.preload===!1))if(w&&!a)_=!0,(async()=>{try{await ee();const{loaderPromise:X,loadPromise:ne}=this.getMatch(P);X==null||X.resolve(),ne==null||ne.resolve(),o(P,oe=>({...oe,loaderPromise:void 0}))}catch(X){De(X)&&await this.navigate(X.options)}})();else if(Le!=="success"||w&&a)await ee();else{const X=await me();o(P,ne=>({...ne,...X}))}}if(!_){const{loaderPromise:I,loadPromise:N}=this.getMatch(P);I==null||I.resolve(),N==null||N.resolve()}return o(P,I=>({...I,isFetching:_?I.isFetching:!1,loaderPromise:_?I.loaderPromise:void 0,invalid:!1})),this.getMatch(P)})())}),await Promise.all(T),p()}catch(R){m(R)}})()}),await u()}catch(p){if(De(p)||_e(p))throw _e(p)&&!i&&await u(),p}return r},this.invalidate=t=>{const r=i=>{var s;return((s=t==null?void 0:t.filter)==null?void 0:s.call(t,i))??!0?{...i,invalid:!0,...i.status==="error"?{status:"pending",error:void 0}:{}}:i};return this.__store.setState(i=>{var s;return{...i,matches:i.matches.map(r),cachedMatches:i.cachedMatches.map(r),pendingMatches:(s=i.pendingMatches)==null?void 0:s.map(r)}}),this.shouldViewTransition=!1,this.load({sync:t==null?void 0:t.sync})},this.resolveRedirect=t=>(t.options.href||(t.options.href=this.buildLocation(t.options).href,t.headers.set("Location",t.options.href)),t.headers.get("Location")||t.headers.set("Location",t.options.href),t),this.clearCache=t=>{const r=t==null?void 0:t.filter;r!==void 0?this.__store.setState(i=>({...i,cachedMatches:i.cachedMatches.filter(s=>!r(s))})):this.__store.setState(i=>({...i,cachedMatches:[]}))},this.clearExpiredCache=()=>{const t=r=>{const i=this.looseRoutesById[r.routeId];if(!i.options.loader)return!0;const s=(r.preload?i.options.preloadGcTime??this.options.defaultPreloadGcTime:i.options.gcTime??this.options.defaultGcTime)??5*60*1e3;return!(r.status!=="error"&&Date.now()-r.updatedAt<s)};this.clearCache({filter:t})},this.loadRouteChunk=t=>(t._lazyPromise===void 0&&(t.lazyFn?t._lazyPromise=t.lazyFn().then(r=>{const{id:i,...s}=r.options;Object.assign(t.options,s)}):t._lazyPromise=Promise.resolve()),t._componentsPromise===void 0&&(t._componentsPromise=t._lazyPromise.then(()=>Promise.all(Da.map(async r=>{const i=t.options[r];i!=null&&i.preload&&await i.preload()})))),t._componentsPromise),this.preloadRoute=async t=>{const r=this.buildLocation(t);let i=this.matchRoutes(r,{throwOnError:!0,preload:!0,dest:t});const s=new Set([...this.state.matches,...this.state.pendingMatches??[]].map(a=>a.id)),o=new Set([...s,...this.state.cachedMatches.map(a=>a.id)]);Js(()=>{i.forEach(a=>{o.has(a.id)||this.__store.setState(c=>({...c,cachedMatches:[...c.cachedMatches,a]}))})});try{return i=await this.loadMatches({matches:i,location:r,preload:!0,updateMatch:(a,c)=>{s.has(a)?i=i.map(l=>l.id===a?c(l):l):this.updateMatch(a,c)}}),i}catch(a){if(De(a))return a.options.reloadDocument?void 0:await this.preloadRoute({...a.options,_fromLocation:r});_e(a)||console.error(a);return}},this.matchRoute=(t,r)=>{const i={...t,to:t.to?this.resolvePathWithBase(t.from||"",t.to):void 0,params:t.params||{},leaveParams:!0},s=this.buildLocation(i);if(r!=null&&r.pending&&this.state.status!=="pending")return!1;const a=((r==null?void 0:r.pending)===void 0?!this.state.isLoading:r.pending)?this.latestLocation:this.state.resolvedLocation||this.state.location,c=_i(this.basepath,a.pathname,{...r,to:s.pathname});return!c||t.params&&!zt(c,t.params,{partial:!0})?!1:c&&((r==null?void 0:r.includeSearch)??!0)?zt(a.search,s.search,{partial:!0})?c:!1:c},this._handleNotFound=(t,r,{updateMatch:i=this.updateMatch}={})=>{var s;const o=this.routesById[r.routeId??""]??this.routeTree,a={};for(const l of t)a[l.routeId]=l;!o.options.notFoundComponent&&((s=this.options)!=null&&s.defaultNotFoundComponent)&&(o.options.notFoundComponent=this.options.defaultNotFoundComponent),Ke(o.options.notFoundComponent);const c=a[o.id];Ke(c,"Could not find match for route: "+o.id),i(c.id,l=>({...l,status:"notFound",error:r,isFetching:!1})),r.routerCode==="BEFORE_LOAD"&&o.parentRoute&&(r.routeId=o.parentRoute.id,this._handleNotFound(t,r,{updateMatch:i}))},this.hasNotFoundMatch=()=>this.__store.state.matches.some(t=>t.status==="notFound"||t.globalNotFound),this.update({defaultPreloadDelay:50,defaultPendingMs:1e3,defaultPendingMinMs:500,context:void 0,...n,caseSensitive:n.caseSensitive??!1,notFoundMode:n.notFoundMode??"fuzzy",stringifySearch:n.stringifySearch??gd,parseSearch:n.parseSearch??md}),typeof document<"u"&&(window.__TSR_ROUTER__=this)}get state(){return this.__store.state}get looseRoutesById(){return this.routesById}matchRoutesInternal(n,t){var r;const{foundRoute:i,matchedRoutes:s,routeParams:o}=this.getMatchedRoutes(n.pathname,(r=t==null?void 0:t.dest)==null?void 0:r.to);let a=!1;(i?i.path!=="/"&&o["**"]:Qt(n.pathname))&&(this.options.notFoundRoute?s.push(this.options.notFoundRoute):a=!0);const c=(()=>{if(a){if(this.options.notFoundMode!=="root")for(let h=s.length-1;h>=0;h--){const p=s[h];if(p.children)return p.id}return Te}})(),l=s.map(h=>{var p;let m;const g=((p=h.options.params)==null?void 0:p.parse)??h.options.parseParams;if(g)try{const y=g(o);Object.assign(o,y)}catch(y){if(m=new $d(y.message,{cause:y}),t!=null&&t.throwOnError)throw m;return m}}),u=[],d=h=>(h==null?void 0:h.id)?h.context??this.options.context??{}:this.options.context??{};return s.forEach((h,p)=>{var m,g;const y=u[p-1],[b,A,R]=(()=>{const F=(y==null?void 0:y.search)??n.search,J=(y==null?void 0:y._strictSearch)??{};try{const z=Ci(h.options.validateSearch,{...F})??{};return[{...F,...z},{...J,...z},void 0]}catch(z){let M=z;if(z instanceof wr||(M=new wr(z.message,{cause:z})),t!=null&&t.throwOnError)throw M;return[F,{},M]}})(),B=((g=(m=h.options).loaderDeps)==null?void 0:g.call(m,{search:b}))??"",T=B?JSON.stringify(B):"",{usedParams:P,interpolatedPath:E}=Xr({path:h.fullPath,params:o,decodeCharMap:this.pathParamsDecodeCharMap}),x=Xr({path:h.id,params:o,leaveWildcards:!0,decodeCharMap:this.pathParamsDecodeCharMap}).interpolatedPath+T,S=this.getMatch(x),w=this.state.matches.find(F=>F.routeId===h.id),_=w?"stay":"enter";let I;if(S)I={...S,cause:_,params:w?qe(w.params,o):o,_strictParams:P,search:qe(w?w.search:S.search,b),_strictSearch:A};else{const F=h.options.loader||h.options.beforeLoad||h.lazyFn||Ws(h)?"pending":"success";I={id:x,index:p,routeId:h.id,params:w?qe(w.params,o):o,_strictParams:P,pathname:Ge([this.basepath,E]),updatedAt:Date.now(),search:w?qe(w.search,b):b,_strictSearch:A,searchError:void 0,status:F,isFetching:!1,error:void 0,paramsError:l[p],__routeContext:{},__beforeLoadContext:{},context:{},abortController:new AbortController,fetchCount:0,cause:_,loaderDeps:w?qe(w.loaderDeps,B):B,invalid:!1,preload:!1,links:void 0,scripts:void 0,headScripts:void 0,meta:void 0,staticData:h.options.staticData||{},loadPromise:Dt(),fullPath:h.fullPath}}t!=null&&t.preload||(I.globalNotFound=c===h.id),I.searchError=R;const N=d(y);I.context={...N,...I.__routeContext,...I.__beforeLoadContext},u.push(I)}),u.forEach((h,p)=>{var m,g;const y=this.looseRoutesById[h.routeId];if(!this.getMatch(h.id)&&(t==null?void 0:t._buildLocation)!==!0){const A=u[p-1],R=d(A),B={deps:h.loaderDeps,params:h.params,context:R,location:n,navigate:T=>this.navigate({...T,_fromLocation:n}),buildLocation:this.buildLocation,cause:h.cause,abortController:h.abortController,preload:!!h.preload,matches:u};h.__routeContext=((g=(m=y.options).context)==null?void 0:g.call(m,B))??{},h.context={...R,...h.__routeContext,...h.__beforeLoadContext}}}),u}}class wr extends Error{}class $d extends Error{}function xd(e){return{loadedAt:0,isLoading:!1,isTransitioning:!1,status:"idle",resolvedLocation:void 0,location:e,matches:[],pendingMatches:[],cachedMatches:[],statusCode:200}}function Ci(e,n){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(n);if(t instanceof Promise)throw new wr("Async validation not supported");if(t.issues)throw new wr(JSON.stringify(t.issues,void 0,2),{cause:t});return t.value}return"parse"in e?e.parse(n):typeof e=="function"?e(n):{}}const Da=["component","errorComponent","pendingComponent","notFoundComponent"];function Ws(e){var n;for(const t of Da)if((n=e.options[t])!=null&&n.preload)return!0;return!1}function Sd({routeTree:e,initRoute:n}){const t={},r={},i=c=>{c.forEach((l,u)=>{n==null||n(l,u);const d=t[l.id];if(Ke(!d,`Duplicate routes found with id: ${String(l.id)}`),t[l.id]=l,!l.isRoot&&l.path){const p=Qt(l.fullPath);(!r[p]||l.fullPath.endsWith("/"))&&(r[p]=l)}const h=l.children;h!=null&&h.length&&i(h)})};i([e]);const s=[];Object.values(t).forEach((c,l)=>{var u;if(c.isRoot||!c.path)return;const d=Xi(c.fullPath),h=en(d);for(;h.length>1&&((u=h[0])==null?void 0:u.value)==="/";)h.shift();const p=h.map(m=>m.value==="/"?.75:m.type==="param"&&m.prefixSegment&&m.suffixSegment?.55:m.type==="param"&&m.prefixSegment?.52:m.type==="param"&&m.suffixSegment?.51:m.type==="param"?.5:m.type==="wildcard"&&m.prefixSegment&&m.suffixSegment?.3:m.type==="wildcard"&&m.prefixSegment?.27:m.type==="wildcard"&&m.suffixSegment?.26:m.type==="wildcard"?.25:1);s.push({child:c,trimmed:d,parsed:h,index:l,scores:p})});const a=s.sort((c,l)=>{const u=Math.min(c.scores.length,l.scores.length);for(let d=0;d<u;d++)if(c.scores[d]!==l.scores[d])return l.scores[d]-c.scores[d];if(c.scores.length!==l.scores.length)return l.scores.length-c.scores.length;for(let d=0;d<u;d++)if(c.parsed[d].value!==l.parsed[d].value)return c.parsed[d].value>l.parsed[d].value?1:-1;return c.index-l.index}).map((c,l)=>(c.child.rank=l,c.child));return{routesById:t,routesByPath:r,flatRoutes:a}}function kd({pathname:e,routePathname:n,basepath:t,caseSensitive:r,routesByPath:i,routesById:s,flatRoutes:o}){let a={};const c=Qt(e),l=p=>{var m;return _i(t,c,{to:p.fullPath,caseSensitive:((m=p.options)==null?void 0:m.caseSensitive)??r,fuzzy:!0})};let u=n!==void 0?i[n]:void 0;u?a=l(u):u=o.find(p=>{const m=l(p);return m?(a=m,!0):!1});let d=u||s[Te];const h=[d];for(;d.parentRoute;)d=d.parentRoute,h.unshift(d);return{matchedRoutes:h,routeParams:a,foundRoute:u}}function _d({search:e,dest:n,destRoutes:t,_includeValidateSearch:r}){const i=t.reduce((a,c)=>{var l;const u=[];if("search"in c.options)(l=c.options.search)!=null&&l.middlewares&&u.push(...c.options.search.middlewares);else if(c.options.preSearchFilters||c.options.postSearchFilters){const d=({search:h,next:p})=>{let m=h;"preSearchFilters"in c.options&&c.options.preSearchFilters&&(m=c.options.preSearchFilters.reduce((y,b)=>b(y),h));const g=p(m);return"postSearchFilters"in c.options&&c.options.postSearchFilters?c.options.postSearchFilters.reduce((y,b)=>b(y),g):g};u.push(d)}if(r&&c.options.validateSearch){const d=({search:h,next:p})=>{const m=p(h);try{return{...m,...Ci(c.options.validateSearch,m)??{}}}catch{return m}};u.push(d)}return a.concat(u)},[])??[],s=({search:a})=>n.search?n.search===!0?a:St(n.search,a):{};i.push(s);const o=(a,c)=>{if(a>=i.length)return c;const l=i[a];return l({search:c,next:d=>o(a+1,d)})};return o(0,e)}const Ad="Error preloading route! ";class Ta{constructor(n){if(this.init=t=>{var r,i;this.originalIndex=t.originalIndex;const s=this.options,o=!(s!=null&&s.path)&&!(s!=null&&s.id);this.parentRoute=(i=(r=this.options).getParentRoute)==null?void 0:i.call(r),o?this._path=Te:this.parentRoute||Ke(!1);let a=o?Te:s==null?void 0:s.path;a&&a!=="/"&&(a=Xi(a));const c=(s==null?void 0:s.id)||a;let l=o?Te:Ge([this.parentRoute.id===Te?"":this.parentRoute.id,c]);a===Te&&(a="/"),l!==Te&&(l=Ge(["/",l]));const u=l===Te?"/":Ge([this.parentRoute.fullPath,a]);this._path=a,this._id=l,this._fullPath=u,this._to=u,this._ssr=(s==null?void 0:s.ssr)??t.defaultSsr??!0},this.clone=t=>{this._path=t._path,this._id=t._id,this._fullPath=t._fullPath,this._to=t._to,this._ssr=t._ssr,this.options.getParentRoute=t.options.getParentRoute,this.children=t.children},this.addChildren=t=>this._addFileChildren(t),this._addFileChildren=t=>(Array.isArray(t)&&(this.children=t),typeof t=="object"&&t!==null&&(this.children=Object.values(t)),this),this._addFileTypes=()=>this,this.updateLoader=t=>(Object.assign(this.options,t),this),this.update=t=>(Object.assign(this.options,t),this),this.lazy=t=>(this.lazyFn=t,this),this.options=n||{},this.isRoot=!(n!=null&&n.getParentRoute),n!=null&&n.id&&(n!=null&&n.path))throw new Error("Route cannot have both an 'id' and a 'path' option.")}get to(){return this._to}get id(){return this._id}get path(){return this._path}get fullPath(){return this._fullPath}get ssr(){return this._ssr}}class Cd extends Ta{constructor(n){super(n)}}const Pd=[];function Jt(e,n){const t=n||e||{};return typeof t.method>"u"&&(t.method="GET"),{options:t,middleware:r=>Jt(void 0,Object.assign(t,{middleware:r})),validator:r=>Jt(void 0,Object.assign(t,{validator:r})),type:r=>Jt(void 0,Object.assign(t,{type:r})),handler:(...r)=>{const[i,s]=r;Object.assign(t,{...i,extractedFn:i,serverFn:s});const o=[...t.middleware||[],Ld(t)];return Object.assign(async a=>Ys(o,"client",{...i,...t,data:a==null?void 0:a.data,headers:a==null?void 0:a.headers,signal:a==null?void 0:a.signal,context:{}}).then(c=>{if(t.response==="full")return c;if(c.error)throw c.error;return c.result}),{...i,__executeServer:async(a,c)=>{const l=a instanceof FormData?Od(a):a;l.type=typeof t.type=="function"?t.type(l):t.type;const u={...i,...l,signal:c},d=()=>Ys(o,"server",u).then(h=>({result:h.result,error:h.error,context:h.sendContext}));if(u.type==="static"){let h;if(ze!=null&&ze.getItem&&(h=await ze.getItem(u)),h||(h=await d().then(p=>({ctx:p,error:null})).catch(p=>({ctx:void 0,error:p})),ze!=null&&ze.setItem&&await ze.setItem(u,h)),Ke(h),h.error)throw h.error;return h.ctx}return d()}})}}}async function Ys(e,n,t){const r=Nd([...Pd,...e]),i=async s=>{const o=r.shift();if(!o)return s;o.options.validator&&(n!=="client"||o.options.validateClient)&&(s.data=await Ed(o.options.validator,s.data));const a=n==="client"?o.options.client:o.options.server;return a?Md(a,s,async c=>i(c).catch(l=>{if(De(l)||_e(l))return{...c,error:l};throw l})):i(s)};return i({...t,headers:t.headers||{},sendContext:t.sendContext||{},context:t.context||{}})}let ze;function Rd(e){const n=ze;return ze=typeof e=="function"?e():e,()=>{ze=n}}async function Id(e){const n=new TextEncoder().encode(e),t=await crypto.subtle.digest("SHA-1",n);return Array.from(new Uint8Array(t)).map(s=>s.toString(16).padStart(2,"0")).join("")}Rd(()=>{const e=async(r,i)=>`/__tsr/staticServerFnCache/${await Id(`${r.functionId}__${i}`)}.json`,n=r=>JSON.stringify(r??"",(o,a)=>a&&typeof a=="object"&&!Array.isArray(a)?Object.keys(a).sort().reduce((c,l)=>(c[l]=a[l],c),{}):a).replace(/[/\\?%*:|"<>]/g,"-").replace(/\s+/g,"_"),t=typeof document<"u"?new Map:null;return{getItem:async r=>{if(typeof document>"u"){const i=n(r.data),s=await e(r,i),o="/home/abourka/Desktop/Projects/anchkor/.output/public",{promises:a}=await Ve(async()=>{const{promises:h}=await import("node:fs");return{promises:h}},[]),l=(await Ve(()=>import("node:path"),[])).join(o,s),[u,d]=await a.readFile(l,"utf-8").then(h=>[xe.parse(h),null]).catch(h=>[null,h]);if(d&&d.code!=="ENOENT")throw d;return u}},setItem:async(r,i)=>{const{promises:s}=await Ve(async()=>{const{promises:d}=await import("node:fs");return{promises:d}},[]),o=await Ve(()=>import("node:path"),[]),a=n(r.data),c=await e(r,a),u=o.join("/home/abourka/Desktop/Projects/anchkor/.output/public",c);await s.mkdir(o.dirname(u),{recursive:!0}),await s.writeFile(u,xe.stringify(i))},fetchItem:async r=>{const i=n(r.data),s=await e(r,i);let o=t==null?void 0:t.get(s);return o||(o=await fetch(s,{method:"GET"}).then(a=>a.text()).then(a=>xe.parse(a)),t==null||t.set(s,o)),o}}});function Od(e){const n=e.get("__TSR_CONTEXT");if(e.delete("__TSR_CONTEXT"),typeof n!="string")return{context:{},data:e};try{return{context:xe.parse(n),data:e}}catch{return{data:e}}}function Nd(e){const n=new Set,t=[],r=i=>{i.forEach(s=>{s.options.middleware&&r(s.options.middleware),n.has(s)||(n.add(s),t.push(s))})};return r(e),t}const Md=async(e,n,t)=>e({...n,next:async(r={})=>t({...n,...r,context:{...n.context,...r.context},sendContext:{...n.sendContext,...r.sendContext??{}},headers:zu(n.headers,r.headers),result:r.result!==void 0?r.result:n.response==="raw"?r:n.result,error:r.error??n.error})});function Ed(e,n){if(e==null)return{};if("~standard"in e){const t=e["~standard"].validate(n);if(t instanceof Promise)throw new Error("Async validation not supported");if(t.issues)throw new Error(JSON.stringify(t.issues,void 0,2));return t.value}if("parse"in e)return e.parse(n);if(typeof e=="function")return e(n);throw new Error("Invalid validator type!")}function Ld(e){return{_types:void 0,options:{validator:e.validator,validateClient:e.validateClient,client:async({next:n,sendContext:t,...r})=>{var i;const s={...r,context:t,type:typeof r.type=="function"?r.type(r):r.type};if(r.type==="static"&&typeof document<"u"){Ke(ze);const a=await ze.fetchItem(s);if(a){if(a.error)throw a.error;return n(a.ctx)}`${s.functionId}${JSON.stringify(s.data)}`}const o=await((i=e.extractedFn)==null?void 0:i.call(e,s));return n(o)},server:async({next:n,...t})=>{var r;const i=await((r=e.serverFn)==null?void 0:r.call(e,t));return n({...t,result:i})}}}}function Dd(e){const[n]=lr(()=>e.promise);return v(Yi,{get fallback(){return e.fallback},get when(){return n()},children:t=>e.children(t())})}var Td=je("<div><div><strong>Something went wrong!</strong><button></button></div><div></div><!$><!/>"),Fd=je("<div><pre>"),Bd=je("<code>");function es(e){return v(gu,{fallback:(n,t)=>{var r;return(r=e.onCatch)==null||r.call(e,n),bt(wn([e.getResetKey],()=>t(),{defer:!0})),v(Ue,{get component(){return e.errorComponent??cn},error:n,reset:t})},get children(){return e.children}})}function cn({error:e}){const[n,t]=pe(!1);return(()=>{var r=Re(Td),i=r.firstChild,s=i.firstChild,o=s.nextSibling,a=i.nextSibling,c=a.nextSibling,[l,u]=pr(c.nextSibling);return r.style.setProperty("padding",".5rem"),r.style.setProperty("max-width","100%"),i.style.setProperty("display","flex"),i.style.setProperty("align-items","center"),i.style.setProperty("gap",".5rem"),s.style.setProperty("font-size","1rem"),o.$$click=()=>t(d=>!d),o.style.setProperty("appearance","none"),o.style.setProperty("font-size",".6em"),o.style.setProperty("border","1px solid currentColor"),o.style.setProperty("padding",".1rem .2rem"),o.style.setProperty("font-weight","bold"),o.style.setProperty("border-radius",".25rem"),Be(o,()=>n()?"Hide Error":"Show Error"),a.style.setProperty("height",".25rem"),Be(r,(()=>{var d=Ie(()=>!!n());return()=>d()?(()=>{var h=Re(Fd),p=h.firstChild;return p.style.setProperty("font-size",".7em"),p.style.setProperty("border","1px solid red"),p.style.setProperty("border-radius",".25rem"),p.style.setProperty("padding",".3rem"),p.style.setProperty("color","red"),p.style.setProperty("overflow","auto"),Be(p,(()=>{var m=Ie(()=>!!e.message);return()=>m()?(()=>{var g=Re(Bd);return Be(g,()=>e.message),g})():null})()),h})():null})(),l,u),Xt(),r})()}Lr(["click"]);function Kd(e){return jd()?Ie(()=>e.children):Ie(()=>e.fallback)}function jd(){const[e,n]=pe(!0);return bt(()=>{n(!0)}),e}function qd(e){return(...n)=>{for(const t of e)t&&t(...n)}}const yv=e=>typeof e=="function"&&!e.length?e():e,bv=e=>Array.isArray(e)?e:e?[e]:[];function vv(e,...n){return typeof e=="function"?e(...n):e}const wv=Me;function zd(...e){return qd(e)}const $r=Symbol("store-raw"),Ht=Symbol("store-node"),Qe=Symbol("store-has"),Fa=Symbol("store-self");function Ba(e){let n=e[Je];if(!n&&(Object.defineProperty(e,Je,{value:n=new Proxy(e,Jd)}),!Array.isArray(e))){const t=Object.keys(e),r=Object.getOwnPropertyDescriptors(e);for(let i=0,s=t.length;i<s;i++){const o=t[i];r[o].get&&Object.defineProperty(e,o,{enumerable:r[o].enumerable,get:r[o].get.bind(n)})}}return n}function We(e){let n;return e!=null&&typeof e=="object"&&(e[Je]||!(n=Object.getPrototypeOf(e))||n===Object.prototype||Array.isArray(e))}function At(e,n=new Set){let t,r,i,s;if(t=e!=null&&e[$r])return t;if(!We(e)||n.has(e))return e;if(Array.isArray(e)){Object.isFrozen(e)?e=e.slice(0):n.add(e);for(let o=0,a=e.length;o<a;o++)i=e[o],(r=At(i,n))!==i&&(e[o]=r)}else{Object.isFrozen(e)?e=Object.assign({},e):n.add(e);const o=Object.keys(e),a=Object.getOwnPropertyDescriptors(e);for(let c=0,l=o.length;c<l;c++)s=o[c],!a[s].get&&(i=e[s],(r=At(i,n))!==i&&(e[s]=r))}return e}function xr(e,n){let t=e[n];return t||Object.defineProperty(e,n,{value:t=Object.create(null)}),t}function An(e,n,t){if(e[n])return e[n];const[r,i]=pe(t,{equals:!1,internal:!0});return r.$=i,e[n]=r}function Ud(e,n){const t=Reflect.getOwnPropertyDescriptor(e,n);return!t||t.get||!t.configurable||n===Je||n===Ht||(delete t.value,delete t.writable,t.get=()=>e[Je][n]),t}function Ka(e){mi()&&An(xr(e,Ht),Fa)()}function Vd(e){return Ka(e),Reflect.ownKeys(e)}const Jd={get(e,n,t){if(n===$r)return e;if(n===Je)return t;if(n===pi)return Ka(e),t;const r=xr(e,Ht),i=r[n];let s=i?i():e[n];if(n===Ht||n===Qe||n==="__proto__")return s;if(!i){const o=Object.getOwnPropertyDescriptor(e,n);mi()&&(typeof s!="function"||e.hasOwnProperty(n))&&!(o&&o.get)&&(s=An(r,n,s)())}return We(s)?Ba(s):s},has(e,n){return n===$r||n===Je||n===pi||n===Ht||n===Qe||n==="__proto__"?!0:(mi()&&An(xr(e,Qe),n)(),n in e)},set(){return!0},deleteProperty(){return!0},ownKeys:Vd,getOwnPropertyDescriptor:Ud};function Ae(e,n,t,r=!1){if(!r&&e[n]===t)return;const i=e[n],s=e.length;t===void 0?(delete e[n],e[Qe]&&e[Qe][n]&&i!==void 0&&e[Qe][n].$()):(e[n]=t,e[Qe]&&e[Qe][n]&&i===void 0&&e[Qe][n].$());let o=xr(e,Ht),a;if((a=An(o,n,i))&&a.$(()=>t),Array.isArray(e)&&e.length!==s){for(let c=e.length;c<s;c++)(a=o[c])&&a.$();(a=An(o,"length",s))&&a.$(e.length)}(a=o[Fa])&&a.$()}function ja(e,n){const t=Object.keys(n);for(let r=0;r<t.length;r+=1){const i=t[r];Ae(e,i,n[i])}}function Hd(e,n){if(typeof n=="function"&&(n=n(e)),n=At(n),Array.isArray(n)){if(e===n)return;let t=0,r=n.length;for(;t<r;t++){const i=n[t];e[t]!==i&&Ae(e,t,i)}Ae(e,"length",r)}else ja(e,n)}function gn(e,n,t=[]){let r,i=e;if(n.length>1){r=n.shift();const o=typeof r,a=Array.isArray(e);if(Array.isArray(r)){for(let c=0;c<r.length;c++)gn(e,[r[c]].concat(n),t);return}else if(a&&o==="function"){for(let c=0;c<e.length;c++)r(e[c],c)&&gn(e,[c].concat(n),t);return}else if(a&&o==="object"){const{from:c=0,to:l=e.length-1,by:u=1}=r;for(let d=c;d<=l;d+=u)gn(e,[d].concat(n),t);return}else if(n.length>1){gn(e[r],n,[r].concat(t));return}i=e[r],t=[r].concat(t)}let s=n[0];typeof s=="function"&&(s=s(i,t),s===i)||r===void 0&&s==null||(s=At(s),r===void 0||We(i)&&We(s)&&!Array.isArray(s)?ja(i,s):Ae(e,r,s))}function Gd(...[e,n]){const t=At(e||{}),r=Array.isArray(t),i=Ba(t);function s(...o){nu(()=>{r&&o.length===1?Hd(t,o[0]):gn(t,o)})}return[i,s]}const Pi=Symbol("store-root");function Tt(e,n,t,r,i){const s=n[t];if(e===s)return;const o=Array.isArray(e);if(t!==Pi&&(!We(e)||!We(s)||o!==Array.isArray(s)||i&&e[i]!==s[i])){Ae(n,t,e);return}if(o){if(e.length&&s.length&&(!r||i&&e[0]&&e[0][i]!=null)){let l,u,d,h,p,m,g,y;for(d=0,h=Math.min(s.length,e.length);d<h&&(s[d]===e[d]||i&&s[d]&&e[d]&&s[d][i]===e[d][i]);d++)Tt(e[d],s,d,r,i);const b=new Array(e.length),A=new Map;for(h=s.length-1,p=e.length-1;h>=d&&p>=d&&(s[h]===e[p]||i&&s[h]&&e[p]&&s[h][i]===e[p][i]);h--,p--)b[p]=s[h];if(d>p||d>h){for(u=d;u<=p;u++)Ae(s,u,e[u]);for(;u<e.length;u++)Ae(s,u,b[u]),Tt(e[u],s,u,r,i);s.length>e.length&&Ae(s,"length",e.length);return}for(g=new Array(p+1),u=p;u>=d;u--)m=e[u],y=i&&m?m[i]:m,l=A.get(y),g[u]=l===void 0?-1:l,A.set(y,u);for(l=d;l<=h;l++)m=s[l],y=i&&m?m[i]:m,u=A.get(y),u!==void 0&&u!==-1&&(b[u]=s[l],u=g[u],A.set(y,u));for(u=d;u<e.length;u++)u in b?(Ae(s,u,b[u]),Tt(e[u],s,u,r,i)):Ae(s,u,e[u])}else for(let l=0,u=e.length;l<u;l++)Tt(e[l],s,l,r,i);s.length>e.length&&Ae(s,"length",e.length);return}const a=Object.keys(e);for(let l=0,u=a.length;l<u;l++)Tt(e[a[l]],s,a[l],r,i);const c=Object.keys(s);for(let l=0,u=c.length;l<u;l++)e[c[l]]===void 0&&Ae(s,c[l],void 0)}function Wd(e,n={}){const{merge:t,key:r="id"}=n,i=At(e);return s=>{if(!We(s)||!We(i))return i;const o=Tt(i,{[Pi]:s},Pi,t,r);return o===void 0?s:o}}const Sr=new WeakMap,qa={get(e,n){if(n===$r)return e;const t=e[n];let r;return We(t)?Sr.get(t)||(Sr.set(t,r=new Proxy(t,qa)),r):t},set(e,n,t){return Ae(e,n,At(t)),!0},deleteProperty(e,n){return Ae(e,n,void 0,!0),!0}};function $v(e){return n=>{if(We(n)){let t;(t=Sr.get(n))||Sr.set(n,t=new Proxy(n,qa)),e(t)}return n}}function Yd(e,n=t=>t){const[t,r]=Gd({value:n(e.state)}),i=e.subscribe(()=>{const s=n(e.state);r("value",Wd(s))});return Me(()=>{i()}),()=>t.value}const ti=Pt(null);function za(){return typeof document>"u"?ti:window.__TSR_ROUTER_CONTEXT__?window.__TSR_ROUTER_CONTEXT__:(window.__TSR_ROUTER_CONTEXT__=ti,ti)}function Oe(e){const n=Rt(za());return e==null||e.warn,n}function ie(e){const n=Oe({warn:(e==null?void 0:e.router)===void 0}),t=(e==null?void 0:e.router)||n;return Yd(t.__store,r=>e!=null&&e.select?e.select(r):r)}const ni=e=>G((n={current:null,previous:null})=>{const t=e();return n.current!==t&&(n.previous=n.current,n.current=t),n});function Zd(e,n,t={},r={}){const i=typeof IntersectionObserver=="function";let s=null;return bt(()=>{const o=e();!o||!i||r.disabled||(s=new IntersectionObserver(([a])=>{n(a)},t),s.observe(o),Me(()=>{s==null||s.disconnect()}))}),()=>s}const Tr=Pt(()=>{}),Xd=Pt(()=>{});function Ee(e){const n=Rt(e.from?Xd:Tr);return ie({select:r=>{const i=r.matches.find(s=>e.from?e.from===s.routeId:s.id===n());if(Ke(!((e.shouldThrow??!0)&&!i),`Could not find ${e.from?`an active match from "${e.from}"`:"a nearest match!"}`),i!==void 0)return e.select?e.select(i):i}})}function Qd(e){const n=Oe(),[t,r]=pe(!1);let i=!1;const[s,o]=qt(Pe({activeProps:()=>({class:"active"}),inactiveProps:()=>({})},e),["activeProps","inactiveProps","activeOptions","to","preload","preloadDelay","hashScrollIntoView","replace","startTransition","resetScroll","viewTransition","target","disabled","style","class","onClick","onFocus","onMouseEnter","onMouseLeave","onMouseOver","onMouseOut","onTouchStart","ignoreBlocker"]),[a,c]=qt(o,["params","search","hash","state","mask","reloadDocument","unsafeRelative"]),l=()=>{try{return new URL(`${s.to}`),"external"}catch{}return"internal"},u=ie({select:M=>M.location.searchStr}),d=Ee({strict:!1,select:M=>e.from??M.fullPath}),h=()=>({...e,from:d()}),p=G(()=>(u(),n.buildLocation(h()))),m=G(()=>h().reloadDocument?!1:s.preload??n.options.defaultPreload),g=()=>s.preloadDelay??n.options.defaultPreloadDelay??0,y=ie({select:M=>{var j,ve,me,ee,Le,ut,X;if((j=s.activeOptions)!=null&&j.exact){if(!ed(M.location.pathname,p().pathname,n.basepath))return!1}else{const ne=gr(M.location.pathname,n.basepath).split("/"),oe=(me=gr((ve=p())==null?void 0:ve.pathname,n.basepath))==null?void 0:me.split("/");if(!(oe==null?void 0:oe.every((U,te)=>U===ne[te])))return!1}return(((ee=s.activeOptions)==null?void 0:ee.includeSearch)??!0)&&!zt(M.location.search,p().search,{partial:!((Le=s.activeOptions)!=null&&Le.exact),ignoreUndefined:!((ut=s.activeOptions)!=null&&ut.explicitUndefined)})?!1:(X=s.activeOptions)!=null&&X.includeHash?M.location.hash===p().hash:!0}}),b=()=>n.preloadRoute(h()).catch(M=>{console.warn(M),console.warn(Ad)}),A=M=>{M!=null&&M.isIntersecting&&b()},[R,B]=pe(null);if(Zd(R,A,{rootMargin:"100px"},{disabled:!!s.disabled||m()!=="viewport"}),bt(()=>{i||!s.disabled&&m()==="render"&&(b(),i=!0)}),l()==="external")return Pe(c,{ref:R,get type(){return l()},get href(){return s.to}},qt(s,["target","disabled","style","class","onClick","onFocus","onMouseEnter","onMouseLeave","onMouseOut","onMouseOver","onTouchStart"])[0]);const T=M=>{if(!s.disabled&&!ef(M)&&!M.defaultPrevented&&(!s.target||s.target==="_self")&&M.button===0){M.preventDefault(),r(!0);const j=n.subscribe("onResolved",()=>{j(),r(!1)});return n.navigate({...h(),replace:s.replace,resetScroll:s.resetScroll,hashScrollIntoView:s.hashScrollIntoView,startTransition:s.startTransition,viewTransition:s.viewTransition,ignoreBlocker:s.ignoreBlocker})}},P=M=>{s.disabled||m()&&b()},E=P,x=M=>{if(s.disabled)return;const j=M.target||{};if(m()){if(j.preloadTimeout)return;j.preloadTimeout=setTimeout(()=>{j.preloadTimeout=null,b()},g())}},S=M=>{if(s.disabled)return;const j=M.target||{};j.preloadTimeout&&(clearTimeout(j.preloadTimeout),j.preloadTimeout=null)};function w(M,j){return j&&(typeof j=="function"?j(M):j[0](j[1],M)),M.defaultPrevented}function _(M){return j=>{for(const ve of M)w(j,ve)}}const I=()=>y()?St(s.activeProps,{})??{}:{},N=()=>y()?{}:St(s.inactiveProps,{}),F=()=>[s.class,I().class,N().class].filter(Boolean).join(" "),J=()=>({...s.style,...I().style,...N().style}),z=G(()=>{const M=p(),j=M==null?void 0:M.maskedLocation;return h().disabled?void 0:j?n.history.createHref(j.href):n.history.createHref(M==null?void 0:M.href)});return Pe(c,I,N,()=>({href:z(),ref:zd(B,h().ref),onClick:_([s.onClick,T]),onFocus:_([s.onFocus,P]),onMouseEnter:_([s.onMouseEnter,x]),onMouseOver:_([s.onMouseOver,x]),onMouseLeave:_([s.onMouseLeave,S]),onMouseOut:_([s.onMouseOut,S]),onTouchStart:_([s.onTouchStart,E]),disabled:!!s.disabled,target:s.target,...Object.keys(J).length&&{style:J},...F()&&{class:F()},...s.disabled&&{role:"link","aria-disabled":!0},...y()&&{"data-status":"active","aria-current":"page"},...t()&&{"data-transitioning":"transitioning"}}))}const Cn=e=>{const[n,t]=qt(e,["_asChild","children"]),[r,i]=qt(Qd(t),["type"]),s=G(()=>{const o=n.children;return typeof o=="function"?o({get isActive(){return i["data-status"]==="active"},isTransitioning:!1}):o});return v(Ue,Pe({get component(){return n._asChild?n._asChild:"a"}},i,{get children(){return s()}}))};function ef(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function ts(e){return Ee({from:e.from,strict:e.strict,select:n=>e.select?e.select(n.loaderData):n.loaderData})}function ns(e){const{select:n,...t}=e;return Ee({...t,select:r=>n?n(r.loaderDeps):r.loaderDeps})}function rs(e){return Ee({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,select:n=>e.select?e.select(n.params):n.params})}function is(e){return Ee({from:e.from,strict:e.strict,shouldThrow:e.shouldThrow,select:n=>e.select?e.select(n.search):n.search})}function ss(e){const{navigate:n,state:t}=Oe(),r=Ee({strict:!1,select:i=>i.index});return i=>n({...i,from:i.from??(e==null?void 0:e.from)??t.matches[r()].fullPath})}let tf=class extends Ta{constructor(n){super(n),this.useMatch=t=>Ee({select:t==null?void 0:t.select,from:this.id}),this.useRouteContext=t=>Ee({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>is({select:t==null?void 0:t.select,from:this.id}),this.useParams=t=>rs({select:t==null?void 0:t.select,from:this.id}),this.useLoaderDeps=t=>ns({...t,from:this.id}),this.useLoaderData=t=>ts({...t,from:this.id}),this.useNavigate=()=>ss({from:this.fullPath}),this.Link=t=>{const r=this;return v(Cn,Pe({get from(){return r.fullPath}},t))}}};function nf(e){return new tf(e)}class rf extends Cd{constructor(n){super(n),this.useMatch=t=>Ee({select:t==null?void 0:t.select,from:this.id}),this.useRouteContext=t=>Ee({...t,from:this.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>is({select:t==null?void 0:t.select,from:this.id}),this.useParams=t=>rs({select:t==null?void 0:t.select,from:this.id}),this.useLoaderDeps=t=>ns({...t,from:this.id}),this.useLoaderData=t=>ts({...t,from:this.id}),this.useNavigate=()=>ss({from:this.fullPath}),this.Link=t=>{const r=this;return v(Cn,Pe({get from(){return r.fullPath}},t))}}}function sf(e){return new rf(e)}function rt(e){return typeof e=="object"?new Zs(e,{silent:!0}).createRoute(e):new Zs(e,{silent:!0}).createRoute}class Zs{constructor(n,t){this.path=n,this.createRoute=r=>{this.silent;const i=nf(r);return i.isRoot=!1,i},this.silent=t==null?void 0:t.silent}}class Xs{constructor(n){this.useMatch=t=>Ee({select:t==null?void 0:t.select,from:this.options.id}),this.useRouteContext=t=>Ee({from:this.options.id,select:r=>t!=null&&t.select?t.select(r.context):r.context}),this.useSearch=t=>is({select:t==null?void 0:t.select,from:this.options.id}),this.useParams=t=>rs({select:t==null?void 0:t.select,from:this.options.id}),this.useLoaderDeps=t=>ns({...t,from:this.options.id}),this.useLoaderData=t=>ts({...t,from:this.options.id}),this.useNavigate=()=>{const t=Oe();return ss({from:t.routesById[this.options.id].fullPath})},this.options=n}}function Qs(e){return typeof e=="object"?new Xs(e):n=>new Xs({id:e,...n})}var of=je("<p>Not Found");function af(e){const n=ie({select:t=>`not-found-${t.location.pathname}-${t.status}`});return v(es,{getResetKey:()=>n(),onCatch:t=>{var r;if(_e(t))(r=e.onCatch)==null||r.call(e,t);else throw t},errorComponent:({error:t})=>{var r;if(_e(t))return(r=e.fallback)==null?void 0:r.call(e,t);throw t},get children(){return e.children}})}function cf(){return Re(of)}function Ft(e){return Ie(()=>e.children)}function Ua(e,n,t){return n.options.notFoundComponent?v(n.options.notFoundComponent,{data:t}):e.options.defaultNotFoundComponent?v(e.options.defaultNotFoundComponent,{data:t}):v(cf,{})}var ri,eo;function lf(){if(eo)return ri;eo=1;const e={},n=e.hasOwnProperty,t=(x,S)=>{for(const w in x)n.call(x,w)&&S(w,x[w])},r=(x,S)=>(S&&t(S,(w,_)=>{x[w]=_}),x),i=(x,S)=>{const w=x.length;let _=-1;for(;++_<w;)S(x[_])},s=x=>"\\u"+("0000"+x).slice(-4),o=(x,S)=>{let w=x.toString(16);return S?w:w.toUpperCase()},a=e.toString,c=Array.isArray,l=x=>typeof Buffer=="function"&&Buffer.isBuffer(x),u=x=>a.call(x)=="[object Object]",d=x=>typeof x=="string"||a.call(x)=="[object String]",h=x=>typeof x=="number"||a.call(x)=="[object Number]",p=x=>typeof x=="bigint",m=x=>typeof x=="function",g=x=>a.call(x)=="[object Map]",y=x=>a.call(x)=="[object Set]",b={"\\":"\\\\","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","	":"\\t"},A=/[\\\b\f\n\r\t]/,R=/[0-9]/,B=/[\xA0\u1680\u2000-\u200A\u2028\u2029\u202F\u205F\u3000]/,T=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^]/g,P=/([\uD800-\uDBFF][\uDC00-\uDFFF])|([\uD800-\uDFFF])|(['"`])|[^ !#-&\(-\[\]-_a-~]/g,E=(x,S)=>{const w=()=>{M=z,++S.indentLevel,z=S.indent.repeat(S.indentLevel)},_={escapeEverything:!1,minimal:!1,isScriptContext:!1,quotes:"single",wrap:!1,es6:!1,json:!1,compact:!0,lowercaseHex:!1,numbers:"decimal",indent:"	",indentLevel:0,__inline1__:!1,__inline2__:!1},I=S&&S.json;I&&(_.quotes="double",_.wrap=!0),S=r(_,S),S.quotes!="single"&&S.quotes!="double"&&S.quotes!="backtick"&&(S.quotes="single");const N=S.quotes=="double"?'"':S.quotes=="backtick"?"`":"'",F=S.compact,J=S.lowercaseHex;let z=S.indent.repeat(S.indentLevel),M="";const j=S.__inline1__,ve=S.__inline2__,me=F?"":`
`;let ee,Le=!0;const ut=S.numbers=="binary",X=S.numbers=="octal",ne=S.numbers=="decimal",oe=S.numbers=="hexadecimal";if(I&&x&&m(x.toJSON)&&(x=x.toJSON()),!d(x)){if(g(x))return x.size==0?"new Map()":(F||(S.__inline1__=!0,S.__inline2__=!1),"new Map("+E(Array.from(x),S)+")");if(y(x))return x.size==0?"new Set()":"new Set("+E(Array.from(x),S)+")";if(l(x))return x.length==0?"Buffer.from([])":"Buffer.from("+E(Array.from(x),S)+")";if(c(x))return ee=[],S.wrap=!0,j&&(S.__inline1__=!1,S.__inline2__=!0),ve||w(),i(x,U=>{Le=!1,ve&&(S.__inline2__=!1),ee.push((F||ve?"":z)+E(U,S))}),Le?"[]":ve?"["+ee.join(", ")+"]":"["+me+ee.join(","+me)+me+(F?"":M)+"]";if(h(x)||p(x)){if(I)return JSON.stringify(Number(x));let U;if(ne)U=String(x);else if(oe){let te=x.toString(16);J||(te=te.toUpperCase()),U="0x"+te}else ut?U="0b"+x.toString(2):X&&(U="0o"+x.toString(8));return p(x)?U+"n":U}else return p(x)?I?JSON.stringify(Number(x)):x+"n":u(x)?(ee=[],S.wrap=!0,w(),t(x,(U,te)=>{Le=!1,ee.push((F?"":z)+E(U,S)+":"+(F?"":" ")+E(te,S))}),Le?"{}":"{"+me+ee.join(","+me)+me+(F?"":M)+"}"):I?JSON.stringify(x)||"null":String(x)}const re=S.escapeEverything?T:P;return ee=x.replace(re,(U,te,ae,we,ge,dt)=>{if(te){if(S.minimal)return te;const Vn=te.charCodeAt(0),Jn=te.charCodeAt(1);if(S.es6){const Hr=(Vn-55296)*1024+Jn-56320+65536;return"\\u{"+o(Hr,J)+"}"}return s(o(Vn,J))+s(o(Jn,J))}if(ae)return s(o(ae.charCodeAt(0),J));if(U=="\0"&&!I&&!R.test(dt.charAt(ge+1)))return"\\0";if(we)return we==N||S.escapeEverything?"\\"+we:we;if(A.test(U))return b[U];if(S.minimal&&!B.test(U))return U;const fn=o(U.charCodeAt(0),J);return I||fn.length>2?s(fn):"\\x"+("00"+fn).slice(-2)}),N=="`"&&(ee=ee.replace(/\$\{/g,"\\${")),S.isScriptContext&&(ee=ee.replace(/<\/(script|style)/gi,"<\\/$1").replace(/<!--/g,I?"\\u003C!--":"\\x3C!--")),S.wrap&&(ee=N+ee+N),ee};return E.version="3.0.2",ri=E,ri}lf();var uf=je("<script class=tsr-once>");function df({children:e,log:n}){return typeof document<"u"?null:(()=>{var t=Re(uf);return Ce(()=>Ca(t,"innerHTML",[e,"",'if (typeof __TSR_SSR__ !== "undefined") __TSR_SSR__.cleanScripts()'].filter(Boolean).join(`
`))),t})()}function ff(){const e=Oe(),t=(e.options.getScrollRestorationKey||Ai)(e.latestLocation),r=t!==Ai(e.latestLocation)?t:null;return!e.isScrollRestoring||!e.isServer?null:v(df,{get children(){return`(${Ea.toString()})(${JSON.stringify(br)},${JSON.stringify(r)}, undefined, true)`},log:!1})}const Ri=e=>{const n=Oe(),t=ie({select:m=>{var g;return(g=m.matches.find(y=>y.id===e.matchId))==null?void 0:g.routeId}});Ke(t,`Could not find routeId for matchId "${e.matchId}". Please file an issue!`);const r=()=>n.routesById[t()],i=()=>r().options.pendingComponent??n.options.defaultPendingComponent,s=()=>r().options.errorComponent??n.options.defaultErrorComponent,o=()=>r().options.onCatch??n.options.defaultOnCatch,a=()=>{var m;return r().isRoot?r().options.notFoundComponent??((m=n.options.notFoundRoute)==null?void 0:m.options.component):r().options.notFoundComponent},c=()=>{var m;return(!r().isRoot||r().options.wrapInSuspense)&&(r().options.wrapInSuspense??i()??((m=r().options.errorComponent)==null?void 0:m.preload))?fr:Ft},l=()=>s()?es:Ft,u=()=>a()?af:Ft,d=ie({select:m=>m.loadedAt}),h=ie({select:m=>{var y;const g=m.matches.findIndex(b=>b.id===e.matchId);return(y=m.matches[g-1])==null?void 0:y.routeId}}),p=r().isRoot?r().options.shellComponent??Ft:Ft;return v(p,{get children(){return[v(Tr.Provider,{value:()=>e.matchId,get children(){return v(Ue,{get component(){return c()},get fallback(){return v(Ue,{get component(){return i()}})},get children(){return v(Ue,{get component(){return l()},getResetKey:()=>d(),get errorComponent(){return s()||cn},onCatch:m=>{var g;if(_e(m))throw m;`${e.matchId}`,(g=o())==null||g(m)},get children(){return v(Ue,{get component(){return u()},fallback:m=>{if(!a()||m.routeId&&m.routeId!==t||!m.routeId&&!r().isRoot)throw m;return v(Ue,Pe({get component(){return a()}},m))},get children(){return v(pf,{get matchId(){return e.matchId}})}})}})}})}}),Ie(()=>Ie(()=>h()===Te)()?[v(hf,{}),v(ff,{})]:null)]}})};function hf(){const e=Oe(),n=ie({select:t=>{var r;return(r=t.resolvedLocation)==null?void 0:r.state.__TSR_key}});return bt(wn([n],()=>{e.emit({type:"onRendered",...kt(e.state)})})),null}const pf=e=>{const n=Oe(),t=ie({select:o=>{const a=o.matches.findIndex(p=>p.id===e.matchId),c=o.matches[a],l=c.routeId,u=n.routesById[l].options.remountDeps??n.options.defaultRemountDeps,d=u==null?void 0:u({routeId:l,loaderDeps:c.loaderDeps,params:c._strictParams,search:c._strictSearch});return{key:d?JSON.stringify(d):void 0,routeId:l,match:$i(c,["id","status","error"])}}}),r=()=>n.routesById[t().routeId],i=()=>t().match,s=()=>{const o=r().options.component??n.options.defaultComponent;return o?v(o,{}):v(os,{})};return v(Aa,{get children(){return[v(ht,{get when(){return i().status==="notFound"},children:o=>(Ke(_e(i().error)),Ua(n,r(),i().error))}),v(ht,{get when(){return i().status==="redirected"},children:o=>{Ke(De(i().error));const[a]=lr(async()=>{var c;return await new Promise(l=>setTimeout(l,0)),(c=n.getMatch(i().id))==null?void 0:c.loadPromise});return Ie(a)}}),v(ht,{get when(){return i().status==="error"},children:o=>{if(n.isServer){const a=(r().options.errorComponent??n.options.defaultErrorComponent)||cn;return v(a,{get error(){return i().error},info:{componentStack:""}})}throw i().error}}),v(ht,{get when(){return i().status==="pending"},children:o=>{var l;const a=r().options.pendingMinMs??n.options.defaultPendingMinMs;if(a&&!((l=n.getMatch(i().id))!=null&&l.minPendingPromise)&&!n.isServer){const u=Dt();Promise.resolve().then(()=>{n.updateMatch(i().id,d=>({...d,minPendingPromise:u}))}),setTimeout(()=>{u.resolve(),n.updateMatch(i().id,d=>({...d,minPendingPromise:void 0}))},a)}const[c]=lr(async()=>{var u;return await new Promise(d=>setTimeout(d,0)),(u=n.getMatch(i().id))==null?void 0:u.loadPromise});return Ie(c)}}),v(ht,{get when(){return i().status==="success"},get children(){return s()}})]}})},os=()=>{const e=Oe(),n=Rt(Tr),t=ie({select:o=>{var a;return(a=o.matches.find(c=>c.id===n()))==null?void 0:a.routeId}}),r=()=>e.routesById[t()],i=ie({select:o=>{const c=o.matches.find(l=>l.id===n());return Ke(c,`Could not find parent match for matchId "${n()}"`),c.globalNotFound}}),s=ie({select:o=>{var u;const a=o.matches,c=a.findIndex(d=>d.id===n());return(u=a[c+1])==null?void 0:u.id}});return v(Aa,{get children(){return[v(ht,{get when(){return e.isShell},get children(){return v(fr,{get fallback(){return v(Ue,{get component(){return e.options.defaultPendingComponent}})},get children(){return v(cn,{error:new Error("ShellBoundaryError")})}})}}),v(ht,{get when(){return i()},get children(){return Ua(e,r(),void 0)}}),v(ht,{get when(){return s()},children:o=>v(Yi,{get when(){return o()===Te},get fallback(){return v(Ri,{get matchId(){return o()}})},get children(){return v(fr,{get fallback(){return v(Ue,{get component(){return e.options.defaultPendingComponent}})},get children(){return v(Ri,{get matchId(){return o()}})}})}})})]}})};function mf(e){return typeof(e==null?void 0:e.message)=="string"&&/Failed to fetch dynamically imported module/.test(e.message)}function It(e,n,t){let r,i,s;const o=()=>typeof document>"u"&&(t==null?void 0:t())===!1?(i=()=>null,Promise.resolve(i)):(r||(r=e().then(c=>(r=void 0,i=c[n],i)).catch(c=>{s=c})),r),a=function(l){if(s){if(mf(s)&&s instanceof Error&&typeof window<"u"&&typeof sessionStorage<"u"){const u=`tanstack_router_reload:${s.message}`;if(!sessionStorage.getItem(u))return sessionStorage.setItem(u,"1"),window.location.reload(),{default:()=>null}}throw s}if(!i){const[u]=lr(o,{initialValue:i,ssrLoadFrom:"initial"});return Ie(u)}return(t==null?void 0:t())===!1?v(Kd,{get fallback(){return v(os,{})},get children(){return v(Ue,Pe({component:i},l))}}):v(Ue,Pe({component:i},l))};return a.preload=o,a}function gf(){const e=Oe();let n={router:e,mounted:!1};const t=ie({select:({isLoading:d})=>d}),[r,i]=pe(!1),s=ie({select:d=>d.matches.some(h=>h.status==="pending")}),o=ni(t),a=()=>t()||r()||s(),c=ni(a),l=()=>t()||s(),u=ni(l);return e.isServer||(e.startTransition=async d=>{i(!0),await d(),i(!1)}),ya(()=>{const d=e.history.subscribe(e.load),h=e.buildLocation({to:e.latestLocation.pathname,search:!0,params:!0,hash:!0,state:!0,_includeValidateSearch:!0});Qt(e.latestLocation.href)!==Qt(h.href)&&e.commitLocation({...h,replace:!0}),Me(()=>{d()})}),Ce(()=>{de(()=>{if(typeof window<"u"&&e.clientSsr||n.router===e&&n.mounted)return;n={router:e,mounted:!0},(async()=>{try{await e.load()}catch(h){console.error(h)}})()})}),Ce(wn([o,t],([d,h])=>{d.previous&&!h&&e.emit({type:"onLoad",...kt(e.state)})})),Ce(wn([l,u],([d,h])=>{h.previous&&!d&&e.emit({type:"onBeforeRouteMount",...kt(e.state)})})),Ce(wn([a,c],([d,h])=>{h.previous&&!d&&(e.emit({type:"onResolved",...kt(e.state)}),e.__store.setState(p=>({...p,status:"idle",resolvedLocation:p.location})),hd(e))})),null}function yf(){const e=Oe(),n=e.options.defaultPendingComponent?v(e.options.defaultPendingComponent,{}):null,t=e.isServer||typeof document<"u"&&e.clientSsr?Ft:fr,r=v(t,{fallback:n,get children(){return[v(gf,{}),v(bf,{})]}});return e.options.InnerWrap?v(e.options.InnerWrap,{children:r}):r}function bf(){const e=ie({select:t=>{var r;return(r=t.matches[0])==null?void 0:r.id}}),n=ie({select:t=>t.loadedAt});return v(Tr.Provider,{value:e,get children(){return v(es,{getResetKey:()=>n(),errorComponent:cn,onCatch:t=>{t.message||t.toString()},get children(){return Ie(()=>!!e())()?v(Ri,{get matchId(){return e()}}):null}})}})}const vf=e=>new wf(e);class wf extends wd{constructor(n){super(n)}}typeof globalThis<"u"?(globalThis.createFileRoute=rt,globalThis.createLazyFileRoute=Qs):typeof window<"u"&&(window.createFileRoute=rt,window.createFileRoute=Qs);function $f({router:e,children:n,...t}){e.update({...e.options,...t,context:{...e.options.context,...t.context}});const r=za(),i=v(r.Provider,{value:e,get children(){return n()}});return e.options.Wrap?v(e.options.Wrap,{children:i}):i}function xf({router:e,...n}){return v($f,Pe({router:e},n,{children:()=>v(yf,{})}))}const Va=Pt(),Sf=["title","meta"],to=[],no=["name","http-equiv","content","charset","media"].concat(["property"]),ro=(e,n)=>{const t=Object.fromEntries(Object.entries(e.props).filter(([r])=>n.includes(r)).sort());return(Object.hasOwn(t,"name")||Object.hasOwn(t,"property"))&&(t.name=t.name||t.property,delete t.property),e.tag+JSON.stringify(t)};function kf(){if(!C.context){const t=document.head.querySelectorAll("[data-sm]");Array.prototype.forEach.call(t,r=>r.parentNode.removeChild(r))}const e=new Map;function n(t){if(t.ref)return t.ref;let r=document.querySelector(`[data-sm="${t.id}"]`);return r?(r.tagName.toLowerCase()!==t.tag&&(r.parentNode&&r.parentNode.removeChild(r),r=document.createElement(t.tag)),r.removeAttribute("data-sm")):r=document.createElement(t.tag),r}return{addTag(t){if(Sf.indexOf(t.tag)!==-1){const s=t.tag==="title"?to:no,o=ro(t,s);e.has(o)||e.set(o,[]);let a=e.get(o),c=a.length;a=[...a,t],e.set(o,a);let l=n(t);t.ref=l,Zt(l,t.props);let u=null;for(var r=c-1;r>=0;r--)if(a[r]!=null){u=a[r];break}return l.parentNode!=document.head&&document.head.appendChild(l),u&&u.ref&&u.ref.parentNode&&document.head.removeChild(u.ref),c}let i=n(t);return t.ref=i,Zt(i,t.props),i.parentNode!=document.head&&document.head.appendChild(i),-1},removeTag(t,r){const i=t.tag==="title"?to:no,s=ro(t,i);if(t.ref){const o=e.get(s);if(o){if(t.ref.parentNode){t.ref.parentNode.removeChild(t.ref);for(let a=r-1;a>=0;a--)o[a]!=null&&document.head.appendChild(o[a].ref)}o[r]=null,e.set(s,o)}else t.ref.parentNode&&t.ref.parentNode.removeChild(t.ref)}}}}const _f=e=>{const n=kf();return v(Va.Provider,{value:n,get children(){return e.children}})},as=(e,n,t)=>(Af({tag:e,props:n,setting:t,id:mu(),get name(){return n.name||n.property}}),null);function Af(e){const n=Rt(Va);if(!n)throw new Error("<MetaProvider /> should be in the tree");Ce(()=>{const t=n.addTag(e);Me(()=>n.removeTag(e,t))})}const Cf=e=>as("title",e,{escape:!0,close:!0}),Pf=e=>as("style",e,{close:!0}),Rf=e=>as("meta",e);var If=je("<link>"),io=je("<script>");function Ja({tag:e,attrs:n,children:t}){switch(e){case"title":return v(Cf,Pe(n,{children:t}));case"meta":return v(Rf,n);case"link":return(()=>{var r=Re(If);return Zt(r,n,!1,!1),Xt(),r})();case"style":return v(Pf,Pe(n,{innerHTML:t}));case"script":return v(Of,{attrs:n,children:t});default:return null}}function Of({attrs:e,children:n}){return ya(()=>{if(e!=null&&e.src){const t=document.createElement("script");for(const[r,i]of Object.entries(e))i!==void 0&&i!==!1&&t.setAttribute(r,typeof i=="boolean"?"":String(i));document.head.appendChild(t),Me(()=>{t.parentNode&&t.parentNode.removeChild(t)})}else if(typeof n=="string"){const t=document.createElement("script");if(t.textContent=n,e)for(const[r,i]of Object.entries(e))i!==void 0&&i!==!1&&t.setAttribute(r,typeof i=="boolean"?"":String(i));document.head.appendChild(t),Me(()=>{t.parentNode&&t.parentNode.removeChild(t)})}}),e!=null&&e.src&&typeof e.src=="string"?(()=>{var t=Re(io);return Zt(t,e,!1,!1),Xt(),t})():typeof n=="string"?(()=>{var t=Re(io);return Zt(t,Pe(e,{innerHTML:n}),!1,!1),Xt(),t})():null}const Nf=()=>{const e=Oe(),n=ie({select:o=>o.matches.map(a=>a.meta).filter(Boolean)}),t=G(()=>{const o=[],a={};let c;return[...n()].reverse().forEach(l=>{[...l].reverse().forEach(u=>{if(u)if(u.title)c||(c={tag:"title",children:u.title});else{const d=u.name??u.property;if(d){if(a[d])return;a[d]=!0}o.push({tag:"meta",attrs:{...u}})}})}),c&&o.push(c),o.reverse(),o}),r=ie({select:o=>{var u;const a=o.matches.map(d=>d.links).filter(Boolean).flat(1).map(d=>({tag:"link",attrs:{...d}})),c=(u=e.ssr)==null?void 0:u.manifest,l=o.matches.map(d=>{var h;return((h=c==null?void 0:c.routes[d.routeId])==null?void 0:h.assets)??[]}).filter(Boolean).flat(1).filter(d=>d.tag==="link").map(d=>({tag:"link",attrs:d.attrs}));return[...a,...l]}}),i=ie({select:o=>{const a=[];return o.matches.map(c=>e.looseRoutesById[c.routeId]).forEach(c=>{var l,u,d,h;return(h=(d=(u=(l=e.ssr)==null?void 0:l.manifest)==null?void 0:u.routes[c.id])==null?void 0:d.preloads)==null?void 0:h.filter(Boolean).forEach(p=>{a.push({tag:"link",attrs:{rel:"modulepreload",href:p}})})}),a}}),s=ie({select:o=>o.matches.map(a=>a.headScripts).flat(1).filter(Boolean).map(({children:a,...c})=>({tag:"script",attrs:{...c},children:a}))});return()=>Mf([...t(),...i(),...r(),...s()],o=>JSON.stringify(o))};function Ha(){const e=Nf();return v(_f,{get children(){return e().map(n=>v(Ja,n))}})}function Mf(e,n){const t=new Set;return e.filter(r=>{const i=n(r);return t.has(i)?!1:(t.add(i),!0)})}const Ef=()=>{const e=Oe(),n=ie({select:i=>{var a;const s=[],o=(a=e.ssr)==null?void 0:a.manifest;return o?(i.matches.map(c=>e.looseRoutesById[c.routeId]).forEach(c=>{var l,u;return(u=(l=o.routes[c.id])==null?void 0:l.assets)==null?void 0:u.filter(d=>d.tag==="script").forEach(d=>{s.push({tag:"script",attrs:d.attrs,children:d.children})})}),s):[]}}),r=[...ie({select:i=>({scripts:i.matches.map(s=>s.scripts).flat(1).filter(Boolean).map(({children:s,...o})=>({tag:"script",attrs:{...o},children:s}))})})().scripts,...n()];return Ie(()=>r.map((i,s)=>v(Ja,i)))};let Zn;const pn=e=>Ie(()=>e.children);function Lf(e){return Zn||(e.router.state.matches.length?Zn=Promise.resolve():Zn=Ju(e.router)),v(Dd,{promise:Zn,children:()=>v(pn,{get children(){return v(pn,{get children(){return v(xf,{get router(){return e.router},InnerWrap:n=>v(pn,{get children(){return[v(pn,{get children(){return[v(Ha,{}),Ie(()=>n.children)]}}),v(pn,{})]}})})}})}})})}var Df=je('<div class="flex min-w-0 flex-1 flex-col items-center justify-center gap-6 p-4"><!$><!/><div class="flex flex-wrap items-center gap-2"><button type=button class="rounded bg-gray-600 px-2 py-1 font-extrabold text-white uppercase dark:bg-gray-700">Try Again</button><!$><!/>');function Ga({error:e}){const n=Oe(),t=Ee({strict:!1,select:r=>r.id===Te});return console.error("DefaultCatchBoundary Error:",e),(()=>{var r=Re(Df),i=r.firstChild,[s,o]=pr(i.nextSibling),a=s.nextSibling,c=a.firstChild,l=c.nextSibling,[u,d]=pr(l.nextSibling);return Be(r,v(cn,{error:e}),s,o),c.$$click=()=>{n.invalidate()},Be(a,v(Yi,{get when(){return t()},get fallback(){return v(Cn,{to:"/",class:"rounded bg-gray-600 px-2 py-1 font-extrabold text-white uppercase dark:bg-gray-700",onClick:h=>{h.preventDefault(),window.history.back()},children:"Go Back"})},get children(){return v(Cn,{to:"/",class:"rounded bg-gray-600 px-2 py-1 font-extrabold text-white uppercase dark:bg-gray-700",children:"Home"})}}),u,d),Xt(),r})()}Lr(["click"]);var Tf=je('<div class="space-y-2 p-2"><div class="text-gray-600 dark:text-gray-400"></div><p class="flex flex-wrap items-center gap-2"><button type=button class="rounded bg-emerald-500 px-2 py-1 font-black text-sm text-white uppercase">Go back</button><!$><!/>'),Ff=je("<p>The page you are looking for does not exist.");function cs({children:e}){return(()=>{var n=Re(Tf),t=n.firstChild,r=t.nextSibling,i=r.firstChild,s=i.nextSibling,[o,a]=pr(s.nextSibling);return Be(t,e||Re(Ff)),i.$$click=()=>window.history.back(),Be(r,v(Cn,{to:"/",class:"rounded bg-cyan-600 px-2 py-1 font-black text-sm text-white uppercase",children:"Start Over"}),o,a),Xt(),n})()}Lr(["click"]);async function Bf(e,n,t){const r=n[0];if(tt(r)&&r.method){const i=r,s=i.data instanceof FormData?"formData":"payload",o=new Headers({"x-tsr-redirect":"manual",...s==="payload"?{"content-type":"application/json",accept:"application/json"}:{},...i.headers instanceof Headers?Object.fromEntries(i.headers.entries()):i.headers});if(i.method==="GET"){const a=La({payload:xe.stringify({data:i.data,context:i.context})});a&&(e.includes("?")?e+=`&${a}`:e+=`?${a}`)}return e.includes("?")?e+="&createServerFn":e+="?createServerFn",i.response==="raw"&&(e+="&raw"),await so(()=>t(e,{method:i.method,headers:o,signal:i.signal,...Kf(i)}))}return await so(()=>t(e,{method:"POST",headers:{Accept:"application/json","Content-Type":"application/json"},body:JSON.stringify(n),redirect:"manual"}))}function Kf(e){return e.method==="POST"?e.data instanceof FormData?(e.data.set("__TSR_CONTEXT",xe.stringify(e.context)),{body:e.data}):{body:xe.stringify({data:e.data??null,context:e.context})}:{}}async function so(e){var n;const t=await(async()=>{try{return await e()}catch(r){if(r instanceof Response)return r;throw r}})();if(!t.ok){const r=t.headers.get("content-type");throw r&&r.includes("application/json")?xe.decode(await t.json()):new Error(await t.text())}if((n=t.headers.get("content-type"))!=null&&n.includes("application/json")){let r=xe.decode(await t.json());const i=vd(r);if(i&&(r=i),De(r)||_e(r)||r instanceof Error)throw r;return r}return t}function oo(e){return e.replace(/^\/|\/$/g,"")}const Mn=(e,n)=>{const t=oo("/"),r=oo(n),i=`${t?`/${t}`:""}/${r}/${e}`;return Object.assign((...o)=>Bf(i,o,fetch),{url:i,functionId:e})};var jf=je("<script id=kb-color-mode-script>"),qf=Pt(),ls="kb-color-mode";function zf(e){return{ssr:!1,type:"localStorage",get:n=>{let t;try{t=localStorage.getItem(e)}catch{}return t??n},set:n=>{try{localStorage.setItem(e,n)}catch{}}}}var Uf=zf(ls);function ao(e,n){const t=e.match(new RegExp(`(^| )${n}=([^;]+)`));return t==null?void 0:t[2]}function Vf(e,n){return{ssr:!!n,type:"cookie",get:t=>n?ao(n,e)??t:ao(document.cookie,e)??t,set:t=>{document.cookie=`${e}=${t}; max-age=31536000; path=/`}}}function Jf(e){return Vf(ls,e)}var us="system";function Wa(){return window.matchMedia("(prefers-color-scheme: dark)")}function Hf(){const e=document.createElement("style");return e.appendChild(document.createTextNode("*{-webkit-transition:none!important;-moz-transition:none!important;-o-transition:none!important;-ms-transition:none!important;transition:none!important}")),document.head.appendChild(e),()=>{window.getComputedStyle(document.body),requestAnimationFrame(()=>{requestAnimationFrame(()=>{document.head.removeChild(e)})})}}function Gf(e,n=!0){const t=n?Hf():void 0;document.documentElement.dataset.kbTheme=e,document.documentElement.style.colorScheme=e,t==null||t()}function Ya(e){return Wa().matches??e==="dark"?"dark":"light"}function Wf(e){const n="light",t=e.get(n)??n;return t==="system"?Ya():t}function Yf(e){const n=Wa(),t=r=>{e(r.matches?"dark":"light")};return n.addEventListener("change",t),()=>{n.removeEventListener("change",t)}}function Zf(e){const n=()=>e.initialColorMode??us,t=()=>e.storageManager??Uf;let r;const[i,s]=pe(Wf(t())),o=u=>{s(u),Gf(u,e.disableTransitionOnChange)},a=u=>{r&&(r(),r=void 0);const d=u==="system";d&&(r=Yf(o)),o(d?Ya():u),t().set(u)},c=()=>{a(i()==="dark"?"light":"dark")};bt(()=>{a(t().get()??n())}),Me(()=>{r==null||r()});const l={colorMode:i,setColorMode:a,toggleColorMode:c};return v(qf.Provider,{value:l,get children(){return e.children}})}var Xf=new Set(["light","dark","system"]);function Qf(e){return Xf.has(e)?e:us}function eh(e){const n=Pe({initialColorMode:us,storageType:"localStorage",storageKey:ls},e),t=G(()=>{const r=Qf(n.initialColorMode),i=`(function(){try{var a=function(o){var l="(prefers-color-scheme: dark)",v=window.matchMedia(l).matches?"dark":"light",e=o==="system"?v:o,d=document.documentElement,s=e==="dark";return d.style.colorScheme=e,d.dataset.kbTheme=e,o},u=a,h="${r}",r="${n.storageKey}",t=document.cookie.match(new RegExp("(^| )".concat(r,"=([^;]+)"))),c=t?t[2]:null;c?a(c):document.cookie="".concat(r,"=").concat(a(h),"; max-age=31536000; path=/")}catch(a){}})();`,s=`(function(){try{var a=function(c){var v="(prefers-color-scheme: dark)",h=window.matchMedia(v).matches?"dark":"light",r=c==="system"?h:c,o=document.documentElement,i=r==="dark";return o.style.colorScheme=r,o.dataset.kbTheme=r,c},n=a,m="${r}",e="${n.storageKey}",t=localStorage.getItem(e);t?a(t):localStorage.setItem(e,a(m))}catch(a){}})();`;return`!${n.storageType==="cookie"?i:s}`.trim()});return(()=>{var r=Re(jf);return Ce(i=>{var s=n.nonce,o=t();return s!==i.e&&hr(r,"nonce",i.e=s),o!==i.t&&Ca(r,"innerHTML",i.t=o),i},{e:void 0,t:void 0}),r})()}const th=function(){return null},nh="/assets/app-0a4gda_d.css",rh=({title:e,description:n,keywords:t,image:r})=>[{title:e},{name:"description",content:n},{name:"keywords",content:t},{name:"twitter:title",content:e},{name:"twitter:description",content:n},{name:"twitter:creator",content:"@tannerlinsley"},{name:"twitter:site",content:"@tannerlinsley"},{name:"og:type",content:"website"},{name:"og:title",content:e},{name:"og:description",content:n},...r?[{name:"twitter:image",content:r},{name:"twitter:card",content:"summary_large_image"},{name:"og:image",content:r}]:[]];var ih=je('<main class="h-dvh bg-background text-foreground">');const En=sf({head:()=>({meta:[{charset:"utf-8"},{name:"viewport",content:"width=device-width, initial-scale=1"},...rh({title:"TanStack Start | Type-Safe, Client-First, Full-Stack React Framework",description:"TanStack Start is a type-safe, client-first, full-stack React framework. "})],links:[{rel:"stylesheet",href:nh},{rel:"apple-touch-icon",sizes:"180x180",href:"/apple-touch-icon.png"},{rel:"icon",type:"image/png",sizes:"32x32",href:"/favicon-32x32.png"},{rel:"icon",type:"image/png",sizes:"16x16",href:"/favicon-16x16.png"},{rel:"manifest",href:"/site.webmanifest",color:"#fffff"},{rel:"icon",href:"/favicon.ico"}]}),errorComponent:e=>v(Za,{get children(){return v(Ga,e)}}),notFoundComponent:()=>v(cs,{}),component:sh});function sh(){return v(Za,{get children(){return v(os,{})}})}Mn("src_routes_root_tsx--getServerCookies_1","/_serverFn");function Za({children:e}){const n=Jf(document.cookie);return[v(Ha,{}),v(eh,{get storageType(){return n.type}}),v(Zf,{storageManager:n,get children(){var t=Re(ih);return Be(t,e),t}}),v(th,{position:"bottom-right"}),v(Ef,{})]}const oh=Mn("src_lib_get-auth_ts--getSession_createServerFn_handler","/_serverFn");Jt({method:"GET"}).handler(oh);const ah=Mn("src_lib_get-auth_ts--getUserAuth_createServerFn_handler","/_serverFn"),ch=Jt({method:"GET"}).handler(ah),lh=()=>Ve(()=>import("./_layout-DwuZFJSW.js"),__vite__mapDeps([0,1,2,3,4,5,6,7])),Xa=rt("/_layout")({component:It(lh,"component",()=>Xa.ssr),loader:async()=>{const{jwt:e,user:n}=await ch();if(!n||!e)throw Qi({to:"/login"});return{jwt:e,user:n}},staleTime:Number.POSITIVE_INFINITY}),uh=()=>Ve(()=>import("./index-DgIzPBgT.js"),[]),Qa=rt("/")({component:It(uh,"component",()=>Qa.ssr)}),dh=Mn("src_actions_get-workspace_tsx--getWorkspace_createServerFn_handler","/_serverFn"),fh=Jt({method:"GET"}).handler(dh),Ln=e=>Array.isArray(e)?e:[e],hh=(e,n)=>{const t=[[],[]];for(const r of e)n(r)?t[0].push(r):t[1].push(r);return t},ec=Array,vt=(e,n)=>e.includes(n),ph=(e,n=0)=>[...new Array(e)].map((t,r)=>r+n),H=(e,n,t)=>e===void 0?n===void 0?[]:Array.isArray(n)?n:[n]:(Array.isArray(n)?e.push(...n):e.push(n),e),xt=(e,n)=>n==null?e??[]:e==null?Ln(n):e.concat(n),mh=(...e)=>e.reduce(xt,[]),_t=(e,n,t)=>{if(e===void 0)return Array.isArray(n)?n:[n];const r=(t==null?void 0:t.isEqual)??((i,s)=>i===s);for(const i of Ln(n))e.some(s=>r(s,i))||e.push(i);return e},gh=(e,n)=>e.reduce((t,r)=>{const i=r[n];return t[i]=H(t[i],r),t},{}),tn=(e,n,t)=>e.length===n.length&&e.every(t!=null&&t.isEqual?(r,i)=>t.isEqual(r,n[i]):(r,i)=>r===n[i]),Ot=(e,n)=>He(e)===n,He=e=>{const n=typeof e;return n==="object"?e===null?"null":"object":n==="function"?"object":n},it={boolean:"boolean",null:"null",undefined:"undefined",bigint:"a bigint",number:"a number",object:"an object",string:"a string",symbol:"a symbol"},yh={...it,function:"a function"};class bh extends Error{}const le=e=>nn(e,bh),nn=(e,n=Error)=>{throw new n(e)};class vh extends Error{constructor(){super(...arguments);f(this,"name","ParseError")}}const $=e=>nn(e,vh),tc=e=>` ${e}`,W=(e,n)=>{const t={},r=Array.isArray(e);let i=!1;for(const[s,o]of Object.entries(e).entries()){const a=r?n(s,o[1]):n(...o,s);i||(i=typeof a[0]=="number");const c=Array.isArray(a[0])||a.length===0?a:[a];for(const[l,u]of c)typeof l=="object"?t[l.group]=H(t[l.group],u):t[l]=u}return i?Object.values(t):t},nc=Object.entries,Ze=(e,n)=>e in n,ds=(e,n)=>n in e;class wh{constructor(n){Object.assign(this,n)}}const $h=class{};class rc extends $h{}const xh=(e,n)=>{const t={},r={};let i;for(i in e)i in n?t[i]=e[i]:r[i]=e[i];return[t,r]},Sh=(e,n)=>xh(e,n)[1],Dn=e=>Object.keys(e).length===0,kr=e=>[...Object.entries(e),...Object.getOwnPropertySymbols(e).map(n=>[n,e[n]])],kh=(e,n)=>Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)),_h=e=>{const n=Object.keys(e).sort(),t={};for(let r=0;r<n.length;r++)t[n[r]]=e[n[r]];return t},et=tc("represents an uninitialized value"),Ah=e=>Object.values(e).filter(n=>typeof n=="number"?!0:typeof e[n]!="number"),ic={Array,Boolean,Date,Error,Function,Map,Number,Promise,RegExp,Set,String,WeakMap,WeakSet},sc=globalThis.File??Blob,oc={ArrayBuffer,Blob,File:sc,FormData,Headers,Request,Response,URL},Ch={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array,BigInt64Array,BigUint64Array},rn={...ic,...oc,...Ch,String,Number,Boolean},fs=e=>{var r;let n=Object.getPrototypeOf(e);for(;n!=null&&n.constructor&&(!Ze(n.constructor.name,rn)||!(e instanceof rn[n.constructor.name]));)n=Object.getPrototypeOf(n);const t=(r=n==null?void 0:n.constructor)==null?void 0:r.name;if(!(t===void 0||t==="Object"))return t},Ii=e=>typeof e=="object"&&e!==null?fs(e)??"object":He(e),be=Array.isArray,Ph={Array:"an array",Function:"a function",Date:"a Date",RegExp:"a RegExp",Error:"an Error",Map:"a Map",Set:"a Set",String:"a String object",Number:"a Number object",Boolean:"a Boolean object",Promise:"a Promise",WeakMap:"a WeakMap",WeakSet:"a WeakSet"},Rh={ArrayBuffer:"an ArrayBuffer instance",Blob:"a Blob instance",File:"a File instance",FormData:"a FormData instance",Headers:"a Headers instance",Request:"a Request instance",Response:"a Response instance",URL:"a URL instance"},Ih={Int8Array:"an Int8Array",Uint8Array:"a Uint8Array",Uint8ClampedArray:"a Uint8ClampedArray",Int16Array:"an Int16Array",Uint16Array:"a Uint16Array",Int32Array:"an Int32Array",Uint32Array:"a Uint32Array",Float32Array:"a Float32Array",Float64Array:"a Float64Array",BigInt64Array:"a BigInt64Array",BigUint64Array:"a BigUint64Array"},Oh={...Ph,...Rh,...Ih},hs=e=>{const n=Object(e).name??null;return n&&Ze(n,rn)&&rn[n]===e?n:null},co=(e,n)=>{let t=e.prototype;for(;t!==null;){if(t===n.prototype)return!0;t=Object.getPrototypeOf(t)}return!1},Nh=e=>ac(e,new Map),ac=(e,n)=>{if(typeof e!="object"||e===null)return e;if(n!=null&&n.has(e))return n.get(e);const t=hs(e.constructor);if(t==="Date")return new Date(e.getTime());if(t&&t!=="Array")return e;const r=Array.isArray(e)?e.slice():Object.create(Object.getPrototypeOf(e)),i=Object.getOwnPropertyDescriptors(e);if(n){n.set(e,r);for(const s in i){const o=i[s];"get"in o||"set"in o||(o.value=ac(o.value,n))}}return Object.defineProperties(r,i),r},Mh=e=>{let n=et;return()=>n===et?n=e():n},Fr=e=>typeof e=="function"&&e.length===0,Eh=class extends Function{constructor(...e){const n=e.slice(0,-1),t=e.at(-1);try{super(...n,t)}catch(r){return le(`Encountered an unexpected error while compiling your definition:
                Message: ${r} 
                Source: (${e.slice(0,-1)}) => {
                    ${e.at(-1)}
                }`)}}};class ln{constructor(n,...[t]){return Object.assign(Object.setPrototypeOf(n.bind((t==null?void 0:t.bind)??this),this.constructor.prototype),t==null?void 0:t.attach)}}const Lh=Mh(()=>{try{return new Function("return false")()}catch{return!0}});class Xe{constructor(){}}const Dh=()=>{var e,n,t;try{return(((t=(((n=(e=new Error().stack)==null?void 0:e.split(`
`)[2])==null?void 0:n.trim())||"").match(/\(?(.+?)(?::\d+:\d+)?\)?$/))==null?void 0:t[1])||"unknown").replace(/^file:\/\//,"")}catch{return"unknown"}};var ta;const Th=((ta=globalThis.process)==null?void 0:ta.env)??{},Fh={fileName:Dh,env:Th},Bh=e=>e[0].toUpperCase()+e.slice(1),cc=e=>new RegExp(Kh(e),typeof e=="string"?"":e.flags),Kh=e=>`^(?:${typeof e=="string"?e:e.source})$`,pt={negativeLookahead:e=>`(?!${e})`,nonCapturingGroup:e=>`(?:${e})`},Oi="\\",Br={" ":1,"\n":1,"	":1},jh=/^-0\.?0*$/.source,lc=/[1-9]\d*/.source,qh=/\.\d+/.source,zh=/\.\d*[1-9]/.source,uc=e=>cc(pt.negativeLookahead(jh)+pt.nonCapturingGroup("-?"+pt.nonCapturingGroup(pt.nonCapturingGroup("0|"+lc)+pt.nonCapturingGroup(e.decimalPattern)+"?")+(e.allowDecimalOnly?"|"+e.decimalPattern:"")+"?")),lo=uc({decimalPattern:zh,allowDecimalOnly:!1}),Uh=lo.test.bind(lo),Ni=uc({decimalPattern:qh,allowDecimalOnly:!0});Ni.test.bind(Ni);const Vh=/^-?\d*\.?\d*$/,Jh=e=>e.length!==0&&Vh.test(e),_r=cc(pt.negativeLookahead("^-0$")+"-?"+pt.nonCapturingGroup(pt.nonCapturingGroup("0|"+lc))),Hh=_r.test.bind(_r),Mi=/^-?\d+$/,Gh=Mi.test.bind(Mi),dc={number:"a number",bigint:"a bigint",integer:"an integer"},fc=(e,n)=>`'${e}' was parsed as ${dc[n]} but could not be narrowed to a literal value. Avoid unnecessary leading or trailing zeros and other abnormal notation`,Wh=(e,n)=>n==="number"?Uh(e):Hh(e),Yh=(e,n)=>n==="number"?Number(e):Number.parseInt(e),Zh=(e,n)=>n==="number"?Jh(e):Gh(e),Xh=(e,n)=>ps(e,"number",n),Qh=(e,n)=>ps(e,"number",{...n,strict:!0}),ep=(e,n)=>ps(e,"integer",n),ps=(e,n,t)=>{const r=Yh(e,n);return!Number.isNaN(r)&&Zh(e,n)?t!=null&&t.strict?Wh(e,n)?r:$(fc(e,n)):r:t!=null&&t.errorOnFail?$((t==null?void 0:t.errorOnFail)===!0?`Failed to parse ${dc[n]} from '${e}'`:t==null?void 0:t.errorOnFail):void 0},tp=e=>{if(e[e.length-1]!=="n")return;const n=e.slice(0,-1);let t;try{t=BigInt(n)}catch{return}if(_r.test(n))return t;if(Mi.test(n))return $(fc(e,"bigint"))},np="0.46.0",rp={version:np,filename:Fh.fileName(),FileConstructor:sc},Tn=rp,uo=new Map,ii=Object.create(null),Ei=e=>{const n=uo.get(e);if(n)return n;let t=ip(e);return ii[t]?t=`${t}${ii[t]++}`:ii[t]=1,Tn[t]=e,uo.set(e,t),t},Pn=e=>/^[$A-Z_a-z][\w$]*$/.test(e),ip=e=>{switch(typeof e){case"object":{if(e===null)break;const n=fs(e)??"object";return n[0].toLowerCase()+n.slice(1)}case"function":return Pn(e.name)?e.name:"fn";case"symbol":return e.description&&Pn(e.description)?e.description:"symbol"}return le(`Unexpected attempt to register serializable value of type ${He(e)}`)},ms=e=>typeof e=="string"?JSON.stringify(e):typeof e=="bigint"?`${e}n`:`${e}`,sp=(e,n={})=>xn(e,{onUndefined:"$ark.undefined",onBigInt:t=>`$ark.bigint-${t}`,...n},[]),V=(e,n)=>{switch(He(e)){case"object":const t=e,r=t.constructor.name;return r==="Object"||r==="Array"?(n==null?void 0:n.quoteKeys)===!1?Ar(t,(n==null?void 0:n.indent)??0,""):JSON.stringify(xn(t,sn,[]),null,n==null?void 0:n.indent):Ar(t,(n==null?void 0:n.indent)??0,"");case"symbol":return sn.onSymbol(e);default:return ms(e)}},Ar=(e,n,t)=>{if(typeof e=="function")return sn.onFunction(e);if(typeof e!="object"||e===null)return ms(e);const r=t+" ".repeat(n);if(Array.isArray(e)){if(e.length===0)return"[]";const s=e.map(o=>Ar(o,n,r)).join(`,
`+r);return n?`[
${r}${s}
${t}]`:`[${s}]`}const i=e.constructor.name;if(i==="Object"){const s=kr(e).map(([o,a])=>{const c=typeof o=="symbol"?sn.onSymbol(o):Pn(o)?o:JSON.stringify(o),l=Ar(a,n,r);return`${r}${c}: ${l}`});return s.length===0?"{}":n?`{
${s.join(`,
`)}
${t}}`:`{${s.join(", ")}}`}return e instanceof Date?Fn(e):"expression"in e&&typeof e.expression=="string"?e.expression:i},sn={onCycle:()=>"(cycle)",onSymbol:e=>`Symbol(${Ei(e)})`,onFunction:e=>`Function(${Ei(e)})`},xn=(e,n,t)=>{var r,i;switch(He(e)){case"object":{const s=e;if("toJSON"in s&&typeof s.toJSON=="function")return s.toJSON();if(typeof s=="function")return sn.onFunction(s);if(t.includes(s))return"(cycle)";const o=[...t,s];if(Array.isArray(s))return s.map(c=>xn(c,n,o));if(s instanceof Date)return s.toDateString();const a={};for(const c in s)a[c]=xn(s[c],n,o);for(const c of Object.getOwnPropertySymbols(s))a[((r=n.onSymbol)==null?void 0:r.call(n,c))??c.toString()]=xn(s[c],n,o);return a}case"symbol":return sn.onSymbol(e);case"bigint":return((i=n.onBigInt)==null?void 0:i.call(n,e))??`${e}n`;case"undefined":return n.onUndefined??"undefined";case"string":return e.replaceAll("\\","\\\\");default:return e}},Fn=e=>{const n=e.getFullYear(),t=e.getMonth(),r=e.getDate(),i=e.getHours(),s=e.getMinutes(),o=e.getSeconds(),a=e.getMilliseconds();if(t===0&&r===1&&i===0&&s===0&&o===0&&a===0)return`${n}`;const c=`${op[t]} ${r}, ${n}`;if(i===0&&s===0&&o===0&&a===0)return c;let l=e.toLocaleTimeString();const u=l.endsWith(" AM")||l.endsWith(" PM")?l.slice(-3):"";return u&&(l=l.slice(0,-u.length)),a?l+=`.${cp(a,3)}`:ap.test(l)&&(l=l.slice(0,-3)),`${l+u}, ${c}`},op=["January","February","March","April","May","June","July","August","September","October","November","December"],ap=/:\d\d:00$/,cp=(e,n)=>String(e).padStart(n,"0"),hc=(e,n,...[t])=>{const r=(t==null?void 0:t.stringifySymbol)??V;let i=e;switch(typeof n){case"string":i=Pn(n)?e===""?n:`${e}.${n}`:`${e}[${JSON.stringify(n)}]`;break;case"number":i=`${e}[${n}]`;break;case"symbol":i=`${e}[${r(n)}]`;break;default:t!=null&&t.stringifyNonKey?i=`${e}[${t.stringifyNonKey(n)}]`:$(`${V(n)} must be a PropertyKey or stringifyNonKey must be passed to options`)}return i},Bn=(e,...n)=>e.reduce((t,r)=>hc(t,r,...n),"");class pc extends ec{constructor(...t){super();f(this,"cache",{});this.push(...t)}toJSON(){if(this.cache.json)return this.cache.json;this.cache.json=[];for(let t=0;t<this.length;t++)this.cache.json.push(typeof this[t]=="symbol"?V(this[t]):this[t]);return this.cache.json}stringify(){return this.cache.stringify?this.cache.stringify:this.cache.stringify=Bn(this)}stringifyAncestors(){if(this.cache.stringifyAncestors)return this.cache.stringifyAncestors;let t="";const r=[t];for(const i of this)t=hc(t,i),r.push(t);return this.cache.stringifyAncestors=r}}class lp{constructor(n){f(this,"chars");f(this,"i");f(this,"def");this.def=n,this.chars=[...n],this.i=0}shift(){return this.chars[this.i++]??""}get lookahead(){return this.chars[this.i]??""}get nextLookahead(){return this.chars[this.i+1]??""}get length(){return this.chars.length}shiftUntil(n){let t="";for(;this.lookahead;){if(n(this,t))if(t[t.length-1]===Oi)t=t.slice(0,-1);else break;t+=this.shift()}return t}shiftUntilLookahead(n){return typeof n=="string"?this.shiftUntil(t=>t.lookahead===n):this.shiftUntil(t=>t.lookahead in n)}shiftUntilNonWhitespace(){return this.shiftUntil(()=>!(this.lookahead in Br))}jumpToIndex(n){this.i=n<0?this.length+n:n}jumpForward(n){this.i+=n}get location(){return this.i}get unscanned(){return this.chars.slice(this.i,this.length).join("")}get scanned(){return this.chars.slice(0,this.i).join("")}sliceChars(n,t){return this.chars.slice(n,t).join("")}lookaheadIs(n){return this.lookahead===n}lookaheadIsIn(n){return this.lookahead in n}}let Li="$ark",up=2;for(;Li in globalThis;)Li=`$ark${up++}`;const mc=Li;globalThis[mc]=Tn;const k=Tn,dp=e=>`${mc}.${e}`,Se=e=>dp(Ei(e));class gc extends rc{constructor(...t){super();f(this,"argNames");f(this,"body","");f(this,"indentation",0);this.argNames=t;for(const r of t){if(r in this)throw new Error(`Arg name '${r}' would overwrite an existing property on FunctionBody`);this[r]=r}}indent(){return this.indentation+=4,this}dedent(){return this.indentation-=4,this}prop(t,r=!1){return yc(t,r)}index(t,r=!1){return bc(`${t}`,r)}line(t){return this.body+=`${" ".repeat(this.indentation)}${t}
`,this}const(t,r){return this.line(`const ${t} = ${r}`),this}let(t,r){return this.line(`let ${t} = ${r}`)}set(t,r){return this.line(`${t} = ${r}`)}if(t,r){return this.block(`if (${t})`,r)}elseIf(t,r){return this.block(`else if (${t})`,r)}else(t){return this.block("else",t)}for(t,r,i=0){return this.block(`for (let i = ${i}; ${t}; i++)`,r)}forIn(t,r){return this.block(`for (const k in ${t})`,r)}block(t,r,i=""){return this.line(`${t} {`),this.indent(),r(this),this.dedent(),this.line(`}${i}`)}return(t=""){return this.line(`return ${t}`)}write(t="anonymous",r=0){return`${t}(${this.argNames.join(", ")}) { ${r?this.body.split(`
`).map(i=>" ".repeat(r)+`${i}`).join(`
`):this.body} }`}compile(){return new Eh(...this.argNames,this.body)}}const Kn=e=>Ot(e,"object")||typeof e=="symbol"?Se(e):ms(e),yc=(e,n=!1)=>typeof e=="string"&&Pn(e)?`${n?"?":""}.${e}`:bc(fp(e),n),fp=e=>typeof e=="symbol"?Se(e):JSON.stringify(e),bc=(e,n=!1)=>`${n?"?.":""}[${e}]`;class si extends gc{constructor(t){super("data","ctx");f(this,"traversalKind");f(this,"optimistic");this.traversalKind=t.kind,this.optimistic=t.optimistic===!0}invoke(t,r){const i=(r==null?void 0:r.arg)??this.data,s=typeof t=="string"?!0:this.requiresContextFor(t),o=typeof t=="string"?t:t.id;return s?`${this.referenceToId(o,r)}(${i}, ${this.ctx})`:`${this.referenceToId(o,r)}(${i})`}referenceToId(t,r){const i=(r==null?void 0:r.kind)??this.traversalKind,s=`this.${t}${i}`;return r!=null&&r.bind?`${s}.bind(${r==null?void 0:r.bind})`:s}requiresContextFor(t){return this.traversalKind==="Apply"||t.allowsRequiresContext}initializeErrorCount(){return this.const("errorCount","ctx.currentErrorCount")}returnIfFail(){return this.if("ctx.currentErrorCount > errorCount",()=>this.return())}returnIfFailFast(){return this.if("ctx.failFast && ctx.currentErrorCount > errorCount",()=>this.return())}traverseKey(t,r,i){const s=this.requiresContextFor(i);return s&&this.line(`${this.ctx}.path.push(${t})`),this.check(i,{arg:r}),s&&this.line(`${this.ctx}.path.pop()`),this}check(t,r){return this.traversalKind==="Allows"?this.if(`!${this.invoke(t,r)}`,()=>this.return(!1)):this.line(this.invoke(t,r))}}const vc=e=>W(e,(n,t)=>[n,be(t)?[...t]:t]),st=tc("arkKind"),L=(e,n)=>(e==null?void 0:e[st])===n,$e=e=>L(e,"root")||L(e,"constraint"),hp=["unit","proto","domain"],Kr=["required","optional","index","sequence"],wc=["pattern","divisor","exactLength","max","min","maxLength","minLength","before","after"],gs=[...wc,...Kr,"structure","predicate"],jr=["alias","union","morph","unit","intersection","proto","domain"],pp=[...jr,...gs],$c=W(gs,(e,n)=>[n,1]),mp=W([...Kr,"undeclared"],(e,n)=>[n,1]),xc=W(pp,(e,n)=>[n,e]),sr=e=>typeof e=="string"&&e in xc,Cr=e=>xc[e],ys=e=>jr.slice(Cr(e)+1);[...ys("union")];[...ys("morph")];const Ct=e=>typeof e=="string"||typeof e=="boolean"||e===null?e:typeof e=="number"?Number.isNaN(e)?"NaN":e===Number.POSITIVE_INFINITY?"Infinity":e===Number.NEGATIVE_INFINITY?"-Infinity":e:Kn(e),qr=e=>{let n="{ ";for(const[t,r]of Object.entries(e))n+=`${t}: ${Kn(r)}, `;return n+" }"},se=e=>{var t,r,i,s;const n=e;return n.hasAssociatedError&&((t=n.defaults).expected??(t.expected=o=>"description"in o?o.description:n.defaults.description(o)),(r=n.defaults).actual??(r.actual=o=>V(o)),(i=n.defaults).problem??(i.problem=o=>`must be ${o.expected}${o.actual?` (was ${o.actual})`:""}`),(s=n.defaults).message??(s.message=o=>{if(o.path.length===0)return o.problem;const a=`${o.propString} ${o.problem}`;return a[0]==="["?`value at ${a}`:a})),n};class gp extends Error{constructor(t,r){super(V(r,{quoteKeys:!1,indent:4}));f(this,"name","ToJsonSchemaError");f(this,"code");f(this,"context");this.code=t,this.context=r}hasCode(t){return this.code===t}}const yp={dialect:"https://json-schema.org/draft/2020-12/schema",useRefs:!1,fallback:{arrayObject:e=>ue.throw("arrayObject",e),arrayPostfix:e=>ue.throw("arrayPostfix",e),defaultValue:e=>ue.throw("defaultValue",e),domain:e=>ue.throw("domain",e),morph:e=>ue.throw("morph",e),patternIntersection:e=>ue.throw("patternIntersection",e),predicate:e=>ue.throw("predicate",e),proto:e=>ue.throw("proto",e),symbolKey:e=>ue.throw("symbolKey",e),unit:e=>ue.throw("unit",e),date:e=>ue.throw("date",e)}},ue={Error:gp,throw:(...e)=>{throw new ue.Error(...e)},throwInternalOperandError:(e,n)=>le(`Unexpected JSON Schema input for ${e}: ${V(n)}`),defaultConfig:yp};k.config??(k.config={});const Di=(e,n)=>{if(!n)return e;const t={...e};let r;for(r in n){const i={...e.keywords};if(r==="keywords"){for(const s in n[r]){const o=n.keywords[s];o!==void 0&&(i[s]=typeof o=="string"?{description:o}:o)}t.keywords=i}else r==="toJsonSchema"?t[r]=Sc(e.toJsonSchema,n.toJsonSchema):sr(r)?t[r]={...e[r],...n[r]}:t[r]=n[r]}return t},Sc=(e,n)=>{if(!e)return n??{};if(!n)return e;const t={...e};let r;for(r in n)r==="fallback"?t.fallback=bp(e.fallback,n.fallback):t[r]=n[r];return t},bp=(e,n)=>{e=fo(e),n=fo(n);const t={};let r;for(r in ue.defaultConfig.fallback)t[r]=n[r]??n.default??e[r]??e.default??ue.defaultConfig.fallback[r];return t},fo=e=>typeof e=="function"?{default:e}:e??{};var na,ra;class on extends(ra=rc,na=st,ra){constructor({prefixPath:t,relativePath:r,...i},s){super();f(this,na,"error");f(this,"path");f(this,"data");f(this,"nodeConfig");f(this,"input");f(this,"ctx");this.input=i,this.ctx=s,kh(this,i);const o=s.data;i.code==="union"&&(i.errors=i.errors.flatMap(c=>{const l=c.hasCode("union")?c.errors:[c];return!t&&!r?l:l.map(u=>u.transform(d=>({...d,path:mh(t,d.path,r)})))})),this.nodeConfig=s.config[this.code];const a=[...i.path??s.path];r&&a.push(...r),t&&a.unshift(...t),this.path=new pc(...a),this.data="data"in i?i.data:o}transform(t){return new on(t({data:this.data,path:this.path,...this.input}),this.ctx)}hasCode(t){return this.code===t}get propString(){return Bn(this.path)}get expected(){var r;if(this.input.expected)return this.input.expected;const t=((r=this.meta)==null?void 0:r.expected)??this.nodeConfig.expected;return typeof t=="function"?t(this.input):t}get actual(){var r;if(this.input.actual)return this.input.actual;const t=((r=this.meta)==null?void 0:r.actual)??this.nodeConfig.actual;return typeof t=="function"?t(this.data):t}get problem(){var r;if(this.input.problem)return this.input.problem;const t=((r=this.meta)==null?void 0:r.problem)??this.nodeConfig.problem;return typeof t=="function"?t(this):t}get message(){var r;if(this.input.message)return this.input.message;const t=((r=this.meta)==null?void 0:r.message)??this.nodeConfig.message;return typeof t=="function"?t(this):t}get flat(){return this.hasCode("intersection")?[...this.errors]:[this]}toJSON(){return{data:this.data,path:this.path,...this.input,expected:this.expected,actual:this.actual,problem:this.problem,message:this.message}}toString(){return this.message}throw(){throw this}}var ia,sa;class yt extends(sa=ec,ia=st,sa){constructor(t){super();f(this,ia,"errors");f(this,"ctx");f(this,"byPath",Object.create(null));f(this,"byAncestorPath",Object.create(null));f(this,"count",0);f(this,"mutable",this);this.ctx=t}get flatByPath(){return W(this.byPath,(t,r)=>[t,r.flat])}get flatProblemsByPath(){return W(this.byPath,(t,r)=>[t,r.flat.map(i=>i.problem)])}throw(){throw this.toTraversalError()}toTraversalError(){return new vp(this)}add(t){this.includes(t)||this._add(t)}transform(t){const r=new yt(this.ctx);for(const i of this)r.add(t(i));return r}merge(t){for(const r of t)this.includes(r)||this._add(new on({...r,path:[...this.ctx.path,...r.path]},this.ctx))}affectsPath(t){return this.length===0?!1:t.stringifyAncestors().some(r=>r in this.byPath)||t.stringify()in this.byAncestorPath}get summary(){return this.toString()}get issues(){return this}toJSON(){return[...this.map(t=>t.toJSON())]}toString(){return this.join(`
`)}_add(t){const r=this.byPath[t.propString];if(r){if(r.hasCode("union")&&r.errors.length===0)return;const i=t.hasCode("union")&&t.errors.length===0?t:new on({code:"intersection",errors:r.hasCode("intersection")?[...r.errors,t]:[r,t]},this.ctx),s=this.indexOf(r);this.mutable[s===-1?this.length:s]=i,this.byPath[t.propString]=i,this.addAncestorPaths(t)}else this.byPath[t.propString]=t,this.addAncestorPaths(t),this.mutable.push(t);this.count++}addAncestorPaths(t){for(const r of t.path.stringifyAncestors())this.byAncestorPath[r]=H(this.byAncestorPath[r],t)}}class vp extends Error{constructor(t){var n=(...Av)=>(super(...Av),f(this,"name","TraversalError"),this);t.length===1?n(t.summary):n(`
`+t.map(r=>`   ${wp(r)}`).join(`
`)),Object.defineProperty(this,"arkErrors",{value:t,enumerable:!1})}}const wp=e=>e.toString().split(`
`).join(`
  `);class Bt{constructor(n,t){f(this,"path",[]);f(this,"errors",new yt(this));f(this,"root");f(this,"config");f(this,"queuedMorphs",[]);f(this,"branches",[]);f(this,"seen",{});this.root=n,this.config=t}get data(){let n=this.root;for(const t of this.path)n=n==null?void 0:n[t];return n}get propString(){return Bn(this.path)}reject(n){return this.error(n),!1}mustBe(n){return this.error(n),!1}error(n){const t=typeof n=="object"?n.code?n:{...n,code:"predicate"}:{code:"predicate",expected:n};return this.errorFromContext(t)}hasError(){return this.currentErrorCount!==0}get currentBranch(){return this.branches.at(-1)}queueMorphs(n){const t={path:new pc(...this.path),morphs:n};this.currentBranch?this.currentBranch.queuedMorphs.push(t):this.queuedMorphs.push(t)}finalize(n){return this.queuedMorphs.length&&(typeof this.root=="object"&&this.root!==null&&this.config.clone&&(this.root=this.config.clone(this.root)),this.applyQueuedMorphs()),this.hasError()?n?n(this.errors):this.errors:this.root}get currentErrorCount(){return this.currentBranch?this.currentBranch.error?1:0:this.errors.count}get failFast(){return this.branches.length!==0}pushBranch(){this.branches.push({error:void 0,queuedMorphs:[]})}popBranch(){return this.branches.pop()}get external(){return this}errorFromNodeContext(n){return this.errorFromContext(n)}errorFromContext(n){const t=new on(n,this);return this.currentBranch?this.currentBranch.error=t:this.errors.add(t),t}applyQueuedMorphs(){for(;this.queuedMorphs.length;){const n=this.queuedMorphs;this.queuedMorphs=[];for(const{path:t,morphs:r}of n)this.errors.affectsPath(t)||this.applyMorphsAtPath(t,r)}}applyMorphsAtPath(n,t){const r=n.at(-1);let i;if(r!==void 0){i=this.root;for(let s=0;s<n.length-1;s++)i=i[n[s]]}this.path=[...n];for(const s of t){const o=$e(s),a=s(i===void 0?this.root:i[r],this);if(a instanceof on){this.errors.add(a);break}if(a instanceof yt){o||this.errors.merge(a);break}i===void 0?this.root=a:i[r]=a,this.applyQueuedMorphs()}}}const ot=(e,n,t)=>{if(!t)return n();t.path.push(e);const r=n();return t.path.pop(),r};class kc extends ln{constructor(t,r){var s;super((o,a,c=this.onFail)=>a?(this.traverseApply(o,a),a.hasError()?a.errors:a.data):this.rootApply(o,c),{attach:t});f(this,"attachments");f(this,"$");f(this,"onFail");f(this,"includesTransform");f(this,"includesContextualPredicate");f(this,"isCyclic");f(this,"allowsRequiresContext");f(this,"rootApplyStrategy");f(this,"contextFreeMorph");f(this,"rootApply");f(this,"referencesById");f(this,"shallowReferences");f(this,"flatRefs");f(this,"flatMorphs");f(this,"allows");f(this,"compiledMeta",Sp(this.metaJson));f(this,"precedence",Cr(this.kind));f(this,"precompilation");f(this,"assert",(t,r)=>this(t,r,i=>i.throw()));this.attachments=t,this.$=r,this.onFail=this.meta.onFail??this.$.resolvedConfig.onFail,this.includesTransform=this.hasKind("morph")||this.hasKind("structure")&&this.structuralMorph!==void 0,this.includesContextualPredicate=this.hasKind("predicate")&&this.inner.predicate.length!==1,this.isCyclic=this.kind==="alias",this.referencesById={[this.id]:this},this.shallowReferences=this.hasKind("structure")?[this,...this.children]:this.children.reduce((o,a)=>kp(o,a.shallowReferences),[this]);const i=this.isStructural();this.flatRefs=[],this.flatMorphs=[];for(let o=0;o<this.children.length;o++){if(this.includesTransform||(this.includesTransform=this.children[o].includesTransform),this.includesContextualPredicate||(this.includesContextualPredicate=this.children[o].includesContextualPredicate),this.isCyclic||(this.isCyclic=this.children[o].isCyclic),!i){const a=this.children[o].flatRefs;for(let c=0;c<a.length;c++){const l=a[c];if(!this.flatRefs.some(u=>_c(u,l))){this.flatRefs.push(l);for(const u of l.node.branches)(u.hasKind("morph")||u.hasKind("intersection")&&((s=u.structure)==null?void 0:s.structuralMorph)!==void 0)&&this.flatMorphs.push({path:l.path,propString:l.propString,node:u})}}}Object.assign(this.referencesById,this.children[o].referencesById)}this.flatRefs.sort((o,a)=>o.path.length>a.path.length?1:o.path.length<a.path.length?-1:o.propString>a.propString?1:o.propString<a.propString||o.node.expression<a.node.expression?-1:1),this.allowsRequiresContext=this.includesContextualPredicate||this.isCyclic,this.rootApplyStrategy=!this.allowsRequiresContext&&this.flatMorphs.length===0?this.shallowMorphs.length===0?"allows":this.shallowMorphs.every(o=>o.length===1||o.name==="$arkStructuralMorph")?this.hasKind("union")?this.branches.some(o=>o.shallowMorphs.length>1)?"contextual":"branchedOptimistic":this.shallowMorphs.length>1?"contextual":"optimistic":"contextual":"contextual",this.rootApply=this.createRootApply(),this.allows=this.allowsRequiresContext?o=>this.traverseAllows(o,new Bt(o,this.$.resolvedConfig)):o=>this.traverseAllows(o)}get shallowMorphs(){return[]}createRootApply(){switch(this.rootApplyStrategy){case"allows":return(r,i)=>{if(this.allows(r))return r;const s=new Bt(r,this.$.resolvedConfig);return this.traverseApply(r,s),s.finalize(i)};case"contextual":return(r,i)=>{const s=new Bt(r,this.$.resolvedConfig);return this.traverseApply(r,s),s.finalize(i)};case"optimistic":this.contextFreeMorph=this.shallowMorphs[0];const t=this.$.resolvedConfig.clone;return(r,i)=>{if(this.allows(r))return this.contextFreeMorph(t&&(typeof r=="object"&&r!==null||typeof r=="function")?t(r):r);const s=new Bt(r,this.$.resolvedConfig);return this.traverseApply(r,s),s.finalize(i)};case"branchedOptimistic":return this.createBranchedOptimisticRootApply();default:return this.rootApplyStrategy,le(`Unexpected rootApplyStrategy ${this.rootApplyStrategy}`)}}cacheGetter(t,r){return Object.defineProperty(this,t,{value:r}),r}get description(){var t;return this.cacheGetter("description",((t=this.meta)==null?void 0:t.description)??this.$.resolvedConfig[this.kind].description(this))}get references(){return Object.values(this.referencesById)}traverse(t,r){return this(t,r,null)}get in(){return this.cacheGetter("in",this.getIo("in"))}get out(){return this.cacheGetter("out",this.getIo("out"))}getIo(t){if(!this.includesTransform)return this;const r={};for(const[i,s]of this.innerEntries){const o=this.impl.keys[i];if(o.reduceIo)o.reduceIo(t,r,s);else if(o.child){const a=s;r[i]=be(a)?a.map(c=>c[t]):a[t]}else r[i]=s}return this.$.node(this.kind,r)}toJSON(){return this.json}toString(){return`Type<${this.expression}>`}equals(t){const r=$e(t)?t:this.$.parseDefinition(t);return this.innerHash===r.innerHash}ifEquals(t){return this.equals(t)?this:void 0}hasKind(t){return this.kind===t}assertHasKind(t){return this.kind!==t&&nn(`${this.kind} node was not of asserted kind ${t}`),this}hasKindIn(...t){return t.includes(this.kind)}assertHasKindIn(...t){return vt(t,this.kind)||nn(`${this.kind} node was not one of asserted kinds ${t}`),this}isBasis(){return vt(hp,this.kind)}isConstraint(){return vt(gs,this.kind)}isStructural(){return vt(Kr,this.kind)}isRefinement(){return vt(wc,this.kind)}isRoot(){return vt(jr,this.kind)}isUnknown(){return this.hasKind("intersection")&&this.children.length===0}isNever(){return this.hasKind("union")&&this.children.length===0}hasUnit(t){return this.hasKind("unit")&&this.allows(t)}hasOpenIntersection(){return this.impl.intersectionIsOpen}get nestableExpression(){return this.expression}select(t){const r=yn.normalize(t);return this._select(r)}_select(t){let r=yn.applyBoundary[t.boundary??"references"](this);return t.kind&&(r=r.filter(i=>i.kind===t.kind)),t.where&&(r=r.filter(t.where)),yn.applyMethod[t.method??"filter"](r,this,t)}transform(t,r){return this._transform(t,this._createTransformContext(r))}_createTransformContext(t){return{root:this,selected:void 0,seen:{},path:[],parseOptions:{prereduced:(t==null?void 0:t.prereduced)??!1},undeclaredKeyHandling:void 0,...t}}_transform(t,r){var d;const i=r.bindScope??this.$;if(r.seen[this.id])return this.$.lazilyResolve(r.seen[this.id]);if(((d=r.shouldTransform)==null?void 0:d.call(r,this,r))===!1)return this;let s;r.seen[this.id]=()=>s,this.hasKind("structure")&&this.undeclared!==r.undeclaredKeyHandling&&(r={...r,undeclaredKeyHandling:this.undeclared});const o=W(this.inner,(h,p)=>{if(!this.impl.keys[h].child)return[h,p];const m=p;if(!be(m)){const y=m._transform(t,r);return y?[h,y]:[]}if(m.length===0)return[h,p];const g=m.flatMap(y=>y._transform(t,r)??[]);return g.length?[h,g]:[]});delete r.seen[this.id];const a=Object.assign(o,{meta:this.meta}),c=r.selected&&!r.selected.includes(this)?a:t(this.kind,a,r);if(c===null)return null;if($e(c))return s=c;const l=Object.keys(c);return(l.length===0||l.length===1&&l[0]==="meta")&&!Dn(this.inner)?null:(this.kind==="required"||this.kind==="optional"||this.kind==="index")&&!("value"in c)?r.undeclaredKeyHandling?{...c,value:k.intrinsic.unknown}:null:(this.kind==="morph"&&(c.in??(c.in=k.intrinsic.unknown)),s=i.node(this.kind,c,r.parseOptions))}configureReferences(t,r="references"){const i=yn.normalize(r),s=typeof t=="string"?(l,u)=>({...u,meta:{...u.meta,description:t}}):typeof t=="function"?(l,u)=>({...u,meta:t(u.meta)}):(l,u)=>({...u,meta:{...u.meta,...t}});if(i.boundary==="self")return this.$.node(this.kind,s(this.kind,{...this.inner,meta:this.meta}));const o=this._select(i),a=o&&Ln(o),c=i.boundary==="child"?(l,u)=>u.root.children.includes(l):i.boundary==="shallow"?l=>l.kind!=="structure":()=>!0;return this.$.finalize(this.transform(s,{shouldTransform:c,selected:a}))}}const yn={applyBoundary:{self:e=>[e],child:e=>[...e.children],shallow:e=>[...e.shallowReferences],references:e=>[...e.references]},applyMethod:{filter:e=>e,assertFilter:(e,n,t)=>(e.length===0&&nn(ho(n,t)),e),find:e=>e[0],assertFind:(e,n,t)=>(e.length===0&&nn(ho(n,t)),e[0])},normalize:e=>typeof e=="function"?{boundary:"references",method:"filter",where:e}:typeof e=="string"?Ze(e,yn.applyBoundary)?{method:"filter",boundary:e}:{boundary:"references",method:"filter",kind:e}:{boundary:"references",method:"filter",...e}},ho=(e,n)=>`${e} had no references matching ${V(n)}.`,$p=e=>Bn(e,{stringifyNonKey:n=>n.expression}),xp=/"(\$ark\.[^"]+)"/g,Sp=e=>JSON.stringify(e).replaceAll(xp,"$1"),mt=(e,n)=>({path:e,node:n,propString:$p(e)}),_c=(e,n)=>e.propString===n.propString&&e.node.equals(n.node),po=(e,n)=>_t(e,n,{isEqual:_c}),kp=(e,n)=>_t(e,n,{isEqual:(t,r)=>t.equals(r)});class O extends Array{static init(n,t,r,i){return new O({kind:n,l:t,r,path:(i==null?void 0:i.path)??[],optional:(i==null?void 0:i.optional)??!1})}add(n,t,r,i){return this.push({kind:n,l:t,r,path:(i==null?void 0:i.path)??[],optional:(i==null?void 0:i.optional)??!1}),this}get summary(){return this.describeReasons()}describeReasons(){if(this.length===1){const{path:n,l:t,r}=this[0],i=Bn(n);return Ac(`Intersection${i&&` at ${i}`} of ${mo(t,r)}`)}return`The following intersections result in unsatisfiable types:
 ${this.map(({path:n,l:t,r})=>`${n}: ${mo(t,r)}`).join(`
 `)}`}throw(){return $(this.describeReasons())}invert(){const n=this.map(t=>({...t,l:t.r,r:t.l}));return n instanceof O?n:new O(...n)}withPrefixKey(n,t){return this.map(r=>({...r,path:[n,...r.path],optional:r.optional||t==="optional"}))}toNeverIfDisjoint(){return k.intrinsic.never}}const mo=(e,n)=>`${Ti(e)} and ${Ti(n)}`,Ti=e=>$e(e)?e.expression:be(e)?e.map(Ti).join(" | ")||"never":String(e),Ac=e=>`${e} results in an unsatisfiable type`,Et={},at=(e,n,t)=>he(e,n,{$:t,invert:!1,pipe:!1}),Fi=(e,n,t)=>he(e,n,{$:t,invert:!1,pipe:!0}),he=(e,n,t)=>{const r=t.pipe?"|>":"&",i=`${e.hash}${r}${n.hash}`;if(Et[i]!==void 0)return Et[i];if(!t.pipe){const a=`${n.hash}${r}${e.hash}`;if(Et[a]!==void 0){const c=Et[a],l=c instanceof O?c.invert():c;return Et[i]=l,l}}const s=!t.pipe||!e.includesTransform&&!n.includesTransform;if(s&&e.equals(n))return e;let o=s?Bi(e,n,t):e.hasKindIn(...jr)?_p(e,n,t):Bi(e,n,t);return $e(o)&&(e.equals(o)?o=e:n.equals(o)&&(o=n)),Et[i]=o,o},Bi=(e,n,t)=>{const r=e.precedence<n.precedence?e.kind:n.kind,i=e.impl.intersections[n.kind]??n.impl.intersections[e.kind];if(i===void 0)return null;if(r===e.kind)return i(e,n,t);{let s=i(n,e,{...t,invert:!t.invert});return s instanceof O&&(s=s.invert()),s}},_p=(e,n,t)=>e.includesTransform||n.includesTransform?t.invert?go(n,e,t):go(e,n,t):Bi(e,n,t),go=(e,n,t)=>e.distribute(r=>Ap(r,n,t),r=>{const i=r.filter($e);if(i.length===0)return O.init("union",e.branches,n.branches);if(i.length<e.branches.length||!e.branches.every((o,a)=>o.in.equals(i[a].in)))return t.$.parseSchema(i);if(i.length===1)return i[0];const s={branches:i};return t.$.parseSchema(s)}),Ap=(e,n,t)=>{if(e.hasKind("morph")){const i=[...e.morphs];if(e.lastMorphIfNode){const s=he(e.lastMorphIfNode,n,t);if(s instanceof O)return s;i[i.length-1]=s}else i.push(n);return t.$.node("morph",{morphs:i,in:e.inner.in})}if(n.hasKind("morph")){const i=he(e,n.in,t);return i instanceof O?i:t.$.node("morph",{morphs:[n],in:i})}return t.$.node("morph",{morphs:[n],in:e})};class un extends kc{constructor(t,r){super(t,r);f(this,"impliedSiblings");Object.defineProperty(this,st,{value:"constraint",enumerable:!1})}intersect(t){return at(this,t,this.$)}}class zr extends un{constructor(){super(...arguments);f(this,"traverseApply",(t,r)=>{this.traverseAllows(t,r)||r.errorFromNodeContext(this.errorContext)})}compile(t){t.traversalKind==="Allows"?t.return(this.compiledCondition):t.if(this.compiledNegation,()=>t.line(`${t.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return qr(this.errorContext)}}const ke=e=>(n,t)=>{if(be(n)){if(n.length===0)return;const i=n.map(s=>t.$.node(e,s));return e==="predicate"?i:i.sort((s,o)=>s.hash<o.hash?-1:1)}const r=t.$.node(e,n);return r.hasOpenIntersection()?[r]:r},Pr=e=>{const n=e.r.shift();if(!n){let r=e.l.length===0&&e.kind==="structure"?k.intrinsic.unknown.internal:e.ctx.$.node(e.kind,Object.assign(e.baseInner,Cp(e.l)),{prereduced:!0});for(const i of e.roots){if(r instanceof O)return r;r=he(i,r,e.ctx)}return r}let t=!1;for(let r=0;r<e.l.length;r++){const i=he(e.l[r],n,e.ctx);if(i!==null){if(i instanceof O)return i;if(t){if(!e.l.includes(i))return le(`Unexpectedly encountered multiple distinct intersection results for refinement ${i}`)}else{if(i.isRoot())return e.roots.push(i),e.l.splice(r),Pr(e);e.l[r]=i,t=!0}}}if(t||e.l.push(n),e.kind==="intersection"&&n.impliedSiblings)for(const r of n.impliedSiblings)_t(e.r,r);return Pr(e)},Rr=e=>Object.entries(e).flatMap(([t,r])=>t in $c?r:[]).sort((t,r)=>t.precedence<r.precedence?-1:t.precedence>r.precedence?1:t.kind==="predicate"&&r.kind==="predicate"?0:t.hash<r.hash?-1:1),Cp=e=>{const n={};for(const t of e)if(t.hasOpenIntersection())n[t.kind]=H(n[t.kind],t);else{if(n[t.kind])return le(`Unexpected intersection of closed refinements of kind ${t.kind}`);n[t.kind]=t}return n},Pp=(...e)=>$(Rp(...e)),Rp=(e,n,t)=>{const r=t.hasKind("morph")?"a morph":t.isUnknown()?"unknown":t.exclude(n).defaultShortDescription;return`${Bh(e)} operand must be ${n.description} (was ${r})`},Ip=(e,n,t)=>new Ir(e,n,t,t,null);class Cc extends ln{}var oa,aa;class Ir extends(aa=ln,oa=st,aa){constructor(t,r,i,s,o){super((...a)=>{const c=W(this.names,(l,u)=>{const d=this.arg$.parse(a[l]);return d.extends(this.constraints[l])||$(Op(u,this.constraints[l].expression,d.expression)),[u,d]});if(this.defIsLazy()){const l=this.bodyDef(c);return this.$.parse(l)}return this.$.parse(r,{args:c})});f(this,oa,"generic");f(this,"paramDefs");f(this,"bodyDef");f(this,"$");f(this,"arg$");f(this,"baseInstantiation");f(this,"hkt");f(this,"description");this.paramDefs=t,this.bodyDef=r,this.$=i,this.arg$=s,this.hkt=o,this.description=o?new o().description??`a generic type for ${o.constructor.name}`:"a generic type",this.baseInstantiation=this(...this.constraints)}defIsLazy(){return this.bodyDef instanceof Cc}cacheGetter(t,r){return Object.defineProperty(this,t,{value:r}),r}get json(){return this.cacheGetter("json",{params:this.params.map(t=>t[1].isUnknown()?t[0]:[t[0],t[1].json]),body:sp(this.bodyDef)})}get params(){return this.cacheGetter("params",this.paramDefs.map(t=>typeof t=="string"?[t,k.intrinsic.unknown]:[t[0],this.$.parse(t[1])]))}get names(){return this.cacheGetter("names",this.params.map(t=>t[0]))}get constraints(){return this.cacheGetter("constraints",this.params.map(t=>t[1]))}get internal(){return this}get referencesById(){return this.baseInstantiation.internal.referencesById}get references(){return this.baseInstantiation.internal.references}}const Op=(e,n,t)=>`${e} must be assignable to ${n} (was ${t})`,Np=se({kind:"predicate",hasAssociatedError:!0,collapsibleKey:"predicate",keys:{predicate:{}},normalize:e=>typeof e=="function"?{predicate:e}:e,defaults:{description:e=>`valid according to ${e.predicate.name||"an anonymous predicate"}`},intersectionIsOpen:!0,intersections:{predicate:()=>null}});class Mp extends un{constructor(){super(...arguments);f(this,"serializedPredicate",Se(this.predicate));f(this,"compiledCondition",`${this.serializedPredicate}(data, ctx)`);f(this,"compiledNegation",`!${this.compiledCondition}`);f(this,"impliedBasis",null);f(this,"expression",this.serializedPredicate);f(this,"traverseAllows",this.predicate);f(this,"errorContext",{code:"predicate",description:this.description,meta:this.meta});f(this,"compiledErrorContext",qr(this.errorContext));f(this,"traverseApply",(t,r)=>{!this.predicate(t,r.external)&&!r.hasError()&&r.errorFromNodeContext(this.errorContext)})}compile(t){if(t.traversalKind==="Allows"){t.return(this.compiledCondition);return}t.if(`${this.compiledNegation} && !ctx.hasError()`,()=>t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`))}reduceJsonSchema(t,r){return r.fallback.predicate({code:"predicate",base:t,predicate:this.predicate})}}const Pc={implementation:Np,Node:Mp},Ep=se({kind:"divisor",collapsibleKey:"rule",keys:{rule:{parse:e=>Number.isInteger(e)?e:$(Dp(e))}},normalize:e=>typeof e=="number"?{rule:e}:e,hasAssociatedError:!0,defaults:{description:e=>e.rule===1?"an integer":e.rule===2?"even":`a multiple of ${e.rule}`},intersections:{divisor:(e,n,t)=>t.$.node("divisor",{rule:Math.abs(e.rule*n.rule/Tp(e.rule,n.rule))})},obviatesBasisDescription:!0});class Lp extends zr{constructor(){super(...arguments);f(this,"traverseAllows",t=>t%this.rule===0);f(this,"compiledCondition",`data % ${this.rule} === 0`);f(this,"compiledNegation",`data % ${this.rule} !== 0`);f(this,"impliedBasis",k.intrinsic.number.internal);f(this,"expression",`% ${this.rule}`)}reduceJsonSchema(t){return t.type="integer",this.rule===1||(t.multipleOf=this.rule),t}}const Rc={implementation:Ep,Node:Lp},Dp=e=>`divisor must be an integer (was ${e})`,Tp=(e,n)=>{let t,r=e,i=n;for(;i!==0;)t=i,i=r%i,r=t;return r};class dn extends zr{constructor(){super(...arguments);f(this,"boundOperandKind",jp[this.kind]);f(this,"compiledActual",this.boundOperandKind==="value"?"data":this.boundOperandKind==="length"?"data.length":"data.valueOf()");f(this,"comparator",qp(this.kind,this.exclusive));f(this,"numericLimit",this.rule.valueOf());f(this,"expression",`${this.comparator} ${this.rule}`);f(this,"compiledCondition",`${this.compiledActual} ${this.comparator} ${this.numericLimit}`);f(this,"compiledNegation",`${this.compiledActual} ${Fp[this.comparator]} ${this.numericLimit}`);f(this,"stringLimit",this.boundOperandKind==="date"?zp(this.numericLimit):`${this.numericLimit}`);f(this,"limitKind",this.comparator[0]==="<"?"upper":"lower")}isStricterThan(t){return(this.limitKind==="upper"?this.numericLimit<t.numericLimit:this.numericLimit>t.numericLimit)||this.numericLimit===t.numericLimit&&this.exclusive===!0&&!t.exclusive}overlapsRange(t){return!(this.isStricterThan(t)||this.numericLimit===t.numericLimit&&(this.exclusive||t.exclusive))}overlapIsUnit(t){return this.numericLimit===t.numericLimit&&!this.exclusive&&!t.exclusive}}const Fp={"<":">=","<=":">",">":"<=",">=":"<"},Bp={min:"max",minLength:"maxLength",after:"before"},Ic={parse:e=>e||void 0},Oc=e=>n=>{if(typeof n=="number")return{rule:n};const{exclusive:t,...r}=n;return t?{...r,rule:e==="minLength"?r.rule+1:r.rule-1}:r},Nc=e=>n=>{if(typeof n=="number"||typeof n=="string"||n instanceof Date)return{rule:n};const{exclusive:t,...r}=n;if(!t)return r;const i=typeof r.rule=="number"?r.rule:typeof r.rule=="string"?new Date(r.rule).valueOf():r.rule.valueOf();return t?{...r,rule:e==="after"?i+1:i-1}:r},Mc=e=>typeof e=="string"||typeof e=="number"?new Date(e):e,Kp=(e,n)=>`${e} bound must be a positive integer (was ${n})`,bs=e=>n=>((!Number.isInteger(n)||n<0)&&$(Kp(e,n)),n),jp={min:"value",max:"value",minLength:"length",maxLength:"length",after:"date",before:"date"},qp=(e,n)=>`${Ze(e,Bp)?">":"<"}${n?"":"="}`,zp=e=>typeof e=="string"?e:new Date(e).toLocaleString(),Up=e=>`Bounded expression ${e} must be exactly one of number, string, Array, or Date`,Vp=se({kind:"after",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Mc,serialize:e=>e.toISOString()}},normalize:Nc("after"),defaults:{description:e=>`${e.collapsibleLimitString} or later`,actual:Fn},intersections:{after:(e,n)=>e.isStricterThan(n)?e:n}});class Jp extends dn{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.Date.internal);f(this,"collapsibleLimitString",Fn(this.rule));f(this,"traverseAllows",t=>t>=this.rule)}reduceJsonSchema(t,r){return r.fallback.date({code:"date",base:t,after:this.rule})}}const Ec={implementation:Vp,Node:Jp},Hp=se({kind:"before",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:Mc,serialize:e=>e.toISOString()}},normalize:Nc("before"),defaults:{description:e=>`${e.collapsibleLimitString} or earlier`,actual:Fn},intersections:{before:(e,n)=>e.isStricterThan(n)?e:n,after:(e,n,t)=>e.overlapsRange(n)?e.overlapIsUnit(n)?t.$.node("unit",{unit:e.rule}):null:O.init("range",e,n)}});class Gp extends dn{constructor(){super(...arguments);f(this,"collapsibleLimitString",Fn(this.rule));f(this,"traverseAllows",t=>t<=this.rule);f(this,"impliedBasis",k.intrinsic.Date.internal)}reduceJsonSchema(t,r){return r.fallback.date({code:"date",base:t,before:this.rule})}}const Lc={implementation:Hp,Node:Gp},Wp=se({kind:"exactLength",collapsibleKey:"rule",keys:{rule:{parse:bs("exactLength")}},normalize:e=>typeof e=="number"?{rule:e}:e,hasAssociatedError:!0,defaults:{description:e=>`exactly length ${e.rule}`,actual:e=>`${e.length}`},intersections:{exactLength:(e,n,t)=>O.init("unit",t.$.node("unit",{unit:e.rule}),t.$.node("unit",{unit:n.rule}),{path:["length"]}),minLength:(e,n)=>e.rule>=n.rule?e:O.init("range",e,n),maxLength:(e,n)=>e.rule<=n.rule?e:O.init("range",e,n)}});class Yp extends zr{constructor(){super(...arguments);f(this,"traverseAllows",t=>t.length===this.rule);f(this,"compiledCondition",`data.length === ${this.rule}`);f(this,"compiledNegation",`data.length !== ${this.rule}`);f(this,"impliedBasis",k.intrinsic.lengthBoundable.internal);f(this,"expression",`== ${this.rule}`)}reduceJsonSchema(t){switch(t.type){case"string":return t.minLength=this.rule,t.maxLength=this.rule,t;case"array":return t.minItems=this.rule,t.maxItems=this.rule,t;default:return ue.throwInternalOperandError("exactLength",t)}}}const Dc={implementation:Wp,Node:Yp},Zp=se({kind:"max",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Ic},normalize:e=>typeof e=="number"?{rule:e}:e,defaults:{description:e=>e.rule===0?e.exclusive?"negative":"non-positive":`${e.exclusive?"less than":"at most"} ${e.rule}`},intersections:{max:(e,n)=>e.isStricterThan(n)?e:n,min:(e,n,t)=>e.overlapsRange(n)?e.overlapIsUnit(n)?t.$.node("unit",{unit:e.rule}):null:O.init("range",e,n)},obviatesBasisDescription:!0});class Xp extends dn{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.number.internal);f(this,"traverseAllows",this.exclusive?t=>t<this.rule:t=>t<=this.rule)}reduceJsonSchema(t){return this.exclusive?t.exclusiveMaximum=this.rule:t.maximum=this.rule,t}}const Tc={implementation:Zp,Node:Xp},Qp=se({kind:"maxLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:bs("maxLength")}},reduce:(e,n)=>e.rule===0?n.node("exactLength",e):void 0,normalize:Oc("maxLength"),defaults:{description:e=>`at most length ${e.rule}`,actual:e=>`${e.length}`},intersections:{maxLength:(e,n)=>e.isStricterThan(n)?e:n,minLength:(e,n,t)=>e.overlapsRange(n)?e.overlapIsUnit(n)?t.$.node("exactLength",{rule:e.rule}):null:O.init("range",e,n)}});class em extends dn{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.lengthBoundable.internal);f(this,"traverseAllows",t=>t.length<=this.rule)}reduceJsonSchema(t){switch(t.type){case"string":return t.maxLength=this.rule,t;case"array":return t.maxItems=this.rule,t;default:return ue.throwInternalOperandError("maxLength",t)}}}const Fc={implementation:Qp,Node:em},tm=se({kind:"min",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{},exclusive:Ic},normalize:e=>typeof e=="number"?{rule:e}:e,defaults:{description:e=>e.rule===0?e.exclusive?"positive":"non-negative":`${e.exclusive?"more than":"at least"} ${e.rule}`},intersections:{min:(e,n)=>e.isStricterThan(n)?e:n},obviatesBasisDescription:!0});class nm extends dn{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.number.internal);f(this,"traverseAllows",this.exclusive?t=>t>this.rule:t=>t>=this.rule)}reduceJsonSchema(t){return this.exclusive?t.exclusiveMinimum=this.rule:t.minimum=this.rule,t}}const Bc={implementation:tm,Node:nm},rm=se({kind:"minLength",collapsibleKey:"rule",hasAssociatedError:!0,keys:{rule:{parse:bs("minLength")}},reduce:e=>e.rule===0?k.intrinsic.unknown:void 0,normalize:Oc("minLength"),defaults:{description:e=>e.rule===1?"non-empty":`at least length ${e.rule}`,actual:e=>e.length===0?"":`${e.length}`},intersections:{minLength:(e,n)=>e.isStricterThan(n)?e:n}});class im extends dn{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.lengthBoundable.internal);f(this,"traverseAllows",t=>t.length>=this.rule)}reduceJsonSchema(t){switch(t.type){case"string":return t.minLength=this.rule,t;case"array":return t.minItems=this.rule,t;default:return ue.throwInternalOperandError("minLength",t)}}}const Kc={implementation:rm,Node:im},sm={min:Bc.implementation,max:Tc.implementation,minLength:Kc.implementation,maxLength:Fc.implementation,exactLength:Dc.implementation,after:Ec.implementation,before:Lc.implementation},om={min:Bc.Node,max:Tc.Node,minLength:Kc.Node,maxLength:Fc.Node,exactLength:Dc.Node,after:Ec.Node,before:Lc.Node},am=se({kind:"pattern",collapsibleKey:"rule",keys:{rule:{},flags:{}},normalize:e=>typeof e=="string"?{rule:e}:e instanceof RegExp?e.flags?{rule:e.source,flags:e.flags}:{rule:e.source}:e,obviatesBasisDescription:!0,obviatesBasisExpression:!0,hasAssociatedError:!0,intersectionIsOpen:!0,defaults:{description:e=>`matched by ${e.rule}`},intersections:{pattern:()=>null}});class cm extends zr{constructor(){super(...arguments);f(this,"instance",new RegExp(this.rule,this.flags));f(this,"expression",`${this.instance}`);f(this,"traverseAllows",this.instance.test.bind(this.instance));f(this,"compiledCondition",`${this.expression}.test(data)`);f(this,"compiledNegation",`!${this.compiledCondition}`);f(this,"impliedBasis",k.intrinsic.string.internal)}reduceJsonSchema(t,r){return t.pattern?r.fallback.patternIntersection({code:"patternIntersection",base:t,pattern:this.rule}):(t.pattern=this.rule,t)}}const jc={implementation:am,Node:cm},or=(e,n)=>{const t=lm(e);return n&&!n.includes(t)?$(`Root of kind ${t} should be one of ${n}`):t},lm=e=>{if(L(e,"root"))return e.kind;if(typeof e=="string")return e[0]==="$"?"alias":e in it?"domain":"proto";if(typeof e=="function")return"proto";if(typeof e!="object"||e===null)return $(yo(e));if("morphs"in e)return"morph";if("branches"in e||be(e))return"union";if("unit"in e)return"unit";if("reference"in e)return"alias";const n=Object.keys(e);return n.length===0||n.some(t=>t in $c)?"intersection":"proto"in e?"proto":"domain"in e?"domain":$(yo(e))},yo=e=>`${V(e)} is not a valid type schema`,Xn={},um=e=>be(e)?e.map(n=>n.collapsibleJson):e.collapsibleJson,Fe={};k.nodesByRegisteredId=Fe;const qc=e=>(Xn[e]??(Xn[e]=0),`${e}${++Xn[e]}`),zc=e=>{var l;const n=Ur[e.kind],t=((l=n.applyConfig)==null?void 0:l.call(n,e.def,e.$.resolvedConfig))??e.def,r={},{meta:i,...s}=t,o=i===void 0?{}:typeof i=="string"?{description:i}:i,a=nc(s).sort(([u],[d])=>sr(u)?sr(d)?Cr(u)-Cr(d):1:sr(d)||u<d?-1:1).filter(([u,d])=>{if(u.startsWith("meta.")){const h=u.slice(5);return o[h]=d,!1}return!0});for(const u of a){const d=u[0],h=n.keys[d];if(!h)return $(`Key ${d} is not valid on ${e.kind} schema`);const p=h.parse?h.parse(u[1],e):u[1];p!==et&&(p!==void 0||h.preserveUndefined)&&(r[d]=p)}if(n.reduce&&!e.prereduced){const u=n.reduce(r,e.$);if(u)return u instanceof O?u.throw():fm(u,o)}return vs({id:e.id,kind:e.kind,inner:r,meta:o,$:e.$})},vs=({id:e,kind:n,inner:t,meta:r,$:i,ignoreCache:s})=>{const o=Ur[n],a=nc(t),c=[];let l={};for(const[b,A]of a){const R=o.keys[b],B=R.serialize??(R.child?um:Ct);if(l[b]=B(A),R.child===!0){const T=A;be(T)?c.push(...T):c.push(T)}else typeof R.child=="function"&&c.push(...R.child(A))}o.finalizeInnerJson&&(l=o.finalizeInnerJson(l));let u={...l},d={};Dn(r)||(d=W(r,(b,A)=>[b,b==="examples"?A:Ct(A)]),u.meta=Qn(d,"description",!0)),l=Qn(l,o.collapsibleKey,!1);const h=JSON.stringify({kind:n,...l});u=Qn(u,o.collapsibleKey,!1);const p=Qn(u,o.collapsibleKey,!0),m=JSON.stringify({kind:n,...u});if(i.nodesByHash[m]&&!s)return i.nodesByHash[m];const g={id:e,kind:n,impl:o,inner:t,innerEntries:a,innerJson:l,innerHash:h,meta:r,metaJson:d,json:u,hash:m,collapsibleJson:p,children:c};if(n!=="intersection")for(const b in t)b!=="in"&&b!=="out"&&(g[b]=t[b]);const y=new gg[n](g,i);return i.nodesByHash[m]=y},dm=(e,n)=>e.id===n?e:($e(Fe[n])&&le(`Unexpected attempt to overwrite node id ${n}`),vs({id:n,kind:e.kind,inner:e.inner,meta:e.meta,$:e.$,ignoreCache:!0})),fm=(e,n,t)=>vs({id:qc(n.alias??e.kind),kind:e.kind,inner:e.inner,meta:n,$:e.$}),Qn=(e,n,t)=>{const r=Object.keys(e);if(r.length===1&&r[0]===n){const i=e[n];if(t||Ot(i,"object")&&(Object.keys(i).length===1||Array.isArray(i)))return i}return e},Ki=(e,n,t)=>{if(e.key!==n.key)return null;const r=e.key;let i=he(e.value,n.value,t);const s=e.required||n.required?"required":"optional";if(i instanceof O)if(s==="optional")i=k.intrinsic.never.internal;else return i.withPrefixKey(e.key,e.required&&n.required?"required":"optional");if(s==="required")return t.$.node("required",{key:r,value:i});const o=e.hasDefault()?n.hasDefault()?e.default===n.default?e.default:$(Vc(e.default,n.default)):e.default:n.hasDefault()?n.default:et;return t.$.node("optional",{key:r,value:i,default:o})};class Uc extends un{constructor(){super(...arguments);f(this,"required",this.kind==="required");f(this,"optional",this.kind==="optional");f(this,"impliedBasis",k.intrinsic.object.internal);f(this,"serializedKey",Kn(this.key));f(this,"compiledKey",typeof this.key=="string"?this.key:this.serializedKey);f(this,"flatRefs",H(this.value.flatRefs.map(t=>mt([this.key,...t.path],t.node)),mt([this.key],this.value)));f(this,"traverseAllows",(t,r)=>this.key in t?ot(this.key,()=>this.value.traverseAllows(t[this.key],r),r):this.optional);f(this,"traverseApply",(t,r)=>{this.key in t?ot(this.key,()=>this.value.traverseApply(t[this.key],r),r):this.hasKind("required")&&r.errorFromNodeContext(this.errorContext)})}_transform(t,r){r.path.push(this.key);const i=super._transform(t,r);return r.path.pop(),i}hasDefault(){return"default"in this.inner}compile(t){t.if(`${this.serializedKey} in data`,()=>t.traverseKey(this.serializedKey,`data${t.prop(this.key)}`,this.value)),this.hasKind("required")&&t.else(()=>t.traversalKind==="Apply"?t.line(`ctx.errorFromNodeContext(${this.compiledErrorContext})`):t.return(!1)),t.traversalKind==="Allows"&&t.return(!0)}}const Vc=(e,n)=>`Invalid intersection of default values ${V(e)} & ${V(n)}`,hm=se({kind:"optional",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(e,n)=>n.$.parseSchema(e)},default:{preserveUndefined:!0}},normalize:e=>e,reduce:(e,n)=>{if(n.resolvedConfig.exactOptionalPropertyTypes===!1&&!e.value.allows(void 0))return n.node("optional",{...e,value:e.value.or(D.undefined)},{prereduced:!0})},defaults:{description:e=>`${e.compiledKey}?: ${e.value.description}`},intersections:{optional:Ki}});class pm extends Uc{constructor(...t){super(...t);f(this,"expression",this.hasDefault()?`${this.compiledKey}: ${this.value.expression} = ${V(this.inner.default)}`:`${this.compiledKey}?: ${this.value.expression}`);f(this,"defaultValueMorph",mm(this));f(this,"defaultValueMorphRef",this.defaultValueMorph&&Se(this.defaultValueMorph));"default"in this.inner&&$s(this.value,this.inner.default,this.key)}get outProp(){if(!this.hasDefault())return this;const{default:t,...r}=this.inner;return this.cacheGetter("outProp",this.$.node("required",r,{prereduced:!0}))}}const ws={implementation:hm,Node:pm},oi={},mm=e=>{if(!e.hasDefault())return;const n=`{${e.compiledKey}: ${e.value.id} = ${Ct(e.default)}}`;return oi[n]??(oi[n]=Jc(e.key,e.value,e.default))},Jc=(e,n,t)=>{if(typeof t=="function")return n.includesTransform?(i,s)=>(ot(e,()=>n(i[e]=t(),s),s),i):i=>(i[e]=t(),i);const r=n.includesTransform?n.assert(t):t;return Ot(r,"object")?(i,s)=>(ot(e,()=>n(i[e]=t,s),s),i):i=>(i[e]=r,i)},$s=(e,n,t)=>{const r=Fr(n);Ot(n,"object")&&!r&&$(gm(t));const i=e.in(r?n():n);if(i instanceof yt){t===null&&$(`Default ${i.summary}`);const s=i.transform(o=>o.transform(a=>({...a,prefixPath:[t]})));$(`Default for ${s.summary}`)}return n},gm=e=>`Non-primitive default ${e===null?"":typeof e=="number"?`for value at [${e}] `:`for ${Kn(e)} `}must be specified as a function like () => ({my: 'object'})`;class jn extends kc{constructor(t,r){super(t,r);f(this,"branches",this.hasKind("union")?this.inner.branches:[this]);f(this,"_keyof");f(this,"pipe",Object.assign(this._pipe.bind(this),{try:this.tryPipe.bind(this)}));Object.defineProperty(this,st,{value:"root",enumerable:!1})}get internal(){return this}get"~standard"(){return{vendor:"arktype",version:1,validate:t=>{const r=this(t);return r instanceof yt?r:{value:r}}}}as(){return this}brand(t){return t===""?$(ym):this}readonly(){return this}distribute(t,r){const i=this.branches.map(t);return(r==null?void 0:r(i))??i}get shortDescription(){return this.meta.description??this.defaultShortDescription}toJsonSchema(t={}){const r=Sc(this.$.resolvedConfig.toJsonSchema,t);r.useRefs||(r.useRefs=this.isCyclic);const i=typeof r.dialect=="string"?{$schema:r.dialect}:{};return Object.assign(i,this.toJsonSchemaRecurse(r)),r.useRefs&&(i.$defs=W(this.references,(s,o)=>o.isRoot()&&!o.alwaysExpandJsonSchema?[o.id,o.toResolvedJsonSchema(r)]:[])),i}toJsonSchemaRecurse(t){return t.useRefs&&!this.alwaysExpandJsonSchema?{$ref:`#/$defs/${this.id}`}:this.toResolvedJsonSchema(t)}get alwaysExpandJsonSchema(){return this.isBasis()||this.kind==="alias"||this.hasKind("union")&&this.isBoolean}toResolvedJsonSchema(t){const r=this.innerToJsonSchema(t);return Object.assign(r,this.metaJson)}intersect(t){const r=this.$.parseDefinition(t),i=this.rawIntersect(r);return i instanceof O?i:this.$.finalize(i)}rawIntersect(t){return at(this,t,this.$)}toNeverIfDisjoint(){return this}and(t){const r=this.intersect(t);return r instanceof O?r.throw():r}rawAnd(t){const r=this.rawIntersect(t);return r instanceof O?r.throw():r}or(t){const r=this.$.parseDefinition(t);return this.$.finalize(this.rawOr(r))}rawOr(t){const r=[...this.branches,...t.branches];return this.$.node("union",r)}map(t){return this.$.schema(this.applyStructuralOperation("map",[t]))}pick(...t){return this.$.schema(this.applyStructuralOperation("pick",t))}omit(...t){return this.$.schema(this.applyStructuralOperation("omit",t))}required(){return this.$.schema(this.applyStructuralOperation("required",[]))}partial(){return this.$.schema(this.applyStructuralOperation("partial",[]))}keyof(){if(this._keyof)return this._keyof;const t=this.applyStructuralOperation("keyof",[]).reduce((r,i)=>r.intersect(i).toNeverIfDisjoint(),k.intrinsic.unknown.internal);return t.branches.length===0&&$(Ac(`keyof ${this.expression}`)),this._keyof=this.$.finalize(t)}get props(){return this.branches.length!==1?$(bm(this.expression)):[...this.applyStructuralOperation("props",[])[0]]}merge(t){const r=this.$.parseDefinition(t);return this.$.schema(r.distribute(i=>this.applyStructuralOperation("merge",[bo(i)??$(vo("merge",i.expression))])))}applyStructuralOperation(t,r){return this.distribute(i=>{if(i.equals(k.intrinsic.object)&&t!=="merge")return i;const s=bo(i);if(s||$(vo(t,i.expression)),t==="keyof")return s.keyof();if(t==="get")return s.get(...r);if(t==="props")return s.props;const o=t==="required"?"require":t==="partial"?"optionalize":t;return this.$.node("intersection",{...i.inner,structure:s[o](...r)})})}get(...t){return t[0]===void 0?this:this.$.schema(this.applyStructuralOperation("get",t))}extract(t){const r=this.$.parseDefinition(t);return this.$.schema(this.branches.filter(i=>i.extends(r)))}exclude(t){const r=this.$.parseDefinition(t);return this.$.schema(this.branches.filter(i=>!i.extends(r)))}array(){return this.$.schema(this.isUnknown()?{proto:Array}:{proto:Array,sequence:this},{prereduced:!0})}overlaps(t){return!(this.intersect(t)instanceof O)}extends(t){const r=this.intersect(t);return!(r instanceof O)&&this.equals(r)}ifExtends(t){return this.extends(t)?this:void 0}subsumes(t){return this.$.parseDefinition(t).extends(this)}configure(t,r="shallow"){return this.configureReferences(t,r)}describe(t,r="shallow"){return this.configure({description:t},r)}optional(){return[this,"?"]}default(t){return $s(this,t,null),[this,"=",t]}from(t){return this.assert(t)}_pipe(...t){const r=t.reduce((i,s)=>i.rawPipeOnce(s),this);return this.$.finalize(r)}tryPipe(...t){const r=t.reduce((i,s)=>i.rawPipeOnce(L(s,"root")?s:(o,a)=>{try{return s(o,a)}catch(c){return a.error({code:"predicate",predicate:s,actual:`aborted due to error:
    ${c}
`})}}),this);return this.$.finalize(r)}to(t){return this.$.finalize(this.toNode(this.$.parseDefinition(t)))}toNode(t){const r=Fi(this,t,this.$);return r instanceof O?r.throw():r}rawPipeOnce(t){return L(t,"root")?this.toNode(t):this.distribute(r=>r.hasKind("morph")?this.$.node("morph",{in:r.inner.in,morphs:[...r.morphs,t]}):this.$.node("morph",{in:r,morphs:[t]}),this.$.parseSchema)}narrow(t){return this.constrainOut("predicate",t)}constrain(t,r){return this._constrain("root",t,r)}constrainIn(t,r){return this._constrain("in",t,r)}constrainOut(t,r){return this._constrain("out",t,r)}_constrain(t,r,i){const s=this.$.node(r,i);if(s.isRoot())return s.isUnknown()?this:le(`Unexpected constraint node ${s}`);const o=t==="root"?this:this[t];if(o.hasKind("morph")||s.impliedBasis&&!o.extends(s.impliedBasis))return Pp(r,s.impliedBasis,this);const a=this.$.node("intersection",{[s.kind]:s}),c=t==="out"?Fi(this,a,this.$):at(this,a,this.$);return c instanceof O&&c.throw(),this.$.finalize(c)}onUndeclaredKey(t){const r=typeof t=="string"?t:t.rule,i=typeof t=="string"?!1:t.deep;return this.$.finalize(this.transform((s,o)=>s==="structure"?r==="ignore"?Sh(o,{undeclared:1}):{...o,undeclared:r}:o,i?void 0:{shouldTransform:s=>!vt(Kr,s.kind)}))}hasEqualMorphs(t){return!this.includesTransform&&!t.includesTransform?!0:!(!tn(this.shallowMorphs,t.shallowMorphs)||!tn(this.flatMorphs,t.flatMorphs,{isEqual:(r,i)=>{var s,o;return r.propString===i.propString&&(r.node.hasKind("morph")&&i.node.hasKind("morph")?r.node.hasEqualMorphs(i.node):r.node.hasKind("intersection")&&i.node.hasKind("intersection")?((s=r.node.structure)==null?void 0:s.structuralMorphRef)===((o=i.node.structure)==null?void 0:o.structuralMorphRef):!1)}}))}onDeepUndeclaredKey(t){return this.onUndeclaredKey({rule:t,deep:!0})}filter(t){return this.constrainIn("predicate",t)}divisibleBy(t){return this.constrain("divisor",t)}matching(t){return this.constrain("pattern",t)}atLeast(t){return this.constrain("min",t)}atMost(t){return this.constrain("max",t)}moreThan(t){return this.constrain("min",Lt(t))}lessThan(t){return this.constrain("max",Lt(t))}atLeastLength(t){return this.constrain("minLength",t)}atMostLength(t){return this.constrain("maxLength",t)}moreThanLength(t){return this.constrain("minLength",Lt(t))}lessThanLength(t){return this.constrain("maxLength",Lt(t))}exactlyLength(t){return this.constrain("exactLength",t)}atOrAfter(t){return this.constrain("after",t)}atOrBefore(t){return this.constrain("before",t)}laterThan(t){return this.constrain("after",Lt(t))}earlierThan(t){return this.constrain("before",Lt(t))}}const ym="Expected a non-empty brand name after #",Lt=e=>typeof e=="object"&&!(e instanceof Date)?{...e,exclusive:!0}:{rule:e,exclusive:!0},er=(e,n)=>L(n,"root")?L(e,"root")?e.extends(n):n.allows(e):L(e,"root")?e.hasUnit(n):n===e,bo=e=>{var n;return e.hasKind("morph")?null:e.hasKind("intersection")?e.inner.structure??(((n=e.basis)==null?void 0:n.domain)==="object"?e.$.bindReference(k.intrinsic.emptyStructure):null):e.isBasis()&&e.domain==="object"?e.$.bindReference(k.intrinsic.emptyStructure):null},bm=e=>`Props cannot be extracted from a union. Use .distribute to extract props from each branch instead. Received:
${e}`,vo=(e,n)=>`${e} operand must be an object (was ${n})`,qn=(e,n)=>W(ys(e),(t,r)=>[r,n]),vm=e=>typeof e=="string"?{reference:e}:e,wo=e=>e instanceof O?k.intrinsic.never.internal:e,wm=se({kind:"alias",hasAssociatedError:!1,collapsibleKey:"reference",keys:{reference:{serialize:e=>e.startsWith("$")?e:`$ark.${e}`},resolve:{}},normalize:vm,defaults:{description:e=>e.reference},intersections:{alias:(e,n,t)=>t.$.lazilyResolve(()=>wo(he(e.resolution,n.resolution,t)),`${e.reference}${t.pipe?"=>":"&"}${n.reference}`),...qn("alias",(e,n,t)=>n.isUnknown()?e:n.isNever()?n:n.isBasis()&&!n.overlaps(k.intrinsic.object)?O.init("assignability",k.intrinsic.object,n):t.$.lazilyResolve(()=>wo(he(e.resolution,n,t)),`${e.reference}${t.pipe?"=>":"&"}${n.id}`))}});class $m extends jn{constructor(){super(...arguments);f(this,"expression",this.reference);f(this,"structure");f(this,"traverseAllows",(t,r)=>{const i=r.seen[this.reference];return i!=null&&i.includes(t)?!0:(r.seen[this.reference]=H(i,t),this.resolution.traverseAllows(t,r))});f(this,"traverseApply",(t,r)=>{const i=r.seen[this.reference];i!=null&&i.includes(t)||(r.seen[this.reference]=H(i,t),this.resolution.traverseApply(t,r))})}get resolution(){const t=this._resolve();return Fe[this.id]=t}_resolve(){if(this.resolve)return this.resolve();if(this.reference[0]==="$")return this.$.resolveRoot(this.reference.slice(1));const t=this.reference;let r=Fe[t];const i=[];for(;L(r,"context");){if(i.includes(r.id))return $(xm(r.id,i));i.push(r.id),r=Fe[r.id]}return L(r,"root")?r:le(`Unexpected resolution for reference ${this.reference}
Seen: [${i.join("->")}] 
Resolution: ${V(r)}`)}get resolutionId(){if(this.reference.includes("&")||this.reference.includes("=>"))return this.resolution.id;if(this.reference[0]!=="$")return this.reference;const t=this.reference.slice(1),r=this.$.resolutions[t];return typeof r=="string"?r:L(r,"root")?r.id:le(`Unexpected resolution for reference ${this.reference}: ${V(r)}`)}get defaultShortDescription(){return it.object}innerToJsonSchema(t){return this.resolution.toJsonSchemaRecurse(t)}compile(t){const r=this.resolutionId;t.if(`ctx.seen.${r} && ctx.seen.${r}.includes(data)`,()=>t.return(!0)),t.if(`!ctx.seen.${r}`,()=>t.line(`ctx.seen.${r} = []`)),t.line(`ctx.seen.${r}.push(data)`),t.return(t.invoke(r))}}const xm=(e,n)=>`Alias '${e}' has a shallow resolution cycle: ${[...n,e].join("->")}`,xs={implementation:wm,Node:$m};class Ss extends jn{constructor(){super(...arguments);f(this,"traverseApply",(t,r)=>{this.traverseAllows(t,r)||r.errorFromNodeContext(this.errorContext)})}get errorContext(){return{code:this.kind,description:this.description,meta:this.meta,...this.inner}}get compiledErrorContext(){return qr(this.errorContext)}compile(t){t.traversalKind==="Allows"?t.return(this.compiledCondition):t.if(this.compiledNegation,()=>t.line(`${t.ctx}.errorFromNodeContext(${this.compiledErrorContext})`))}}const Sm=se({kind:"domain",hasAssociatedError:!0,collapsibleKey:"domain",keys:{domain:{},numberAllowsNaN:{}},normalize:e=>typeof e=="string"?{domain:e}:ds(e,"numberAllowsNaN")&&e.domain!=="number"?$(ks.writeBadAllowNanMessage(e.domain)):e,applyConfig:(e,n)=>e.numberAllowsNaN===void 0&&e.domain==="number"&&n.numberAllowsNaN?{...e,numberAllowsNaN:!0}:e,defaults:{description:e=>it[e.domain],actual:e=>Number.isNaN(e)?"NaN":it[He(e)]},intersections:{domain:(e,n)=>e.domain==="number"&&n.domain==="number"?e.numberAllowsNaN?n:e:O.init("domain",e,n)}});class km extends Ss{constructor(){super(...arguments);f(this,"requiresNaNCheck",this.domain==="number"&&!this.numberAllowsNaN);f(this,"traverseAllows",this.requiresNaNCheck?t=>typeof t=="number"&&!Number.isNaN(t):t=>He(t)===this.domain);f(this,"compiledCondition",this.domain==="object"?'((typeof data === "object" && data !== null) || typeof data === "function")':`typeof data === "${this.domain}"${this.requiresNaNCheck?" && !Number.isNaN(data)":""}`);f(this,"compiledNegation",this.domain==="object"?'((typeof data !== "object" || data === null) && typeof data !== "function")':`typeof data !== "${this.domain}"${this.requiresNaNCheck?" || Number.isNaN(data)":""}`);f(this,"expression",this.numberAllowsNaN?"number | NaN":this.domain)}get nestableExpression(){return this.numberAllowsNaN?`(${this.expression})`:this.expression}get defaultShortDescription(){return it[this.domain]}innerToJsonSchema(t){return this.domain==="bigint"||this.domain==="symbol"?t.fallback.domain({code:"domain",base:{},domain:this.domain}):{type:this.domain}}}const ks={implementation:Sm,Node:km,writeBadAllowNanMessage:e=>`numberAllowsNaN may only be specified with domain "number" (was ${e})`},_m=se({kind:"intersection",hasAssociatedError:!0,normalize:e=>{if($e(e))return e;const{structure:n,...t}=e,r=!!n,i=n??{},s=W(t,(o,a)=>Ze(o,mp)?(r&&$(`Flattened structure key ${o} cannot be specified alongside a root 'structure' key.`),i[o]=a,[]):[o,a]);return(L(i,"constraint")||!Dn(i))&&(s.structure=i),s},finalizeInnerJson:({structure:e,...n})=>Ot(e,"object")?{...e,...n}:n,keys:{domain:{child:!0,parse:(e,n)=>n.$.node("domain",e)},proto:{child:!0,parse:(e,n)=>n.$.node("proto",e)},structure:{child:!0,parse:(e,n)=>n.$.node("structure",e),serialize:e=>{var o;if(!((o=e.sequence)!=null&&o.minLength))return e.collapsibleJson;const{sequence:n,...t}=e.collapsibleJson,{minVariadicLength:r,...i}=n,s=i.variadic&&Object.keys(i).length===1?i.variadic:i;return{...t,sequence:s}}},divisor:{child:!0,parse:ke("divisor")},max:{child:!0,parse:ke("max")},min:{child:!0,parse:ke("min")},maxLength:{child:!0,parse:ke("maxLength")},minLength:{child:!0,parse:ke("minLength")},exactLength:{child:!0,parse:ke("exactLength")},before:{child:!0,parse:ke("before")},after:{child:!0,parse:ke("after")},pattern:{child:!0,parse:ke("pattern")},predicate:{child:!0,parse:ke("predicate")}},reduce:(e,n)=>$o({},e,{$:n,invert:!1,pipe:!1}),defaults:{description:e=>{if(e.children.length===0)return"unknown";if(e.structure)return e.structure.description;const n=[];if(e.basis&&!e.refinements.some(t=>t.impl.obviatesBasisDescription)&&n.push(e.basis.description),e.refinements.length){const t=e.refinements.toSorted((r,i)=>r.kind==="min"&&i.kind==="max"?-1:0).map(r=>r.description);n.push(...t)}return e.inner.predicate&&n.push(...e.inner.predicate.map(t=>t.description)),n.join(" and ")},expected:e=>`   ${e.errors.map(n=>n.expected).join(`
   `)}`,problem:e=>`(${e.actual}) must be...
${e.expected}`},intersections:{intersection:(e,n,t)=>$o(e.inner,n.inner,t),...qn("intersection",(e,n,t)=>{var c;if(e.children.length===0)return n;const{domain:r,proto:i,...s}=e.inner,o=i??r,a=o?he(o,n,t):n;return a instanceof O?a:(c=e==null?void 0:e.basis)!=null&&c.equals(a)?e:e.$.node("intersection",{...s,[a.kind]:a},{prereduced:!0})})}});class Am extends jn{constructor(){super(...arguments);f(this,"basis",this.inner.domain??this.inner.proto??null);f(this,"refinements",this.children.filter(t=>t.isRefinement()));f(this,"structure",this.inner.structure);f(this,"expression",Cm(this));f(this,"traverseAllows",(t,r)=>this.children.every(i=>i.traverseAllows(t,r)));f(this,"traverseApply",(t,r)=>{const i=r.currentErrorCount;if(!(this.basis&&(this.basis.traverseApply(t,r),r.currentErrorCount>i))){if(this.refinements.length){for(let s=0;s<this.refinements.length-1;s++)if(this.refinements[s].traverseApply(t,r),r.failFast&&r.currentErrorCount>i)return;if(this.refinements.at(-1).traverseApply(t,r),r.currentErrorCount>i)return}if(!(this.structure&&(this.structure.traverseApply(t,r),r.currentErrorCount>i))&&this.inner.predicate){for(let s=0;s<this.inner.predicate.length-1;s++)if(this.inner.predicate[s].traverseApply(t,r),r.failFast&&r.currentErrorCount>i)return;this.inner.predicate.at(-1).traverseApply(t,r)}}})}get shallowMorphs(){var t;return(t=this.inner.structure)!=null&&t.structuralMorph?[this.inner.structure.structuralMorph]:[]}get defaultShortDescription(){var t;return((t=this.basis)==null?void 0:t.defaultShortDescription)??"present"}innerToJsonSchema(t){return this.children.reduce((r,i)=>i.isBasis()?i.toJsonSchemaRecurse(t):i.reduceJsonSchema(r,t),{})}compile(t){if(t.traversalKind==="Allows"){for(const r of this.children)t.check(r);t.return(!0);return}if(t.initializeErrorCount(),this.basis&&(t.check(this.basis),this.children.length>1&&t.returnIfFail()),this.refinements.length){for(let r=0;r<this.refinements.length-1;r++)t.check(this.refinements[r]),t.returnIfFailFast();t.check(this.refinements.at(-1)),(this.structure||this.inner.predicate)&&t.returnIfFail()}if(this.structure&&(t.check(this.structure),this.inner.predicate&&t.returnIfFail()),this.inner.predicate){for(let r=0;r<this.inner.predicate.length-1;r++)t.check(this.inner.predicate[r]),t.returnIfFail();t.check(this.inner.predicate.at(-1))}}}const Hc={implementation:_m,Node:Am},Cm=e=>{var t;let n=((t=e.structure)==null?void 0:t.expression)||`${e.basis&&!e.refinements.some(r=>r.impl.obviatesBasisExpression)?e.basis.nestableExpression+" ":""}${e.refinements.map(r=>r.expression).join(" & ")}`||"unknown";return n==="Array == 0"&&(n="[]"),n},$o=(e,n,t)=>{const r={},i=e.proto??e.domain,s=n.proto??n.domain,o=i?s?he(i,s,t):i:s;return o instanceof O?o:(o&&(r[o.kind]=o),Pr({kind:"intersection",baseInner:r,l:Rr(e),r:Rr(n),roots:[],ctx:t}))},Pm=se({kind:"morph",hasAssociatedError:!1,keys:{in:{child:!0,parse:(e,n)=>n.$.parseSchema(e)},morphs:{parse:Ln,serialize:e=>e.map(n=>L(n,"root")?n.json:Se(n))},declaredIn:{child:!1,serialize:e=>e.json},declaredOut:{child:!1,serialize:e=>e.json}},normalize:e=>e,defaults:{description:e=>{var n;return`a morph from ${e.in.description} to ${((n=e.out)==null?void 0:n.description)??"unknown"}`}},intersections:{morph:(e,n,t)=>{if(!e.hasEqualMorphs(n))return $(Im(e.expression,n.expression));const r=he(e.in,n.in,t);if(r instanceof O)return r;const i={morphs:e.morphs};if(e.declaredIn||n.declaredIn){const s=he(e.in,n.in,t);if(s instanceof O)return s.throw();i.declaredIn=s}if(e.declaredOut||n.declaredOut){const s=he(e.out,n.out,t);if(s instanceof O)return s.throw();i.declaredOut=s}return r.distribute(s=>t.$.node("morph",{...i,in:s}),t.$.parseSchema)},...qn("morph",(e,n,t)=>{const r=e.inner.in?he(e.inner.in,n,t):n;return r instanceof O?r:r.equals(e.inner.in)?e:t.$.node("morph",{...e.inner,in:r})})}});class Rm extends jn{constructor(){super(...arguments);f(this,"serializedMorphs",this.morphs.map(Se));f(this,"compiledMorphs",`[${this.serializedMorphs}]`);f(this,"lastMorph",this.inner.morphs.at(-1));f(this,"lastMorphIfNode",L(this.lastMorph,"root")?this.lastMorph:void 0);f(this,"introspectableIn",this.inner.in);f(this,"introspectableOut",this.lastMorphIfNode?Object.assign(this.referencesById,this.lastMorphIfNode.referencesById)&&this.lastMorphIfNode.out:void 0);f(this,"expression",`(In: ${this.in.expression}) => ${this.lastMorphIfNode?"To":"Out"}<${this.out.expression}>`);f(this,"traverseAllows",(t,r)=>!this.introspectableIn||this.introspectableIn.traverseAllows(t,r));f(this,"traverseApply",(t,r)=>{this.introspectableIn&&this.introspectableIn.traverseApply(t,r),r.queueMorphs(this.morphs)})}get shallowMorphs(){var t;return Array.isArray((t=this.inner.in)==null?void 0:t.shallowMorphs)?[...this.inner.in.shallowMorphs,...this.morphs]:this.morphs}get in(){var t;return this.declaredIn??((t=this.inner.in)==null?void 0:t.in)??k.intrinsic.unknown.internal}get out(){return this.declaredOut??this.introspectableOut??k.intrinsic.unknown.internal}declareIn(t){return this.$.node("morph",{...this.inner,declaredIn:t})}declareOut(t){return this.$.node("morph",{...this.inner,declaredOut:t})}get defaultShortDescription(){return this.in.meta.description??this.in.defaultShortDescription}innerToJsonSchema(t){var r;return t.fallback.morph({code:"morph",base:this.in.toJsonSchemaRecurse(t),out:((r=this.introspectableOut)==null?void 0:r.toJsonSchemaRecurse(t))??null})}compile(t){if(t.traversalKind==="Allows"){if(!this.introspectableIn)return;t.return(t.invoke(this.introspectableIn));return}this.introspectableIn&&t.line(t.invoke(this.introspectableIn)),t.line(`ctx.queueMorphs(${this.compiledMorphs})`)}hasEqualMorphs(t){return tn(this.morphs,t.morphs,{isEqual:(r,i)=>r===i||L(r,"root")&&L(i,"root")&&r.equals(i)})}}const Gc={implementation:Pm,Node:Rm},Im=(e,n)=>`The intersection of distinct morphs at a single path is indeterminate:
Left: ${e}
Right: ${n}`,Om=se({kind:"proto",hasAssociatedError:!0,collapsibleKey:"proto",keys:{proto:{serialize:e=>hs(e)??Ct(e)},dateAllowsInvalid:{}},normalize:e=>{const n=typeof e=="string"?{proto:rn[e]}:typeof e=="function"?$e(e)?e:{proto:e}:typeof e.proto=="string"?{...e,proto:rn[e.proto]}:e;return typeof n.proto!="function"&&$(Or.writeInvalidSchemaMessage(n.proto)),ds(n,"dateAllowsInvalid")&&n.proto!==Date&&$(Or.writeBadInvalidDateMessage(n.proto)),n},applyConfig:(e,n)=>e.dateAllowsInvalid===void 0&&e.proto===Date&&n.dateAllowsInvalid?{...e,dateAllowsInvalid:!0}:e,defaults:{description:e=>e.builtinName?Oh[e.builtinName]:`an instance of ${e.proto.name}`,actual:e=>e instanceof Date&&e.toString()==="Invalid Date"?"an invalid Date":Ii(e)},intersections:{proto:(e,n)=>e.proto===Date&&n.proto===Date?e.dateAllowsInvalid?n:e:co(e.proto,n.proto)?e:co(n.proto,e.proto)?n:O.init("proto",e,n),domain:(e,n)=>n.domain==="object"?e:O.init("domain",k.intrinsic.object.internal,n)}});class Nm extends Ss{constructor(){super(...arguments);f(this,"builtinName",hs(this.proto));f(this,"serializedConstructor",this.json.proto);f(this,"requiresInvalidDateCheck",this.proto===Date&&!this.dateAllowsInvalid);f(this,"traverseAllows",this.requiresInvalidDateCheck?t=>t instanceof Date&&t.toString()!=="Invalid Date":t=>t instanceof this.proto);f(this,"compiledCondition",`data instanceof ${this.serializedConstructor}${this.requiresInvalidDateCheck?' && data.toString() !== "Invalid Date"':""}`);f(this,"compiledNegation",`!(${this.compiledCondition})`);f(this,"expression",this.dateAllowsInvalid?"Date | InvalidDate":this.proto.name);f(this,"domain","object")}innerToJsonSchema(t){var r,i;switch(this.builtinName){case"Array":return{type:"array"};case"Date":return((i=(r=t.fallback).date)==null?void 0:i.call(r,{code:"date",base:{}}))??t.fallback.proto({code:"proto",base:{},proto:this.proto});default:return t.fallback.proto({code:"proto",base:{},proto:this.proto})}}get nestableExpression(){return this.dateAllowsInvalid?`(${this.expression})`:this.expression}get defaultShortDescription(){return this.description}}const Or={implementation:Om,Node:Nm,writeBadInvalidDateMessage:e=>`dateAllowsInvalid may only be specified with constructor Date (was ${e.name})`,writeInvalidSchemaMessage:e=>`instanceOf operand must be a function (was ${He(e)})`},Mm=se({kind:"union",hasAssociatedError:!0,collapsibleKey:"branches",keys:{ordered:{},branches:{child:!0,parse:(e,n)=>{const t=[];for(const r of e){const i=L(r,"root")?r.branches:n.$.parseSchema(r).branches;for(const s of i)if(s.hasKind("morph")){const o=t.findIndex(a=>a.hasKind("morph")&&a.hasEqualMorphs(s));if(o===-1)t.push(s);else{const a=t[o];t[o]=n.$.node("morph",{...a.inner,in:a.in.rawOr(s.in)})}}else t.push(s)}return n.def.ordered||t.sort((r,i)=>r.hash<i.hash?-1:1),t}}},normalize:e=>be(e)?{branches:e}:e,reduce:(e,n)=>{const t=Um(e);if(t.length===1)return t[0];if(t.length!==e.branches.length)return n.node("union",{...e,branches:t},{prereduced:!0})},defaults:{description:e=>e.distribute(n=>n.description,Gt),expected:e=>{const n=gh(e.errors,"propString"),t=Object.entries(n).map(([r,i])=>{const s=[];for(const c of i)_t(s,c.expected);const o=Gt(s),a=i.every(c=>c.actual===i[0].actual)?i[0].actual:V(i[0].data);return`${r&&`${r} `}must be ${o}${a&&` (was ${a})`}`});return Gt(t)},problem:e=>e.expected,message:e=>e.problem},intersections:{union:(e,n,t)=>{if(e.isNever!==n.isNever)return O.init("presence",e,n);let r;return e.ordered?(n.ordered&&$(Jm(e.expression,n.expression)),r=ai(n.branches,e.branches,t),r instanceof O&&r.invert()):r=ai(e.branches,n.branches,t),r instanceof O?r:t.$.parseSchema(e.ordered||n.ordered?{branches:r,ordered:!0}:{branches:r})},...qn("union",(e,n,t)=>{const r=ai(e.branches,[n],t);return r instanceof O?r:r.length===1?r[0]:t.$.parseSchema(e.ordered?{branches:r,ordered:!0}:{branches:r})})}});class Em extends jn{constructor(){super(...arguments);f(this,"isBoolean",this.branches.length===2&&this.branches[0].hasUnit(!1)&&this.branches[1].hasUnit(!0));f(this,"unitBranches",this.branches.filter(t=>t.in.hasKind("unit")));f(this,"discriminant",this.discriminate());f(this,"discriminantJson",this.discriminant?jm(this.discriminant):null);f(this,"expression",this.distribute(t=>t.nestableExpression,zm));f(this,"traverseAllows",(t,r)=>this.branches.some(i=>i.traverseAllows(t,r)));f(this,"traverseApply",(t,r)=>{const i=[];for(let s=0;s<this.branches.length;s++){if(r.pushBranch(),this.branches[s].traverseApply(t,r),!r.hasError())return this.branches[s].includesTransform?r.queuedMorphs.push(...r.popBranch().queuedMorphs):r.popBranch();i.push(r.popBranch().error)}r.errorFromNodeContext({code:"union",errors:i,meta:this.meta})});f(this,"traverseOptimistic",t=>{for(let r=0;r<this.branches.length;r++){const i=this.branches[r];if(i.traverseAllows(t))return i.contextFreeMorph?i.contextFreeMorph(t):t}return et})}get branchGroups(){const t=[];let r=-1;for(const i of this.branches){if(i.hasKind("unit")&&i.domain==="boolean"){r===-1?(r=t.length,t.push(i)):t[r]=k.intrinsic.boolean;continue}t.push(i)}return t}createBranchedOptimisticRootApply(){return(t,r)=>{const i=this.traverseOptimistic(t);if(i!==et)return i;const s=new Bt(t,this.$.resolvedConfig);return this.traverseApply(t,s),s.finalize(r)}}get shallowMorphs(){return this.branches.reduce((t,r)=>_t(t,r.shallowMorphs),[])}get defaultShortDescription(){return this.distribute(t=>t.defaultShortDescription,Gt)}innerToJsonSchema(t){if(this.branchGroups.length===1&&this.branchGroups[0].equals(k.intrinsic.boolean))return{type:"boolean"};const r=this.branchGroups.map(i=>i.toJsonSchemaRecurse(t));return r.every(i=>Object.keys(i).length===1&&ds(i,"const"))?{enum:r.map(i=>i.const)}:{anyOf:r}}compile(t){if(!this.discriminant||this.unitBranches.length===this.branches.length&&this.branches.length===2)return this.compileIndiscriminable(t);let r=this.discriminant.optionallyChainedPropString;this.discriminant.kind==="domain"&&(r=`typeof ${r} === "object" ? ${r} === null ? "null" : "object" : typeof ${r} === "function" ? "object" : typeof ${r}`);const i=this.discriminant.cases,s=Object.keys(i),{optimistic:o}=t;if(t.optimistic=!1,t.block(`switch(${r})`,()=>{for(const d in i){const h=i[d],p=d==="default"?d:`case ${d}`;t.line(`${p}: return ${h===!0?o?t.data:h:o?`${t.invoke(h)} ? ${h.contextFreeMorph?`${Se(h.contextFreeMorph)}(${t.data})`:t.data} : "${et}"`:t.invoke(h)}`)}return t}),t.traversalKind==="Allows"){t.return(o?`"${et}"`:!1);return}const a=Gt(this.discriminant.kind==="domain"?s.map(d=>{const h=d.slice(1,-1);return h==="function"?it.object:it[h]}):s),c=this.discriminant.path.map(d=>typeof d=="symbol"?Se(d):JSON.stringify(d)),l=JSON.stringify(a),u=this.discriminant.kind==="domain"?`${Bm}[${r}]`:`${Km}(${r})`;t.line(`ctx.errorFromNodeContext({
	code: "predicate",
	expected: ${l},
	actual: ${u},
	relativePath: [${c}],
	meta: ${this.compiledMeta}
})`)}compileIndiscriminable(t){if(t.traversalKind==="Apply"){t.const("errors","[]");for(const r of this.branches)t.line("ctx.pushBranch()").line(t.invoke(r)).if("!ctx.hasError()",()=>t.return(r.includesTransform?"ctx.queuedMorphs.push(...ctx.popBranch().queuedMorphs)":"ctx.popBranch()")).line("errors.push(ctx.popBranch().error)");t.line(`ctx.errorFromNodeContext({ code: "union", errors, meta: ${this.compiledMeta} })`)}else{const{optimistic:r}=t;t.optimistic=!1;for(const i of this.branches)t.if(`${t.invoke(i)}`,()=>t.return(r?i.contextFreeMorph?`${Se(i.contextFreeMorph)}(${t.data})`:t.data:!0));t.return(r?`"${et}"`:!1)}}get nestableExpression(){return this.isBoolean?"boolean":`(${this.expression})`}discriminate(){var o,a;if(this.branches.length<2||this.isCyclic)return null;if(this.unitBranches.length===this.branches.length){const c=W(this.unitBranches,(l,u)=>[`${u.in.serializedValue}`,u.hasKind("morph")?u:!0]);return{kind:"unit",path:[],optionallyChainedPropString:"data",cases:c}}const t=[];for(let c=0;c<this.branches.length-1;c++){const l=this.branches[c];for(let u=c+1;u<this.branches.length;u++){const d=this.branches[u],h=at(l.in,d.in,l.$);if(h instanceof O)for(const p of h){if(!p.kind||p.optional)continue;let m,g;if(p.kind==="domain"){const b=p.l,A=p.r;m=`"${typeof b=="string"?b:b.domain}"`,g=`"${typeof A=="string"?A:A.domain}"`}else if(p.kind==="unit")m=p.l.serializedValue,g=p.r.serializedValue;else continue;const y=t.find(b=>tn(b.path,p.path)&&b.kind===p.kind);y?(y.cases[m]?y.cases[m].branchIndices=_t(y.cases[m].branchIndices,c):(o=y.cases)[m]??(o[m]={branchIndices:[c],condition:p.l}),y.cases[g]?y.cases[g].branchIndices=_t(y.cases[g].branchIndices,u):(a=y.cases)[g]??(a[g]={branchIndices:[u],condition:p.r})):t.push({kind:p.kind,cases:{[m]:{branchIndices:[c],condition:p.l},[g]:{branchIndices:[u],condition:p.r}},path:p.path})}}}const r=this.ordered?Tm(t,this.branches):t;if(!r.length)return null;const i=Lm(r,this),s={};for(const c in i.best.cases){const l=Dm(i,c);if(l===null){s[c]=!0;continue}if(l.length===this.branches.length)return null;this.ordered&&l.sort((h,p)=>h.originalIndex-p.originalIndex);const u=l.map(h=>h.branch),d=u.length===1?u[0]:this.$.node("union",this.ordered?{branches:u,ordered:!0}:u);Object.assign(this.referencesById,d.referencesById),s[c]=d}if(i.defaultEntries.length){const c=i.defaultEntries.map(l=>l.branch);s.default=this.$.node("union",this.ordered?{branches:c,ordered:!0}:c,{prereduced:!0}),Object.assign(this.referencesById,s.default.referencesById)}return Object.assign(i.location,{cases:s})}}const Lm=(e,n)=>{const t=e.sort((s,o)=>Object.keys(o.cases).length-Object.keys(s.cases).length)[0],r={kind:t.kind,path:t.path,optionallyChainedPropString:Wc(t.path)},i=n.branches.map((s,o)=>({originalIndex:o,branch:s}));return{best:t,location:r,defaultEntries:i,node:n}},Dm=(e,n)=>{const t=e.best.cases[n],r=Fm(t.condition,e.location.path,e.node.$);let i=[];const s=[];for(let o=0;o<e.defaultEntries.length;o++){const a=e.defaultEntries[o];if(t.branchIndices.includes(a.originalIndex)){const c=xo(e.node.branches[a.originalIndex],e.location);c===null?i=null:i==null||i.push({originalIndex:a.originalIndex,branch:c})}else if(a.branch.hasKind("alias")&&r.hasKind("domain")&&r.domain==="object")i==null||i.push(a);else{if(a.branch.in.overlaps(r)){const c=xo(a.branch,e.location);i==null||i.push({originalIndex:a.originalIndex,branch:c})}s.push(a)}}return e.defaultEntries=s,i},Tm=(e,n)=>e.filter(r=>{const i=Object.values(r.cases).map(s=>s.branchIndices);for(let s=0;s<i.length-1;s++){const o=i[s];for(let a=s+1;a<i.length;a++){const c=i[a];for(const l of o)for(const u of c)if(l>u&&n[l].overlaps(n[u]))return!1}}return!0}),Fm=(e,n,t)=>{let r=e==="undefined"?t.node("unit",{unit:void 0}):e==="null"?t.node("unit",{unit:null}):e==="boolean"?t.units([!0,!1]):e;for(let i=n.length-1;i>=0;i--){const s=n[i];r=t.node("intersection",typeof s=="number"?{proto:"Array",sequence:[...ph(s).map(o=>({})),r]}:{domain:"object",required:[{key:s,value:r}]})}return r},Wc=e=>e.reduce((n,t)=>n+yc(t,!0),"data"),Bm=Se(yh),Km=Se(V),Yc={implementation:Mm,Node:Em},jm=e=>({kind:e.kind,path:e.path.map(n=>typeof n=="string"?n:Kn(n)),cases:W(e.cases,(n,t)=>[n,t===!0?t:t.hasKind("union")&&t.discriminantJson?t.discriminantJson:t.json])}),qm={delimiter:" | ",finalDelimiter:" | "},zm=e=>Gt(e,qm),Gt=(e,n)=>{const t=(n==null?void 0:n.delimiter)??", ",r=(n==null?void 0:n.finalDelimiter)??" or ";if(e.length===0)return"never";if(e.length===1)return e[0];if(e.length===2&&e[0]==="false"&&e[1]==="true"||e[0]==="true"&&e[1]==="false")return"boolean";const i={},s=e.filter(a=>i[a]?!1:i[a]=!0),o=s.pop();return`${s.join(t)}${s.length?r:""}${o}`},ai=(e,n,t)=>{const r=n.map(()=>[]);for(let s=0;s<e.length;s++){let o={};for(let a=0;a<n.length;a++){if(r[a]===null)continue;if(e[s].equals(n[a])){r[a]=null,o={};break}const c=he(e[s],n[a],t);if(!(c instanceof O)){if(c.equals(e[s])){r[a].push(e[s]),o={};break}c.equals(n[a])?r[a]=null:o[a]=c}}for(const a in o)r[a][s]=o[a]}const i=r.flatMap((s,o)=>(s==null?void 0:s.flatMap(a=>a.branches))??n[o]);return i.length===0?O.init("union",e,n):i},Um=({branches:e,ordered:n})=>{if(e.length<2)return e;const t=e.map(()=>!0);for(let r=0;r<e.length;r++)for(let i=r+1;i<e.length&&t[r]&&t[i];i++){if(e[r].equals(e[i])){t[i]=!1;continue}const s=at(e[r].in,e[i].in,e[0].$);s instanceof O||(n||Vm(e[r],e[i]),s.equals(e[r].in)?t[r]=!!n:s.equals(e[i].in)&&(t[i]=!1))}return e.filter((r,i)=>t[i])},Vm=(e,n)=>{!e.includesTransform&&!n.includesTransform||(tn(e.shallowMorphs,n.shallowMorphs)||$(So(e.expression,n.expression)),tn(e.flatMorphs,n.flatMorphs,{isEqual:(t,r)=>{var i,s;return t.propString===r.propString&&(t.node.hasKind("morph")&&r.node.hasKind("morph")?t.node.hasEqualMorphs(r.node):t.node.hasKind("intersection")&&r.node.hasKind("intersection")?((i=t.node.structure)==null?void 0:i.structuralMorphRef)===((s=r.node.structure)==null?void 0:s.structuralMorphRef):!1)}})||$(So(e.expression,n.expression)))},xo=(e,n)=>e.transform((t,r)=>t==="domain"||t==="unit"?null:r,{shouldTransform:(t,r)=>{const i=Wc(r.path);return n.optionallyChainedPropString.startsWith(i)?t.hasKind("domain")&&t.domain==="object"||(t.hasKind("domain")||n.kind==="unit")&&i===n.optionallyChainedPropString?!0:t.children.length!==0&&t.kind!=="index":!1}}),So=(e,n)=>`An unordered union of a type including a morph and a type with overlapping input is indeterminate:
Left: ${e}
Right: ${n}`,Jm=(e,n)=>`The intersection of two ordered unions is indeterminate:
Left: ${e}
Right: ${n}`,Hm=se({kind:"unit",hasAssociatedError:!0,keys:{unit:{preserveUndefined:!0,serialize:e=>e instanceof Date?e.toISOString():Ct(e)}},normalize:e=>e,defaults:{description:e=>V(e.unit),problem:({expected:e,actual:n})=>`${e===n?`must be reference equal to ${e} (serialized to the same value)`:`must be ${e} (was ${n})`}`},intersections:{unit:(e,n)=>O.init("unit",e,n),...qn("unit",(e,n)=>{if(n.allows(e.unit))return e;const t=n.hasKind("intersection")?n.basis:n;if(t){const r=t.hasKind("domain")?t:k.intrinsic.object;if(e.domain!==r.domain){const i=e.domain==="undefined"||e.domain==="null"||e.domain==="boolean"?e.domain:k.intrinsic[e.domain];return O.init("domain",i,r)}}return O.init("assignability",e,n.hasKind("intersection")?n.children.find(r=>!r.allows(e.unit)):n)})}});class Gm extends Ss{constructor(){super(...arguments);f(this,"compiledValue",this.json.unit);f(this,"serializedValue",typeof this.unit=="string"||this.unit instanceof Date?JSON.stringify(this.compiledValue):`${this.compiledValue}`);f(this,"compiledCondition",ko(this.unit,this.serializedValue));f(this,"compiledNegation",ko(this.unit,this.serializedValue,"negated"));f(this,"expression",V(this.unit));f(this,"domain",He(this.unit));f(this,"traverseAllows",this.unit instanceof Date?t=>t instanceof Date&&t.toISOString()===this.compiledValue:Number.isNaN(this.unit)?t=>Number.isNaN(t):t=>t===this.unit)}get defaultShortDescription(){return this.domain==="object"?it.object:this.description}innerToJsonSchema(t){return this.unit===null?{type:"null"}:k.intrinsic.jsonPrimitive.allows(this.unit)?{const:this.unit}:t.fallback.unit({code:"unit",base:{},unit:this.unit})}}const Zc={implementation:Hm,Node:Gm},ko=(e,n,t)=>{if(e instanceof Date){const r=`data instanceof Date && data.toISOString() === ${n}`;return t?`!(${r})`:r}return Number.isNaN(e)?`${t?"!":""}Number.isNaN(data)`:`data ${t?"!":"="}== ${n}`},Wm=se({kind:"index",hasAssociatedError:!1,intersectionIsOpen:!0,keys:{signature:{child:!0,parse:(e,n)=>{const t=n.$.parseSchema(e);if(!t.extends(k.intrinsic.key))return $(Xm(t.expression));const r=t.branches.filter(i=>i.hasKind("unit"));return r.length?$(Zm(r.map(i=>V(i.unit)))):t}},value:{child:!0,parse:(e,n)=>n.$.parseSchema(e)}},normalize:e=>e,defaults:{description:e=>`[${e.signature.expression}]: ${e.value.description}`},intersections:{index:(e,n,t)=>{if(e.signature.equals(n.signature)){const r=he(e.value,n.value,t),i=r instanceof O?k.intrinsic.never.internal:r;return t.$.node("index",{signature:e.signature,value:i})}return e.signature.extends(n.signature)&&e.value.subsumes(n.value)?n:n.signature.extends(e.signature)&&n.value.subsumes(e.value)?e:null}}});class Ym extends un{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.object.internal);f(this,"expression",`[${this.signature.expression}]: ${this.value.expression}`);f(this,"flatRefs",H(this.value.flatRefs.map(t=>mt([this.signature,...t.path],t.node)),mt([this.signature],this.value)));f(this,"traverseAllows",(t,r)=>kr(t).every(i=>this.signature.traverseAllows(i[0],r)?ot(i[0],()=>this.value.traverseAllows(i[1],r),r):!0));f(this,"traverseApply",(t,r)=>{for(const i of kr(t))this.signature.traverseAllows(i[0],r)&&ot(i[0],()=>this.value.traverseApply(i[1],r),r)})}_transform(t,r){r.path.push(this.signature);const i=super._transform(t,r);return r.path.pop(),i}compile(){}}const Xc={implementation:Wm,Node:Ym},Zm=e=>`Index keys ${e.join(", ")} should be specified as named props.`,Xm=e=>`Indexed key definition '${e}' must be a string or symbol`,Qm=se({kind:"required",hasAssociatedError:!0,intersectionIsOpen:!0,keys:{key:{},value:{child:!0,parse:(e,n)=>n.$.parseSchema(e)}},normalize:e=>e,defaults:{description:e=>`${e.compiledKey}: ${e.value.description}`,expected:e=>e.missingValueDescription,actual:()=>"missing"},intersections:{required:Ki,optional:Ki}});class eg extends Uc{constructor(){super(...arguments);f(this,"expression",`${this.compiledKey}: ${this.value.expression}`);f(this,"errorContext",Object.freeze({code:"required",missingValueDescription:this.value.defaultShortDescription,relativePath:[this.key],meta:this.meta}));f(this,"compiledErrorContext",qr(this.errorContext))}}const Qc={implementation:Qm,Node:eg},tg=se({kind:"sequence",hasAssociatedError:!1,collapsibleKey:"variadic",keys:{prefix:{child:!0,parse:(e,n)=>{if(e.length!==0)return e.map(t=>n.$.parseSchema(t))}},optionals:{child:!0,parse:(e,n)=>{if(e.length!==0)return e.map(t=>n.$.parseSchema(t))}},defaultables:{child:e=>e.map(n=>n[0]),parse:(e,n)=>{if(e.length!==0)return e.map(t=>{const r=n.$.parseSchema(t[0]);return $s(r,t[1],null),[r,t[1]]})},serialize:e=>e.map(n=>[n[0].collapsibleJson,Ct(n[1])])},variadic:{child:!0,parse:(e,n)=>n.$.parseSchema(e,n)},minVariadicLength:{parse:e=>e===0?void 0:e},postfix:{child:!0,parse:(e,n)=>{if(e.length!==0)return e.map(t=>n.$.parseSchema(t))}}},normalize:e=>{var n,t,r;if(typeof e=="string")return{variadic:e};if("variadic"in e||"prefix"in e||"defaultables"in e||"optionals"in e||"postfix"in e||"minVariadicLength"in e){if((n=e.postfix)!=null&&n.length){if(!e.variadic)return $(sg);if((t=e.optionals)!=null&&t.length||(r=e.defaultables)!=null&&r.length)return $(tl)}return e.minVariadicLength&&!e.variadic?$("minVariadicLength may not be specified without a variadic element"):e}return{variadic:e}},reduce:(e,n)=>{var a,c,l,u,d,h,p;let t=e.minVariadicLength??0;const r=((a=e.prefix)==null?void 0:a.slice())??[],i=((c=e.defaultables)==null?void 0:c.slice())??[],s=((l=e.optionals)==null?void 0:l.slice())??[],o=((u=e.postfix)==null?void 0:u.slice())??[];if(e.variadic){for(;(d=s.at(-1))!=null&&d.equals(e.variadic);)s.pop();if(s.length===0&&i.length===0)for(;(h=r.at(-1))!=null&&h.equals(e.variadic);)r.pop(),t++;for(;(p=o[0])!=null&&p.equals(e.variadic);)o.shift(),t++}else s.length===0&&i.length===0&&r.push(...o.splice(0));if(t!==e.minVariadicLength||e.prefix&&e.prefix.length!==r.length)return n.node("sequence",{...e,prefix:r,defaultables:i,optionals:s,postfix:o,minVariadicLength:t},{prereduced:!0})},defaults:{description:e=>e.isVariadicOnly?`${e.variadic.nestableExpression}[]`:`[${e.tuple.map(t=>t.kind==="defaultables"?`${t.node.nestableExpression} = ${V(t.default)}`:t.kind==="optionals"?`${t.node.nestableExpression}?`:t.kind==="variadic"?`...${t.node.nestableExpression}[]`:t.node.expression).join(", ")}]`},intersections:{sequence:(e,n,t)=>{const r=bn({l:e.tuple,r:n.tuple,disjoint:new O,result:[],fixedVariants:[],ctx:t}),i=r.disjoint.length===0?[r,...r.fixedVariants]:r.fixedVariants;return i.length===0?r.disjoint:i.length===1?t.$.node("sequence",_o(i[0].result)):t.$.node("union",i.map(s=>({proto:Array,sequence:_o(s.result)})))}}});var ca,la,ua,da;class ng extends un{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.Array.internal);f(this,"tuple",ig(this.inner));f(this,"prefixLength",((ca=this.prefix)==null?void 0:ca.length)??0);f(this,"defaultablesLength",((la=this.defaultables)==null?void 0:la.length)??0);f(this,"optionalsLength",((ua=this.optionals)==null?void 0:ua.length)??0);f(this,"postfixLength",((da=this.postfix)==null?void 0:da.length)??0);f(this,"defaultablesAndOptionals",[]);f(this,"prevariadic",this.tuple.filter(t=>t.kind==="defaultables"||t.kind==="optionals"?(this.defaultablesAndOptionals.push(t.node),!0):t.kind==="prefix"));f(this,"variadicOrPostfix",xt(this.variadic&&[this.variadic],this.postfix));f(this,"flatRefs",this.addFlatRefs());f(this,"isVariadicOnly",this.prevariadic.length+this.postfixLength===0);f(this,"minVariadicLength",this.inner.minVariadicLength??0);f(this,"minLength",this.prefixLength+this.minVariadicLength+this.postfixLength);f(this,"minLengthNode",this.minLength===0?null:this.$.node("minLength",this.minLength));f(this,"maxLength",this.variadic?null:this.tuple.length);f(this,"maxLengthNode",this.maxLength===null?null:this.$.node("maxLength",this.maxLength));f(this,"impliedSiblings",this.minLengthNode?this.maxLengthNode?[this.minLengthNode,this.maxLengthNode]:[this.minLengthNode]:this.maxLengthNode?[this.maxLengthNode]:[]);f(this,"defaultValueMorphs",rg(this));f(this,"defaultValueMorphsReference",this.defaultValueMorphs.length?Se(this.defaultValueMorphs):void 0);f(this,"traverseAllows",(t,r)=>{for(let i=0;i<t.length;i++)if(!this.elementAtIndex(t,i).node.traverseAllows(t[i],r))return!1;return!0});f(this,"traverseApply",(t,r)=>{let i=0;for(;i<t.length;i++)ot(i,()=>this.elementAtIndex(t,i).node.traverseApply(t[i],r),r)});f(this,"expression",this.description)}addFlatRefs(){return po(this.flatRefs,this.prevariadic.flatMap((t,r)=>H(t.node.flatRefs.map(i=>mt([`${r}`,...i.path],i.node)),mt([`${r}`],t.node)))),po(this.flatRefs,this.variadicOrPostfix.flatMap(t=>H(t.flatRefs.map(r=>mt([k.intrinsic.nonNegativeIntegerString.internal,...r.path],r.node)),mt([k.intrinsic.nonNegativeIntegerString.internal],t)))),this.flatRefs}elementAtIndex(t,r){if(r<this.prevariadic.length)return this.tuple[r];const i=t.length-this.postfixLength;return r>=i?{kind:"postfix",node:this.postfix[r-i]}:{kind:"variadic",node:this.variadic??le(`Unexpected attempt to access index ${r} on ${this}`)}}get element(){return this.cacheGetter("element",this.$.node("union",this.children))}compile(t){if(this.prefix)for(const[r,i]of this.prefix.entries())t.traverseKey(`${r}`,`data[${r}]`,i);for(const[r,i]of this.defaultablesAndOptionals.entries()){const s=`${r+this.prefixLength}`;t.if(`${s} >= ${t.data}.length`,()=>t.traversalKind==="Allows"?t.return(!0):t.return()),t.traverseKey(s,`data[${s}]`,i)}if(this.variadic&&(this.postfix&&t.const("firstPostfixIndex",`${t.data}.length${this.postfix?`- ${this.postfix.length}`:""}`),t.for(`i < ${this.postfix?"firstPostfixIndex":"data.length"}`,()=>t.traverseKey("i","data[i]",this.variadic),this.prevariadic.length),this.postfix))for(const[r,i]of this.postfix.entries()){const s=`firstPostfixIndex + ${r}`;t.traverseKey(s,`data[${s}]`,i)}t.traversalKind==="Allows"&&t.return(!0)}_transform(t,r){r.path.push(k.intrinsic.nonNegativeIntegerString.internal);const i=super._transform(t,r);return r.path.pop(),i}reduceJsonSchema(t,r){if(this.prevariadic.length&&(t.prefixItems=this.prevariadic.map(i=>{const s=i.node.toJsonSchemaRecurse(r);if(i.kind==="defaultables"){const o=typeof i.default=="function"?i.default():i.default;s.default=k.intrinsic.jsonData.allows(o)?o:r.fallback.defaultValue({code:"defaultValue",base:s,value:o})}return s})),this.minLength&&(t.minItems=this.minLength),this.variadic){const i=Object.assign(t,{items:this.variadic.toJsonSchemaRecurse(r)});if(this.maxLength&&(i.maxItems=this.maxLength),this.postfix){const s=this.postfix.map(o=>o.toJsonSchemaRecurse(r));t=r.fallback.arrayPostfix({code:"arrayPostfix",base:i,elements:s})}}else t.items=!1,delete t.maxItems;return t}}const ci={},rg=e=>{if(!e.defaultables)return[];const n=[];let t="[";const r=e.prefixLength+e.defaultablesLength-1;for(let i=e.prefixLength;i<=r;i++){const[s,o]=e.defaultables[i-e.prefixLength];n.push(Jc(i,s,o)),t+=`${i}: ${s.id} = ${Ct(o)}, `}return t+="]",ci[t]??(ci[t]=n)},el={implementation:tg,Node:ng},ig=e=>{const n=[];if(e.prefix)for(const t of e.prefix)n.push({kind:"prefix",node:t});if(e.defaultables)for(const[t,r]of e.defaultables)n.push({kind:"defaultables",node:t,default:r});if(e.optionals)for(const t of e.optionals)n.push({kind:"optionals",node:t});if(e.variadic&&n.push({kind:"variadic",node:e.variadic}),e.postfix)for(const t of e.postfix)n.push({kind:"postfix",node:t});return n},_o=e=>e.reduce((n,t)=>(t.kind==="variadic"?n.variadic=t.node:t.kind==="defaultables"?n.defaultables=H(n.defaultables,[[t.node,t.default]]):n[t.kind]=H(n[t.kind],t.node),n),{}),tl="A postfix required element cannot follow an optional or defaultable element",sg="A postfix element requires a variadic element",bn=e=>{var d,h;const[n,...t]=e.l,[r,...i]=e.r;if(!n||!r)return e;const s=((d=t.at(-1))==null?void 0:d.kind)==="postfix",o=((h=i.at(-1))==null?void 0:h.kind)==="postfix",a=n.kind==="prefix"||r.kind==="prefix"?"prefix":n.kind==="postfix"||r.kind==="postfix"?"postfix":n.kind==="variadic"&&r.kind==="variadic"?"variadic":s||o?"prefix":n.kind==="defaultables"||r.kind==="defaultables"?"defaultables":"optionals";if(n.kind==="prefix"&&r.kind==="variadic"&&o){const p=bn({...e,fixedVariants:[],r:i.map(m=>({...m,kind:"prefix"}))});p.disjoint.length===0&&e.fixedVariants.push(p)}else if(r.kind==="prefix"&&n.kind==="variadic"&&s){const p=bn({...e,fixedVariants:[],l:t.map(m=>({...m,kind:"prefix"}))});p.disjoint.length===0&&e.fixedVariants.push(p)}const c=he(n.node,r.node,e.ctx);if(c instanceof O)if(a==="prefix"||a==="postfix")e.disjoint.push(...c.withPrefixKey(a==="prefix"?e.result.length:`-${t.length+1}`,"required")),e.result=[...e.result,{kind:a,node:k.intrinsic.never.internal}];else return a==="optionals"||a==="defaultables"?e:bn({...e,fixedVariants:[],l:t.map(p=>({...p,kind:"prefix"})),r:t.map(p=>({...p,kind:"prefix"}))});else a==="defaultables"?(n.kind==="defaultables"&&r.kind==="defaultables"&&n.default!==r.default&&$(Vc(n.default,r.default)),e.result=[...e.result,{kind:a,node:c,default:n.kind==="defaultables"?n.default:r.kind==="defaultables"?r.default:le(`Unexpected defaultable intersection from ${n.kind} and ${r.kind} elements.`)}]):e.result=[...e.result,{kind:a,node:c}];const l=e.l.length,u=e.r.length;return(n.kind!=="variadic"||l>=u&&(r.kind==="variadic"||u===1))&&(e.l=t),(r.kind!=="variadic"||u>=l&&(n.kind==="variadic"||l===1))&&(e.r=i),bn(e)},nl=e=>n=>{var t,r;if(n.props.length||n.index){const i=((t=n.index)==null?void 0:t.map(o=>o[e]))??[];for(const o of n.props)i.push(o[e]);n.undeclared&&i.push(`+ (undeclared): ${n.undeclared}`);const s=`{ ${i.join(", ")} }`;return n.sequence?`${s} & ${n.sequence.description}`:s}return((r=n.sequence)==null?void 0:r.description)??"{}"},og=nl("description"),ag=nl("expression"),Ao=(e,n,t)=>{const r=e.required?"required":"optional";if(!n.signature.allows(e.key))return null;const i=at(e.value,n.value,t);return i instanceof O?r==="optional"?t.node("optional",{key:e.key,value:k.intrinsic.never.internal}):i.withPrefixKey(e.key,e.kind):null},cg=se({kind:"structure",hasAssociatedError:!1,normalize:e=>e,applyConfig:(e,n)=>!e.undeclared&&n.onUndeclaredKey!=="ignore"?{...e,undeclared:n.onUndeclaredKey}:e,keys:{required:{child:!0,parse:ke("required"),reduceIo:(e,n,t)=>{n.required=H(n.required,t.map(r=>r[e]))}},optional:{child:!0,parse:ke("optional"),reduceIo:(e,n,t)=>{if(e==="in"){n.optional=t.map(r=>r.in);return}for(const r of t)n[r.outProp.kind]=H(n[r.outProp.kind],r.outProp.out)}},index:{child:!0,parse:ke("index")},sequence:{child:!0,parse:ke("sequence")},undeclared:{parse:e=>e==="ignore"?void 0:e,reduceIo:(e,n,t)=>{t==="delete"&&(e==="in"?delete n.undeclared:n.undeclared="reject")}}},defaults:{description:og},intersections:{structure:(e,n,t)=>{const r={...e.inner},i={...n.inner},s=new O;if(e.undeclared){const c=e.keyof();for(const l of n.requiredKeys)c.allows(l)||s.add("presence",k.intrinsic.never.internal,n.propsByKey[l].value,{path:[l]});i.optional&&(i.optional=i.optional.filter(l=>c.allows(l.key))),i.index&&(i.index=i.index.flatMap(l=>{if(l.signature.extends(c))return l;const u=at(c,l.signature,t.$);if(u instanceof O)return[];const d=ji(u,l.value,t.$);return d.required&&(i.required=xt(i.required,d.required)),d.optional&&(i.optional=xt(i.optional,d.optional)),d.index??[]}))}if(n.undeclared){const c=n.keyof();for(const l of e.requiredKeys)c.allows(l)||s.add("presence",e.propsByKey[l].value,k.intrinsic.never.internal,{path:[l]});r.optional&&(r.optional=r.optional.filter(l=>c.allows(l.key))),r.index&&(r.index=r.index.flatMap(l=>{if(l.signature.extends(c))return l;const u=at(c,l.signature,t.$);if(u instanceof O)return[];const d=ji(u,l.value,t.$);return d.required&&(r.required=xt(r.required,d.required)),d.optional&&(r.optional=xt(r.optional,d.optional)),d.index??[]}))}const o={};(e.undeclared||n.undeclared)&&(o.undeclared=e.undeclared==="reject"||n.undeclared==="reject"?"reject":"delete");const a=Pr({kind:"structure",baseInner:o,l:Rr(r),r:Rr(i),roots:[],ctx:t});return a instanceof O&&s.push(...a),s.length?s:a}},reduce:(e,n)=>{if(e.index){if(!(e.required||e.optional))return;let t=!1;const r=e.required??[],i=e.optional??[],s=[...i];for(const o of e.index){for(const a of r){const c=Ao(a,o,n);if(c instanceof O)return c}for(const[a,c]of i.entries()){const l=Ao(c,o,n);if(l instanceof O)return l;l!==null&&(s[a]=l,t=!0)}}if(t)return n.node("structure",{...e,optional:s},{prereduced:!0})}}});var fa,ha;class lg extends un{constructor(){super(...arguments);f(this,"impliedBasis",k.intrinsic.object.internal);f(this,"impliedSiblings",this.children.flatMap(t=>t.impliedSiblings??[]));f(this,"props",xt(this.required,this.optional));f(this,"propsByKey",W(this.props,(t,r)=>[r.key,r]));f(this,"propsByKeyReference",Se(this.propsByKey));f(this,"expression",ag(this));f(this,"requiredKeys",((fa=this.required)==null?void 0:fa.map(t=>t.key))??[]);f(this,"optionalKeys",((ha=this.optional)==null?void 0:ha.map(t=>t.key))??[]);f(this,"literalKeys",[...this.requiredKeys,...this.optionalKeys]);f(this,"_keyof");f(this,"traverseAllows",(t,r)=>this._traverse("Allows",t,r));f(this,"traverseApply",(t,r)=>this._traverse("Apply",t,r));f(this,"_traverse",(t,r,i)=>{const s=(i==null?void 0:i.currentErrorCount)??0;for(let o=0;o<this.props.length;o++)if(t==="Allows"){if(!this.props[o].traverseAllows(r,i))return!1}else if(this.props[o].traverseApply(r,i),i.failFast&&i.currentErrorCount>s)return!1;if(this.sequence){if(t==="Allows"){if(!this.sequence.traverseAllows(r,i))return!1}else if(this.sequence.traverseApply(r,i),i.failFast&&i.currentErrorCount>s)return!1}if(this.index||this.undeclared==="reject"){const o=Object.keys(r);o.push(...Object.getOwnPropertySymbols(r));for(let a=0;a<o.length;a++){const c=o[a];if(this.index){for(const l of this.index)if(l.signature.traverseAllows(c,i)){if(t==="Allows"){if(!ot(c,()=>l.value.traverseAllows(r[c],i),i))return!1}else if(ot(c,()=>l.value.traverseApply(r[c],i),i),i.failFast&&i.currentErrorCount>s)return!1}}if(this.undeclared==="reject"&&!this.declaresKey(c)&&(t==="Allows"||(i.errorFromNodeContext({code:"predicate",expected:"removed",actual:"",relativePath:[c],meta:this.meta}),i.failFast)))return!1}}return this.structuralMorph&&i&&!i.hasError()&&i.queueMorphs([this.structuralMorph]),!0});f(this,"declaresKey",t=>{var r;return t in this.propsByKey||((r=this.index)==null?void 0:r.some(i=>i.signature.allows(t)))||this.sequence!==void 0&&k.intrinsic.nonNegativeIntegerString.allows(t)});f(this,"structuralMorphRef",this.structuralMorph&&Se(this.structuralMorph))}keyof(){if(this._keyof)return this._keyof;let t=this.$.units(this.literalKeys).branches;if(this.index)for(const{signature:r}of this.index)t=t.concat(r.branches);return this._keyof=this.$.node("union",t)}map(t){return this.$.node("structure",this.props.flatMap(t).reduce((r,i)=>{const s=this.propsByKey[i.key];if($e(i))return i.kind!=="required"&&i.kind!=="optional"?$(`Map result must have kind "required" or "optional" (was ${i.kind})`):(r[i.kind]=H(r[i.kind],i),r);const o=i.kind??(s==null?void 0:s.kind)??"required",a=W(i,(c,l)=>c in ws.implementation.keys?[c,l]:[]);return r[o]=H(r[o],this.$.node(o,a)),r},{}))}assertHasKeys(t){const r=t.filter(i=>!er(i,this.keyof()));if(r.length)return $(Co(this.expression,r))}get(t,...r){var c;let i,s=!1;const o=hg(t);if((typeof o=="string"||typeof o=="symbol")&&this.propsByKey[o]&&(i=this.propsByKey[o].value,s=this.propsByKey[o].required),this.index)for(const l of this.index)er(o,l.signature)&&(i=(i==null?void 0:i.and(l.value))??l.value);if(this.sequence&&er(o,k.intrinsic.nonNegativeIntegerString))if(L(o,"root"))this.sequence.variadic&&(i=(i==null?void 0:i.and(this.sequence.element))??this.sequence.element);else{const l=Number.parseInt(o);if(l<this.sequence.prevariadic.length){const u=this.sequence.prevariadic[l].node;i=(i==null?void 0:i.and(u))??u,s||(s=l<this.sequence.prefixLength)}else if(this.sequence.variadic){const u=this.$.node("union",this.sequence.variadicOrPostfix);i=(i==null?void 0:i.and(u))??u}}if(!i)return(c=this.sequence)!=null&&c.variadic&&L(o,"root")&&o.extends(k.intrinsic.number)?$(pg(o.expression,this.sequence.expression)):$(Co(this.expression,[o]));const a=i.get(...r);return s?a:a.or(k.intrinsic.undefined)}pick(...t){return this.assertHasKeys(t),this.$.node("structure",this.filterKeys("pick",t))}omit(...t){return this.assertHasKeys(t),this.$.node("structure",this.filterKeys("omit",t))}optionalize(){const{required:t,...r}=this.inner;return this.$.node("structure",{...r,optional:this.props.map(i=>i.hasKind("required")?this.$.node("optional",i.inner):i)})}require(){const{optional:t,...r}=this.inner;return this.$.node("structure",{...r,required:this.props.map(i=>i.hasKind("optional")?{key:i.key,value:i.value}:i)})}merge(t){const r=this.filterKeys("omit",[t.keyof()]);return t.required&&(r.required=H(r.required,t.required)),t.optional&&(r.optional=H(r.optional,t.optional)),t.index&&(r.index=H(r.index,t.index)),t.sequence&&(r.sequence=t.sequence),t.undeclared?r.undeclared=t.undeclared:delete r.undeclared,this.$.node("structure",r)}filterKeys(t,r){const i=vc(this.inner),s=o=>{const a=r.some(c=>er(o,c));return t==="pick"?a:!a};return i.required&&(i.required=i.required.filter(o=>s(o.key))),i.optional&&(i.optional=i.optional.filter(o=>s(o.key))),i.index&&(i.index=i.index.filter(o=>s(o.signature))),i}get defaultable(){var t;return this.cacheGetter("defaultable",((t=this.optional)==null?void 0:t.filter(r=>r.hasDefault()))??[])}_compileDeclaresKey(t){const r=[];if(this.props.length&&r.push(`k in ${this.propsByKeyReference}`),this.index)for(const i of this.index)r.push(t.invoke(i.signature,{kind:"Allows",arg:"k"}));return this.sequence&&r.push("$ark.intrinsic.nonNegativeIntegerString.allows(k)"),r.join(" || ")||"false"}get structuralMorph(){return this.cacheGetter("structuralMorph",dg(this))}compile(t){t.traversalKind==="Apply"&&t.initializeErrorCount();for(const r of this.props)t.check(r),t.traversalKind==="Apply"&&t.returnIfFailFast();if(this.sequence&&(t.check(this.sequence),t.traversalKind==="Apply"&&t.returnIfFailFast()),(this.index||this.undeclared==="reject")&&(t.const("keys","Object.keys(data)"),t.line("keys.push(...Object.getOwnPropertySymbols(data))"),t.for("i < keys.length",()=>this.compileExhaustiveEntry(t))),t.traversalKind==="Allows")return t.return(!0);this.structuralMorphRef&&t.if("ctx && !ctx.hasError()",()=>(t.line("ctx.queueMorphs(["),fg(t,this),t.line("])")))}compileExhaustiveEntry(t){if(t.const("k","keys[i]"),this.index)for(const r of this.index)t.if(`${t.invoke(r.signature,{arg:"k",kind:"Allows"})}`,()=>t.traverseKey("k","data[k]",r.value));return this.undeclared==="reject"&&t.if(`!(${this._compileDeclaresKey(t)})`,()=>t.traversalKind==="Allows"?t.return(!1):t.line(`ctx.errorFromNodeContext({ code: "predicate", expected: "removed", actual: "", relativePath: [k], meta: ${this.compiledMeta} })`).if("ctx.failFast",()=>t.return())),t}reduceJsonSchema(t,r){var i;switch(t.type){case"object":return this.reduceObjectJsonSchema(t,r);case"array":const s=((i=this.sequence)==null?void 0:i.reduceJsonSchema(t,r))??t;return this.props.length||this.index?r.fallback.arrayObject({code:"arrayObject",base:s,object:this.reduceObjectJsonSchema({type:"object"},r)}):s;default:return ue.throwInternalOperandError("structure",t)}}reduceObjectJsonSchema(t,r){if(this.props.length){t.properties={};for(const i of this.props){const s=i.value.toJsonSchemaRecurse(r);if(typeof i.key=="symbol"){r.fallback.symbolKey({code:"symbolKey",base:t,key:i.key,value:s,optional:i.optional});continue}if(i.hasDefault()){const o=typeof i.default=="function"?i.default():i.default;s.default=k.intrinsic.jsonData.allows(o)?o:r.fallback.defaultValue({code:"defaultValue",base:s,value:o})}t.properties[i.key]=s}this.requiredKeys.length&&t.properties&&(t.required=this.requiredKeys.filter(i=>typeof i=="string"&&i in t.properties))}if(this.index)for(const i of this.index){const s=i.value.toJsonSchemaRecurse(r);if(i.signature.equals(k.intrinsic.string)){t.additionalProperties=s;continue}for(const o of i.signature.branches){if(!o.extends(k.intrinsic.string)){t=r.fallback.symbolKey({code:"symbolKey",base:t,key:null,value:s,optional:!1});continue}let a={type:"string"};if(o.hasKind("morph")&&(a=r.fallback.morph({code:"morph",base:o.in.toJsonSchemaRecurse(r),out:o.out.toJsonSchemaRecurse(r)})),!o.hasKind("intersection"))return le(`Unexpected index branch kind ${o.kind}.`);const{pattern:c}=o.inner;if(c){const l=Object.assign(a,{pattern:c[0].rule});for(let u=1;u<c.length;u++)a=r.fallback.patternIntersection({code:"patternIntersection",base:l,pattern:c[u].rule});t.patternProperties??(t.patternProperties={}),t.patternProperties[l.pattern]=s}}}return this.undeclared&&!t.additionalProperties&&(t.additionalProperties=!1),t}}const li={},ug=e=>{var t,r;let n="";for(let i=0;i<e.defaultable.length;i++)n+=e.defaultable[i].defaultValueMorphRef;if((t=e.sequence)!=null&&t.defaultValueMorphsReference&&(n+=(r=e.sequence)==null?void 0:r.defaultValueMorphsReference),e.undeclared==="delete"){if(n+="delete !(",e.required)for(const i of e.required)n+=i.compiledKey+" | ";if(e.optional)for(const i of e.optional)n+=i.compiledKey+" | ";if(e.index)for(const i of e.index)n+=i.signature.id+" | ";if(e.sequence)if(e.sequence.maxLength===null)n+=D.nonNegativeIntegerString.id;else for(let i=0;i<e.sequence.tuple.length;i++)n+=i+" | ";n+=")"}return n},dg=e=>{const n=ug(e);if(!n)return;if(li[n])return li[n];const t=(r,i)=>{var s;for(let o=0;o<e.defaultable.length;o++)e.defaultable[o].key in r||e.defaultable[o].defaultValueMorph(r,i);if((s=e.sequence)!=null&&s.defaultables)for(let o=r.length-e.sequence.prefixLength;o<e.sequence.defaultables.length;o++)e.sequence.defaultValueMorphs[o](r,i);if(e.undeclared==="delete")for(const o in r)e.declaresKey(o)||delete r[o];return r};return li[n]=t},fg=(e,n)=>{var i;const r=`(data${n.defaultable.some(s=>s.defaultValueMorph.length===2)||((i=n.sequence)==null?void 0:i.defaultValueMorphs.some(s=>s.length===2))?", ctx":""})`;return e.block(`${r} => `,s=>{var o;for(let a=0;a<n.defaultable.length;a++){const{serializedKey:c,defaultValueMorphRef:l}=n.defaultable[a];s.if(`!(${c} in data)`,u=>u.line(`${l}${r}`))}return(o=n.sequence)!=null&&o.defaultables&&s.for(`i < ${n.sequence.defaultables.length}`,a=>a.set("data[i]",5),`data.length - ${n.sequence.prefixLength}`),n.undeclared==="delete"&&s.forIn("data",a=>a.if(`!(${n._compileDeclaresKey(a)})`,c=>c.line("delete data[k]"))),s.return("data")})},rl={implementation:cg,Node:lg},hg=e=>(L(e,"root")&&e.hasKind("unit")&&(e=e.unit),typeof e=="number"&&(e=`${e}`),e),pg=(e,n)=>`${e} is not allowed as an array index on ${n}. Use the 'nonNegativeIntegerString' keyword instead.`,ji=(e,n,t)=>{const[r,i]=hh(e.branches,o=>o.hasKind("unit"));if(!r.length)return{index:t.node("index",{signature:e,value:n})};const s={};for(const o of r){const a=t.node("required",{key:o.unit,value:n});s[a.kind]=H(s[a.kind],a)}return i.length&&(s.index=t.node("index",{signature:i,value:n})),s},mg=e=>L(e,"root")?e.expression:V(e),Co=(e,n)=>`Key${n.length===1?"":"s"} ${n.map(mg).join(", ")} ${n.length===1?"does":"do"} not exist on ${e}`,Ur={...sm,alias:xs.implementation,domain:ks.implementation,unit:Zc.implementation,proto:Or.implementation,union:Yc.implementation,morph:Gc.implementation,intersection:Hc.implementation,divisor:Rc.implementation,pattern:jc.implementation,predicate:Pc.implementation,required:Qc.implementation,optional:ws.implementation,index:Xc.implementation,sequence:el.implementation,structure:rl.implementation};k.defaultConfig=_h(Object.assign(W(Ur,(e,n)=>[e,n.defaults]),{jitless:Lh(),clone:Nh,onUndeclaredKey:"ignore",exactOptionalPropertyTypes:!0,numberAllowsNaN:!1,dateAllowsInvalid:!1,onFail:null,keywords:{},toJsonSchema:ue.defaultConfig}));k.resolvedConfig=Di(k.defaultConfig,k.config);const gg={...om,alias:xs.Node,domain:ks.Node,unit:Zc.Node,proto:Or.Node,union:Yc.Node,morph:Gc.Node,intersection:Hc.Node,divisor:Rc.Node,pattern:jc.Node,predicate:Pc.Node,required:Qc.Node,optional:ws.Node,index:Xc.Node,sequence:el.Node,structure:rl.Node};class qi extends wh{get[st](){return"module"}}const il=(e,n)=>new qi(W(e,(t,r)=>[t,L(r,"module")?il(r,n):n.bindReference(r)])),yg=e=>be(e)?e:"branches"in e&&be(e.branches)?e.branches:void 0,bg=(e,n)=>$(`Node of kind ${n} is not valid as a ${e} definition`),Po=e=>`#${e} duplicates public alias ${e}`,ui={};k.ambient??(k.ambient={});let Ro;const sl="function $",vg=e=>ol(e,al(e)),ol=(e,n)=>{const t=n.write(sl,4),r=n.compile()();for(const i of e)i.precompilation||(i.traverseAllows=r[`${i.id}Allows`].bind(r),i.isRoot()&&!i.allowsRequiresContext&&(i.allows=i.traverseAllows),i.traverseApply=r[`${i.id}Apply`].bind(r),r[`${i.id}Optimistic`]&&(i.traverseOptimistic=r[`${i.id}Optimistic`].bind(r)),i.precompilation=t)},al=e=>new gc().return(e.reduce((n,t)=>{const r=new si({kind:"Allows"}).indent();t.compile(r);const i=r.write(`${t.id}Allows`),s=new si({kind:"Apply"}).indent();t.compile(s);const o=s.write(`${t.id}Apply`),a=`${n}${i},
${o},
`;if(!t.hasKind("union"))return a;const c=new si({kind:"Allows",optimistic:!0}).indent();t.compile(c);const l=c.write(`${t.id}Optimistic`);return`${a}${l},
`},`{
`)+"}");class cl{constructor(n,t){f(this,"config");f(this,"resolvedConfig");f(this,"name");f(this,"referencesById",{});f(this,"references",[]);f(this,"resolutions",{});f(this,"exportedNames",[]);f(this,"aliases",{});f(this,"resolved",!1);f(this,"nodesByHash",{});f(this,"intrinsic");f(this,"_json");f(this,"generic",(...n)=>{const t=this;return(r,i)=>new Ir(n,i?new Cc(r):r,t,t,i??null)});f(this,"units",(n,t)=>{const r=[];for(const s of n)r.includes(s)||r.push(s);const i=r.map(s=>this.node("unit",{unit:s},t));return this.node("union",i,{...t,prereduced:!0})});f(this,"lazyResolutions",[]);f(this,"schema",(n,t)=>this.finalize(this.parseSchema(n,t)));f(this,"parseSchema",(n,t)=>this.node(or(n),n,t));f(this,"precompilation");f(this,"_exportedResolutions");f(this,"_exports");f(this,"node",(n,t,r={})=>{const i=this.preparseNode(n,t,r);if($e(i))return this.bindReference(i);const s=this.createParseContext(i),o=zc(s),a=this.bindReference(o);return Fe[s.id]=a});f(this,"parse",(n,t={})=>this.finalize(this.parseDefinition(n,t)));this.config=Di(k.config,t),this.resolvedConfig=Di(k.resolvedConfig,t),this.name=this.resolvedConfig.name??`anonymousScope${Object.keys(ui).length}`,this.name in ui&&$(`A Scope already named ${this.name} already exists`),ui[this.name]=this;const r=Object.entries(n).map(i=>this.preparseOwnAliasEntry(...i));for(const[i,s]of r){let o=i;if(i[0]==="#"?(o=i.slice(1),o in this.aliases&&$(Po(o)),this.aliases[o]=s):(o in this.aliases&&$(Po(i)),this.aliases[o]=s,this.exportedNames.push(o)),!L(s,"module")&&!L(s,"generic")&&!Fr(s)){const a=this.preparseOwnDefinitionFormat(s,{alias:o});this.resolutions[o]=L(a,"root")?this.bindReference(a):this.createParseContext(a).id}}Ro??(Ro=this.node("union",{branches:["string","number","object","bigint","symbol",{unit:!0},{unit:!1},{unit:void 0},{unit:null}]},{prereduced:!0})),this.nodesByHash[Ro.hash]=this.node("intersection",{},{prereduced:!0}),this.intrinsic=k.intrinsic?W(k.intrinsic,(i,s)=>i.startsWith("json")?[]:[i,this.bindReference(s)]):{}}get[st](){return"scope"}cacheGetter(n,t){return Object.defineProperty(this,n,{value:t}),t}get internal(){return this}get json(){return this._json||this.export(),this._json}defineSchema(n){return n}lazilyResolve(n,t){const r=this.node("alias",{reference:t??"synthetic",resolve:n},{prereduced:!0});return this.resolved||this.lazyResolutions.push(r),r}preparseNode(n,t,r){var a;let i=typeof n=="string"?n:or(t,n);if($e(t)&&t.kind===i)return t;if(i==="alias"&&!(r!=null&&r.prereduced)){const{reference:c}=xs.implementation.normalize(t,this);if(c.startsWith("$")){const l=this.resolveRoot(c.slice(1));t=l,i=l.kind}}else if(i==="union"&&Ot(t,"object")){const c=yg(t);(c==null?void 0:c.length)===1&&(t=c[0],i=or(t))}if($e(t)&&t.kind===i)return t;const s=Ur[i],o=((a=s.normalize)==null?void 0:a.call(s,t,this))??t;return $e(o)?o.kind===i?o:bg(i,o.kind):{...r,$:this,kind:i,def:o,prefix:r.alias??i}}bindReference(n){let t;return $e(n)?t=n.$===this?n:new n.constructor(n.attachments,this):t=n.$===this?n:new Ir(n.params,n.bodyDef,n.$,this,n.hkt),this.resolved||Object.assign(this.referencesById,t.referencesById),t}resolveRoot(n){return this.maybeResolveRoot(n)??$(fl(n))}maybeResolveRoot(n){const t=this.maybeResolve(n);if(!L(t,"generic"))return t}maybeResolveSubalias(n){return zi(this.aliases,n)??zi(this.ambient,n)}get ambient(){return k.ambient}maybeResolve(n){var i;const t=this.resolutions[n];if(t){if(typeof t!="string")return this.bindReference(t);const s=Fe[t];if(L(s,"root"))return this.resolutions[n]=s;if(L(s,"context")){if(s.phase==="resolving")return this.node("alias",{reference:`$${n}`},{prereduced:!0});if(s.phase==="resolved")return le(`Unexpected resolved context for was uncached by its scope: ${V(s)}`);s.phase="resolving";const o=this.bindReference(this.parseOwnDefinitionFormat(s.def,s));return s.phase="resolved",Fe[o.id]=o,Fe[s.id]=o,this.resolutions[n]=o}return le(`Unexpected nodesById entry for ${t}: ${V(s)}`)}let r=this.aliases[n]??((i=this.ambient)==null?void 0:i[n]);return r?(r=this.normalizeRootScopeValue(r),L(r,"generic")?this.resolutions[n]=this.bindReference(r):L(r,"module")?(r.root||$(hl(n)),this.resolutions[n]=this.bindReference(r.root)):this.resolutions[n]=this.parse(r,{alias:n})):this.maybeResolveSubalias(n)}createParseContext(n){const t=n.id??qc(n.prefix);return Fe[t]=Object.assign(n,{[st]:"context",$:this,id:t,phase:"unresolved"})}traversal(n){return new Bt(n,this.resolvedConfig)}import(...n){return new qi(W(this.export(...n),(t,r)=>[`#${t}`,r]))}export(...n){if(!this._exports){this._exports={};for(const r of this.exportedNames){const i=this.aliases[r];this._exports[r]=L(i,"module")?il(i,this):Io(this.maybeResolve(r))}for(const r of this.lazyResolutions)r.resolution;if(this._exportedResolutions=dl(this,this._exports),this._json=ul(this._exportedResolutions),Object.assign(this.resolutions,this._exportedResolutions),this.references=Object.values(this.referencesById),!this.resolvedConfig.jitless){const r=al(this.references);this.precompilation=r.write(sl,4),ol(this.references,r)}this.resolved=!0}const t=n.length?n:this.exportedNames;return new qi(W(t,(r,i)=>[i,this._exports[i]]))}resolve(n){return this.export()[n]}parseDefinition(n,t={}){if(L(n,"root"))return this.bindReference(n);const r=this.preparseOwnDefinitionFormat(n,t);if(L(r,"root"))return this.bindReference(r);const i=this.createParseContext(r);Fe[i.id]=i;let s=this.bindReference(this.parseOwnDefinitionFormat(n,i));return s.isCyclic&&(s=dm(s,i.id)),Fe[i.id]=s,s}finalize(n){return Io(n),!n.precompilation&&!this.resolvedConfig.jitless&&vg(n.references),n}}class ll extends cl{parseOwnDefinitionFormat(n,t){return zc(t)}preparseOwnDefinitionFormat(n,t){return this.preparseNode(or(n),n,t)}preparseOwnAliasEntry(n,t){return[n,t]}normalizeRootScopeValue(n){return n}}const Io=e=>{const n=e.references.filter(t=>t.hasKind("alias"));for(const t of n){Object.assign(t.referencesById,t.resolution.referencesById);for(const r of e.references)t.id in r.referencesById&&Object.assign(r.referencesById,t.referencesById)}return e},ul=e=>W(e,(n,t)=>[n,L(t,"root")||L(t,"generic")?t.json:L(t,"module")?ul(t):le(`Unexpected resolution ${V(t)}`)]),zi=(e,n)=>{const t=n.indexOf(".");if(t===-1)return;const r=n.slice(0,t),i=e[r];if(i===void 0)return;if(!L(i,"module"))return $(wg(r));const s=n.slice(t+1),o=i[s];if(o===void 0)return zi(i,s);if(L(o,"root")||L(o,"generic"))return o;if(L(o,"module"))return o.root??$(hl(n));le(`Unexpected resolution for alias '${n}': ${V(o)}`)},_s=(e,n)=>new ll(e,n),zn=new ll({}),dl=(e,n)=>{const t={};for(const r in n){const i=n[r];if(L(i,"module")){const s=dl(e,i),o=W(s,(a,c)=>[`${r}.${a}`,c]);Object.assign(t,o)}else L(i,"root")||L(i,"generic")?t[r]=i:le(`Unexpected scope resolution ${V(i)}`)}return t},fl=e=>`'${e}' is unresolvable`,wg=e=>`'${e}' must reference a module to be accessed using dot syntax`,hl=e=>`Reference to submodule '${e}' must specify an alias`;zn.export();const Z=zn.schema,As=zn.node;zn.defineSchema;const lt=zn.generic,pl="^(?:0|[1-9]\\d*)$",$g=new RegExp(pl);Se($g);const ml=_s({bigint:"bigint",boolean:[{unit:!1},{unit:!0}],false:{unit:!1},never:[],null:{unit:null},number:"number",object:"object",string:"string",symbol:"symbol",true:{unit:!0},unknown:{},undefined:{unit:void 0},Array,Date},{prereducedAliases:!0}).export();k.intrinsic={...ml};const gl=_s({integer:{domain:"number",divisor:1},lengthBoundable:["string",Array],key:["string","symbol"],nonNegativeIntegerString:{domain:"string",pattern:pl}},{prereducedAliases:!0}).export();Object.assign(k.intrinsic,gl);const xg=_s({jsonPrimitive:["string","number",{unit:!0},{unit:!1},{unit:null}],jsonObject:{domain:"object",index:{signature:"string",value:"$jsonData"}},jsonData:["$jsonPrimitive","$jsonObject"]},{prereducedAliases:!0}).export(),D={...ml,...gl,...xg,emptyStructure:As("structure",{},{prereduced:!0})};k.intrinsic={...D};const Sg=e=>typeof e=="string"&&e[0]==="d"&&(e[1]==="'"||e[1]==='"')&&e.at(-1)===e[1],Oo=e=>e.toString()!=="Invalid Date",kg=e=>e.slice(2,-1),yl=e=>`'${e}' could not be parsed by the Date constructor`,_g=(e,n)=>Ag(e,n),Ag=(e,n)=>{const t=new Date(e);if(Oo(t))return t;const r=Xh(e);if(r!==void 0){const i=new Date(r);if(Oo(i))return i}return n?$(n===!0?yl(e):n):void 0},No=(e,n)=>{const t=e.scanner.shiftUntil(Pg[vl[n]]);if(e.scanner.lookahead==="")return e.error(Ig(t,n));if(e.scanner.shift(),n==="/"){try{new RegExp(t)}catch(r){$(String(r))}e.root=e.ctx.$.node("intersection",{domain:"string",pattern:t},{prereduced:!0})}else if(Ze(n,bl))e.root=e.ctx.$.node("unit",{unit:t});else{const r=_g(t,yl(t));e.root=e.ctx.$.node("unit",{meta:t,unit:r})}},bl={"'":1,'"':1},Cg={"/":1,"'":1,'"':1},vl={"d'":"'",'d"':'"',"'":"'",'"':'"',"/":"/"},Pg={"'":e=>e.lookahead==="'",'"':e=>e.lookahead==='"',"/":e=>e.lookahead==="/"},Rg={'"':"double-quote","'":"single-quote","/":"forward slash"},Ig=(e,n)=>`${n}${e} requires a closing ${Rg[vl[n]]}`,Og=e=>`Private type references should not include '#'. Use '${e}' instead.`,wl="Optional definitions like 'string?' are only valid as properties in an object or tuple",$l="Defaultable definitions like 'number = 0' are only valid as properties in an object or tuple",Ng={">":!0,">=":!0},Mg={"<":!0,"<=":!0},Nr={"<":">",">":"<","<=":">=",">=":"<=","==":"=="},Eg=e=>`Unmatched )${e===""?"":` before ${e}`}`,xl=e=>`Missing ${e}`,Lg=(e,n)=>`Left bounds are only valid when paired with right bounds (try ...${n}${e})`,Sl=e=>`Left-bounded expressions must specify their limits using < or <= (was ${e})`,Dg=(e,n,t,r)=>`An expression may have at most one left bound (parsed ${e}${Nr[n]}, ${t}${Nr[r]})`,Tg=(e,n,t)=>kl(e,n,t,[]),kl=(e,n,t,r)=>{const i=t.parseUntilFinalizer();return r.push(i.root),i.finalizer===">"?r.length!==n.params.length?t.error(_l(e,n.names,r.map(s=>s.expression))):r:i.finalizer===","?kl(e,n,t,r):i.error(xl(">"))},_l=(e,n,t)=>`${e}<${n.join(", ")}> requires exactly ${n.length} args (got ${t.length}${t.length===0?"":`: ${t.join(", ")}`})`,Mo=e=>{const n=e.scanner.shiftUntilNextTerminator();n==="keyof"?e.addPrefix("keyof"):e.root=Bg(e,n)},Fg=(e,n,t)=>{if(t.scanner.shiftUntilNonWhitespace(),t.scanner.shift()!=="<")return t.error(_l(e,n.names,[]));const i=Tg(e,n,t);return n(...i)},Bg=(e,n)=>Kg(e,n)??jg(e,n)??e.error(n===""?e.scanner.lookahead==="#"?Og(e.shiftedByOne().scanner.shiftUntilNextTerminator()):Al(e):fl(n)),Kg=(e,n)=>{var r;if((r=e.ctx.args)!=null&&r[n]){const i=e.ctx.args[n];return typeof i!="string"?i:e.ctx.$.node("alias",{reference:i},{prereduced:!0})}const t=e.ctx.$.maybeResolve(n);if(L(t,"root"))return t;if(t!==void 0)return L(t,"generic")?Fg(n,t,e):$(`Unexpected resolution ${V(t)}`)},jg=(e,n)=>{const t=Qh(n);if(t!==void 0)return e.ctx.$.node("unit",{unit:t});const r=tp(n);if(r!==void 0)return e.ctx.$.node("unit",{unit:r})},Al=e=>{const n=e.previousOperator();return n?Cl(n,e.scanner.unscanned):qg(e.scanner.unscanned)},Cl=(e,n="")=>`Token '${e}' requires a right operand${n?` before '${n}'`:""}`,qg=e=>`Expected an expression${e?` before '${e}'`:""}`,Pl=e=>e.scanner.lookahead===""?e.error(Al(e)):e.scanner.lookahead==="("?e.shiftedByOne().reduceGroupOpen():e.scanner.lookaheadIsIn(Cg)?No(e,e.scanner.shift()):e.scanner.lookaheadIsIn(Br)?Pl(e.shiftedByOne()):e.scanner.lookahead==="d"&&e.scanner.nextLookahead in bl?No(e,`${e.scanner.shift()}${e.scanner.shift()}`):Mo(e),wt=class wt extends lp{shiftUntilNextTerminator(){return this.shiftUntilNonWhitespace(),this.shiftUntil(()=>this.lookahead in wt.terminatingChars)}};f(wt,"terminatingChars",{"<":1,">":1,"=":1,"|":1,"&":1,")":1,"[":1,"%":1,",":1,":":1,"?":1,"#":1,...Br}),f(wt,"finalizingLookaheads",{">":1,",":1,"":1,"=":1,"?":1}),f(wt,"lookaheadIsFinalizing",(n,t)=>n===">"?t[0]==="="?t[1]==="=":t.trimStart()===""||Ze(t.trimStart()[0],wt.terminatingChars):n==="="?t[0]!=="=":n===","||n==="?");let Rn=wt;const zg=(e,n)=>{const t=Vg(e,n);if(e.root.hasKind("unit")){if(typeof e.root.unit=="number"){e.reduceLeftBound(e.root.unit,t),e.unsetRoot();return}if(e.root.unit instanceof Date){const r=`d'${e.root.description??e.root.unit.toISOString()}'`;e.unsetRoot(),e.reduceLeftBound(r,t);return}}return Hg(e,t)},Ug={"<":1,">":1,"=":1},Vg=(e,n)=>e.scanner.lookaheadIs("=")?`${n}${e.scanner.shift()}`:n,Eo=(e,n,t,r)=>t.extends(k.intrinsic.number)?typeof n!="number"?$(Ui(e,n,r)):e==="=="?["min","max"]:e[0]===">"?["min"]:["max"]:t.extends(k.intrinsic.lengthBoundable)?typeof n!="number"?$(Ui(e,n,r)):e==="=="?["exactLength"]:e[0]===">"?["minLength"]:["maxLength"]:t.extends(k.intrinsic.Date)?e==="=="?["after","before"]:e[0]===">"?["after"]:["before"]:$(Up(t.expression)),Jg=e=>({rule:Sg(e.limit)?kg(e.limit):e.limit,exclusive:e.comparator.length===1}),Hg=(e,n)=>{const t=e.unsetRoot(),r=e.scanner.location;e.parseOperand();const i=e.unsetRoot(),s=e.scanner.sliceChars(r,e.scanner.location);if(e.root=t,!i.hasKind("unit")||typeof i.unit!="number"&&!(i.unit instanceof Date))return e.error(Ui(n,s,"right"));const o=i.unit,a=n.length===1,c=Eo(n,typeof o=="number"?o:s,t,"right");for(const u of c)e.constrainRoot(u,n==="=="?{rule:o}:{rule:o,exclusive:a});if(!e.branches.leftBound)return;if(!Ze(n,Mg))return e.error(Sl(n));const l=Eo(e.branches.leftBound.comparator,e.branches.leftBound.limit,t,"left");e.constrainRoot(l[0],Jg(e.branches.leftBound)),e.branches.leftBound=null},Ui=(e,n,t)=>`Comparator ${t==="left"?Nr[e]:e} must be ${t==="left"?"preceded":"followed"} by a corresponding literal (was ${n})`,Gg=e=>{e.scanner.shiftUntilNonWhitespace();const n=e.scanner.shiftUntilNextTerminator();e.root=e.root.brand(n)},Wg=e=>{const n=e.scanner.shiftUntilNextTerminator(),t=ep(n,{errorOnFail:Lo(n)});t===0&&e.error(Lo(0)),e.root=e.root.constrain("divisor",t)},Lo=e=>`% operator must be followed by a non-zero integer literal (was ${e})`,Rl=e=>{const n=e.scanner.shift();return n===""?e.finalize(""):n==="["?e.scanner.shift()==="]"?e.setRoot(e.root.array()):e.error(Yg):n==="|"?e.scanner.lookahead===">"?e.shiftedByOne().pushRootToBranch("|>"):e.pushRootToBranch(n):n==="&"?e.pushRootToBranch(n):n===")"?e.finalizeGroup():Rn.lookaheadIsFinalizing(n,e.scanner.unscanned)?e.finalize(n):Ze(n,Ug)?zg(e,n):n==="%"?Wg(e):n==="#"?Gg(e):n in Br?Rl(e):e.error(Cs(n))},Cs=(e,n="")=>`'${e}' is not allowed here${n&&` (should be ${n})`}`,Yg="Missing expected ']'",Zg=e=>{const n=e.unsetRoot();e.parseOperand();const t=e.unsetRoot();if(!t.hasKind("unit"))return e.error(Xg(t.expression));const r=t.unit instanceof Date?()=>new Date(t.unit):t.unit;return[n,"=",r]},Xg=e=>`Default value '${e}' must a literal value`,Do=(e,n)=>{const t=n.$.maybeResolveRoot(e);if(t)return t;if(e.endsWith("[]")){const s=n.$.maybeResolveRoot(e.slice(0,-2));if(s)return s.array()}const r=new Vr(new Rn(e),n),i=Qg(r);return r.finalizer===">"&&$(Cs(">")),i},Qg=e=>{e.parseOperand();let n=Ps(e).root;return n?(e.finalizer==="="?n=Zg(e):e.finalizer==="?"&&(n=[n,"?"]),e.scanner.shiftUntilNonWhitespace(),e.scanner.lookahead&&$(Cs(e.scanner.lookahead)),n):le(`Root was unexpectedly unset after parsing string '${e.scanner.scanned}'`)},Ps=e=>{for(;e.finalizer===void 0;)ey(e);return e},ey=e=>e.hasRoot()?e.parseOperator():e.parseOperand();class Vr{constructor(n,t){f(this,"root");f(this,"branches",{prefixes:[],leftBound:null,intersection:null,union:null,pipe:null});f(this,"finalizer");f(this,"groups",[]);f(this,"scanner");f(this,"ctx");this.scanner=n,this.ctx=t}error(n){return $(n)}hasRoot(){return this.root!==void 0}setRoot(n){this.root=n}unsetRoot(){const n=this.root;return this.root=void 0,n}constrainRoot(...n){this.root=this.root.constrain(n[0],n[1])}finalize(n){if(this.groups.length)return this.error(xl(")"));this.finalizeBranches(),this.finalizer=n}reduceLeftBound(n,t){const r=Nr[t];if(!Ze(r,Ng))return this.error(Sl(t));if(this.branches.leftBound)return this.error(Dg(this.branches.leftBound.limit,this.branches.leftBound.comparator,n,r));this.branches.leftBound={comparator:r,limit:n}}finalizeBranches(){if(this.assertRangeUnset(),this.branches.pipe){this.pushRootToBranch("|>"),this.root=this.branches.pipe;return}if(this.branches.union){this.pushRootToBranch("|"),this.root=this.branches.union;return}if(this.branches.intersection){this.pushRootToBranch("&"),this.root=this.branches.intersection;return}this.applyPrefixes()}finalizeGroup(){this.finalizeBranches();const n=this.groups.pop();if(!n)return this.error(Eg(this.scanner.unscanned));this.branches=n}addPrefix(n){this.branches.prefixes.push(n)}applyPrefixes(){for(;this.branches.prefixes.length;){const n=this.branches.prefixes.pop();this.root=n==="keyof"?this.root.keyof():le(`Unexpected prefix '${n}'`)}}pushRootToBranch(n){var r,i,s;this.assertRangeUnset(),this.applyPrefixes();const t=this.root;this.root=void 0,this.branches.intersection=((r=this.branches.intersection)==null?void 0:r.rawAnd(t))??t,n!=="&"&&(this.branches.union=((i=this.branches.union)==null?void 0:i.rawOr(this.branches.intersection))??this.branches.intersection,this.branches.intersection=null,n!=="|"&&(this.branches.pipe=((s=this.branches.pipe)==null?void 0:s.rawPipeOnce(this.branches.union))??this.branches.union,this.branches.union=null))}parseUntilFinalizer(){return Ps(new Vr(this.scanner,this.ctx))}parseOperator(){return Rl(this)}parseOperand(){return Pl(this)}assertRangeUnset(){if(this.branches.leftBound)return this.error(Lg(this.branches.leftBound.limit,this.branches.leftBound.comparator))}reduceGroupOpen(){this.groups.push(this.branches),this.branches={prefixes:[],leftBound:null,union:null,intersection:null,pipe:null}}previousOperator(){var n;return((n=this.branches.leftBound)==null?void 0:n.comparator)??this.branches.prefixes.at(-1)??(this.branches.intersection?"&":this.branches.union?"|":this.branches.pipe?"|>":void 0)}shiftedByOne(){return this.scanner.shift(),this}}const ty="An empty string is not a valid generic parameter name",Vi=(e,n,t)=>{e.shiftUntilNonWhitespace();const r=e.shiftUntilNextTerminator();return r===""?e.lookahead===""&&n.length?n:$(ty):(e.shiftUntilNonWhitespace(),ny(e,r,n,t))},To="extends ",ny=(e,n,t,r)=>{if(e.shiftUntilNonWhitespace(),e.unscanned.startsWith(To))e.jumpForward(To.length);else return e.lookahead===","&&e.shift(),t.push(n),Vi(e,t,r);const i=Ps(new Vr(e,r));return t.push([n,i.root]),Vi(e,t,r)};class ry extends ln{constructor(t){super((...r)=>new tr(t)(...r),{bind:t});f(this,"$");this.$=t}in(t){return new tr(this.$,t===void 0?void 0:this.$.parse(t))}at(t,r){return new tr(this.$).at(t,r)}case(t,r){return new tr(this.$).case(t,r)}}class tr extends ln{constructor(t,r){super(i=>this.caseEntries(Object.entries(i).map(([s,o])=>s==="default"?[s,o]:[this.$.parse(s),o])));f(this,"$");f(this,"in");f(this,"key");f(this,"branches",[]);this.$=t,this.in=r}at(t,r){return this.key&&$(sy),this.branches.length&&$(iy),this.key=t,r?this.match(r):this}case(t,r){return this.caseEntry(this.$.parse(t),r)}caseEntry(t,r){const s=(this.key?this.$.parse({[this.key]:t}):t).pipe(r);return this.branches.push(s),this}match(t){return this(t)}strings(t){return this.caseEntries(Object.entries(t).map(([r,i])=>r==="default"?[r,i]:[this.$.node("unit",{unit:r}),i]))}caseEntries(t){for(let r=0;r<t.length;r++){const[i,s]=t[r];if(i==="default")return r!==t.length-1&&$("default may only be specified as the last key of a switch definition"),this.default(s);if(typeof s!="function")return $(`Value for case "${i}" must be a function (was ${He(s)})`);this.caseEntry(i,s)}return this}default(t){typeof t=="function"&&this.case(D.unknown,t);const r={branches:this.branches,ordered:!0};(t==="never"||t==="assert")&&(r.meta={onFail:Fo});const i=this.$.node("union",r);if(!this.in)return this.$.finalize(i);let s=this.in.pipe(i);return(t==="never"||t==="assert")&&(s=s.configureReferences({onFail:Fo},"self")),this.$.finalize(s)}}const Fo=e=>e.throw(),iy="A key matcher must be specified before the first case i.e. match.at('foo') or match.in<object>().at('bar')",sy="At most one key matcher may be specified per expression",Il=(e,n)=>{if(be(e)){if(e[1]==="=")return[n.$.parseOwnDefinitionFormat(e[0],n),"=",e[2]];if(e[1]==="?")return[n.$.parseOwnDefinitionFormat(e[0],n),"?"]}return Tl(e,n)},oy="Only required keys may make their values optional, e.g. { [mySymbol]: ['number', '?'] }",ay="Only required keys may specify default values, e.g. { value: 'number = 0' }",cy=(e,n)=>{var o;let t;const r={},i=kr(e);for(const[a,c]of i){const l=dy(a);if(l.kind==="spread"){if(!Dn(r))return $(uy);const m=n.$.parseOwnDefinitionFormat(c,n);if(m.equals(D.object))continue;if(!m.hasKind("intersection")||!((o=m.basis)!=null&&o.equals(D.object)))return $(fy(m.expression));t=m.structure;continue}if(l.kind==="undeclared"){c!=="reject"&&c!=="delete"&&c!=="ignore"&&$(ly(c)),r.undeclared=c;continue}const u=Il(c,n),d=l;if(l.kind==="required"){be(u)?di(r,"optional",u[1]==="="?{key:l.normalized,value:u[0],default:u[2]}:{key:l.normalized,value:u[0]},n):di(r,"required",{key:l.normalized,value:u},n);continue}if(be(u)&&(u[1]==="?"&&$(oy),u[1]==="="&&$(ay)),l.kind==="optional"){di(r,"optional",{key:l.normalized,value:u},n);continue}const h=n.$.parseOwnDefinitionFormat(d.normalized,n),p=ji(h,u,n.$);p.index&&(r.index=H(r.index,p.index)),p.required&&(r.required=H(r.required,p.required))}const s=n.$.node("structure",r);return n.$.parseSchema({domain:"object",structure:(t==null?void 0:t.merge(s))??s})},di=(e,n,t,r)=>{e[n]=H(e[n],r.$.node(n,t))},ly=e=>`Value of '+' key must be 'reject', 'delete', or 'ignore' (was ${V(e)})`,uy="Spread operator may only be used as the first key in an object",dy=e=>typeof e=="symbol"?{kind:"required",normalized:e}:e.at(-1)==="?"?e.at(-2)===Oi?{kind:"required",normalized:`${e.slice(0,-2)}?`}:{kind:"optional",normalized:e.slice(0,-1)}:e[0]==="["&&e.at(-1)==="]"?{kind:"index",normalized:e.slice(1,-1)}:e[0]===Oi&&e[1]==="["&&e.at(-1)==="]"?{kind:"required",normalized:e.slice(1)}:e==="..."?{kind:"spread"}:e==="+"?{kind:"undeclared"}:{kind:"required",normalized:e==="\\..."?"...":e==="\\+"?"+":e},fy=e=>`Spread operand must resolve to an object literal type (was ${e})`,hy=(e,n)=>Sy(e)?El[e[0]](e,n):$y(e)?Ml[e[1]](e,n):null,py=(e,n)=>n.$.parseOwnDefinitionFormat(e[1],n).keyof(),fi=(e,n)=>{if(e[2]===void 0)return $(Cl(e[1],""));const t=n.$.parseOwnDefinitionFormat(e[0],n),r=n.$.parseOwnDefinitionFormat(e[2],n);if(e[1]==="|")return n.$.node("union",{branches:[t,r]});const i=e[1]==="&"?at(t,r,n.$):Fi(t,r,n.$);return i instanceof O?i.throw():i},my=(e,n)=>n.$.parseOwnDefinitionFormat(e[0],n).array(),gy=(e,n)=>typeof e[2]!="function"?$(Ol("=>",e[2])):n.$.parseOwnDefinitionFormat(e[0],n).pipe(e[2]),Ol=(e,n)=>`${e===":"?"Narrow":"Morph"} expression requires a function following '${e}' (was ${typeof n})`,yy=(e,n)=>typeof e[2]!="function"?$(Ol(":",e[2])):n.$.parseOwnDefinitionFormat(e[0],n).constrain("predicate",e[2]),by=(e,n)=>n.$.parseOwnDefinitionFormat(e[0],n).configureReferences(e[2],"shallow"),Nl=e=>e,vy=Nl({"[]":my,"?":()=>$(wl)}),wy=Nl({"|":fi,"&":fi,":":yy,"=>":gy,"|>":fi,"@":by,"=":()=>$($l)}),Ml={...vy,...wy},$y=e=>Ml[e[1]]!==void 0,xy=e=>e,El=xy({keyof:py,instanceof:(e,n)=>{if(typeof e[1]!="function")return $(Bo(Ii(e[1])));const t=e.slice(1).map(r=>typeof r=="function"?n.$.node("proto",{proto:r}):$(Bo(Ii(r))));return t.length===1?t[0]:n.$.node("union",{branches:t})},"===":(e,n)=>n.$.units(e.slice(1))}),Sy=e=>El[e[0]]!==void 0,Bo=e=>`Expected a constructor following 'instanceof' operator (was ${e})`,ky=(e,n)=>{let t=[{}],r=0;for(;r<e.length;){let i=!1;e[r]==="..."&&r<e.length-1&&(i=!0,r++);const s=Il(e[r],n),[o,a,c]=be(s)?s:[s];if(r++,i){if(!o.extends(k.intrinsic.Array))return $(Cy(o.expression));t=t.flatMap(l=>o.distribute(u=>Ay(vc(l),u)))}else t=t.map(l=>a==="?"?Ll(l,o):a==="="?_y(l,o,c):Ji(l,o))}return n.$.parseSchema(t.map(i=>Dn(i)?{proto:Array,exactLength:0}:{proto:Array,sequence:i}))},Ji=(e,n)=>e.defaultables||e.optionals?$(e.variadic?tl:Py):(e.variadic?e.postfix=H(e.postfix,n):e.prefix=H(e.prefix,n),e),Ll=(e,n)=>e.variadic?$(Dl):(e.optionals=H(e.optionals,n),e),_y=(e,n,t)=>e.variadic?$(Dl):e.optionals?$(Ry):(e.defaultables=H(e.defaultables,[[n,t]]),e),Ko=(e,n)=>(e.postfix&&$(jo),e.variadic?e.variadic.equals(n)||$(jo):e.variadic=n.internal,e),Ay=(e,n)=>{const t=n.select({method:"find",kind:"sequence"});if(!t)return Ko(e,k.intrinsic.unknown);if(t.prefix)for(const r of t.prefix)Ji(e,r);if(t.optionals)for(const r of t.optionals)Ll(e,r);if(t.variadic&&Ko(e,t.variadic),t.postfix)for(const r of t.postfix)Ji(e,r);return e},Cy=e=>`Spread element must be an array (was ${e})`,jo="A tuple may have at most one variadic element",Py="A required element may not follow an optional element",Dl="An optional element may not follow a variadic element",Ry="A defaultable element may not follow an optional element without a default",hi={},Tl=(e,n)=>{var t;if(typeof e=="string"){if(n.args&&Object.keys(n.args).some(i=>e.includes(i)))return Do(e,n);const r=hi[t=n.$.name]??(hi[t]={});return r[e]??(r[e]=Do(e,n))}return Ot(e,"object")?Iy(e,n):$(Hi(He(e)))},Iy=(e,n)=>{const t=fs(e);switch(t){case void 0:return L(e,"root")?e:cy(e,n);case"Array":return Oy(e,n);case"RegExp":return n.$.node("intersection",{domain:"string",pattern:e},{prereduced:!0});case"Function":{const r=Fr(e)?e():e;return L(r,"root")?r:$(Hi("Function"))}default:return $(Hi(t??V(e)))}},Oy=(e,n)=>hy(e,n)??ky(e,n),Hi=e=>`Type definitions must be strings or objects (was ${e})`;class Ny extends ln{constructor(n){const t=Object.assign({errors:yt,hkt:Xe,$:n,raw:n.parse,module:n.constructor.module,scope:n.constructor.scope,define:n.define,match:n.match,generic:n.generic,schema:n.schema,keywords:n.ambient,unit:n.unit,enumerated:n.enumerated,instanceOf:n.instanceOf,valueOf:n.valueOf,or:n.or,and:n.and,merge:n.merge,pipe:n.pipe},n.ambientAttachments);super((...r)=>{if(r.length===1)return n.parse(r[0]);if(r.length===2&&typeof r[0]=="string"&&r[0][0]==="<"&&r[0].at(-1)===">"){const i=r[0].slice(1,-1),s=n.parseGenericParams(i,{});return new Ir(s,r[1],n,n,null)}return n.parse(r)},{bind:n,attach:t})}}const In=k,Kt=class Kt extends cl{constructor(){super(...arguments);f(this,"unit",t=>this.units([t]));f(this,"valueOf",t=>this.units(Ah(t)));f(this,"enumerated",(...t)=>this.units(t));f(this,"instanceOf",t=>this.node("proto",{proto:t},{prereduced:!0}));f(this,"or",(...t)=>this.schema(t.map(r=>this.parse(r))));f(this,"and",(...t)=>t.reduce((r,i)=>r.and(this.parse(i)),this.intrinsic.unknown));f(this,"merge",(...t)=>t.reduce((r,i)=>r.merge(this.parse(i)),this.intrinsic.object));f(this,"pipe",(...t)=>this.intrinsic.unknown.pipe(...t));f(this,"match",new ry(this));f(this,"declare",()=>({type:this.type}));f(this,"type",new Ny(this))}get ambientAttachments(){if(In.typeAttachments)return this.cacheGetter("ambientAttachments",W(In.typeAttachments,(t,r)=>[t,this.bindReference(r)]))}preparseOwnAliasEntry(t,r){var a;const i=t.indexOf("<");if(i===-1){if(L(r,"module")||L(r,"generic"))return[t,r];const c=this.name==="ark"?t:t==="root"?this.name:`${this.name}.${t}`,l=(a=this.resolvedConfig.keywords)==null?void 0:a[c];return l&&(r=[r,"@",l]),[t,r]}t.at(-1)!==">"&&$("'>' must be the last character of a generic declaration in a scope");const s=t.slice(0,i),o=t.slice(i+1,-1);return[s,()=>{const c=this.parseGenericParams(o,{alias:s});return Ip(c,r,this)}]}parseGenericParams(t,r){return Vi(new Rn(t),[],this.createParseContext({...r,def:t,prefix:"generic"}))}normalizeRootScopeValue(t){return Fr(t)&&!L(t,"generic")?t():t}preparseOwnDefinitionFormat(t,r){return{...r,def:t,prefix:r.alias??"type"}}parseOwnDefinitionFormat(t,r){!(r.alias&&r.alias in this.aliases)&&!r.args&&(r.args={this:r.id});const s=Tl(t,r);if(be(s)){if(s[1]==="=")return $($l);if(s[1]==="?")return $(wl)}return s}define(t){return t}};f(Kt,"scope",(t,r={})=>new Kt(t,r)),f(Kt,"module",(t,r={})=>Kt.scope(t,r).export());let Mr=Kt;const My=Object.assign(Mr.scope,{define:e=>e}),q=Mr;class Ey extends Xe{constructor(){super(...arguments);f(this,"description",'merge an object\'s properties onto another like `Merge(User, { isAdmin: "true" })`')}}const Ly=lt(["base",D.object],["props",D.object])(e=>e.base.merge(e.props),Ey),Dy=q.module({Key:D.key,Merge:Ly});class Ty extends Xe{}const Fy=lt("element")(e=>{const n=e.element.exclude(D.Array),t=n.array();return n.rawOr(t).pipe(Ln).distribute(r=>r.assertHasKind("morph").declareOut(t),Z)},Ty),By=q.module({root:D.Array,readonly:"root",index:D.nonNegativeIntegerString,liftFrom:Fy},{name:"Array"}),Gi=Z(["string",Tn.FileConstructor]),Ky=Gi.rawOr(Gi.array()),qo=Z({meta:"an object representing parsed form data",domain:"object",index:{signature:"string",value:Ky}}),jy=q.module({root:["instanceof",FormData],value:Gi,parsed:qo,parse:Z({in:FormData,morphs:e=>{const n={};for(const[t,r]of e)if(t in n){const i=n[t];typeof i=="string"||i instanceof Tn.FileConstructor?n[t]=[i,r]:i.push(r)}else n[t]=r;return n},declaredOut:qo})},{name:"FormData"}),qy=q.module({Int8:["instanceof",Int8Array],Uint8:["instanceof",Uint8Array],Uint8Clamped:["instanceof",Uint8ClampedArray],Int16:["instanceof",Int16Array],Uint16:["instanceof",Uint16Array],Int32:["instanceof",Int32Array],Uint32:["instanceof",Uint32Array],Float32:["instanceof",Float32Array],Float64:["instanceof",Float64Array],BigInt64:["instanceof",BigInt64Array],BigUint64:["instanceof",BigUint64Array]},{name:"TypedArray"}),zy={Boolean:1,Number:1,String:1},Uy=q.module({...W({...ic,...oc},(e,n)=>e in zy?[]:[e,["instanceof",n]]),Array:By,TypedArray:qy,FormData:jy}),Vy=Z({domain:{domain:"number",meta:"a number representing a Unix timestamp"},divisor:{rule:1,meta:"an integer representing a Unix timestamp"},min:{rule:-864e13,meta:"a Unix timestamp after -8640000000000000"},max:{rule:864e13,meta:"a Unix timestamp before 8640000000000000"},meta:"an integer representing a safe Unix timestamp"}),Jy=Z({domain:"number",divisor:1}),Fl=q.module({root:D.number,integer:Jy,epoch:Vy,safe:Z({domain:{domain:"number",numberAllowsNaN:!1},min:Number.MIN_SAFE_INTEGER,max:Number.MAX_SAFE_INTEGER}),NaN:["===",Number.NaN],Infinity:["===",Number.POSITIVE_INFINITY],NegativeInfinity:["===",Number.NEGATIVE_INFINITY]},{name:"number"}),Q=(e,n,t)=>{const r={domain:"string",pattern:{rule:e.source,flags:e.flags,meta:n}};return t&&(r.meta={format:t}),As("intersection",r)},zo=Q(_r,"a well-formed integer string"),Bl=q.module({root:zo,parse:Z({in:zo,morphs:(e,n)=>{const t=Number.parseInt(e);return Number.isSafeInteger(t)?t:n.error("an integer in the range Number.MIN_SAFE_INTEGER to Number.MAX_SAFE_INTEGER")},declaredOut:D.integer})},{name:"string.integer"}),Hy=Q(/^[\dA-Fa-f]+$/,"hex characters only"),Gy=q.module({root:Q(/^(?:[\d+/A-Za-z]{4})*(?:[\d+/A-Za-z]{2}==|[\d+/A-Za-z]{3}=)?$/,"base64-encoded"),url:Q(/^(?:[\w-]{4})*(?:[\w-]{2}(?:==|%3D%3D)?|[\w-]{3}(?:=|%3D)?)?$/,"base64url-encoded")},{name:"string.base64"}),Uo=Q(/^[A-Z].*$/,"capitalized"),Wy=q.module({root:Z({in:"string",morphs:e=>e.charAt(0).toUpperCase()+e.slice(1),declaredOut:Uo}),preformatted:Uo},{name:"string.capitalize"}),Yy=e=>{const n=e.replaceAll(/[ -]+/g,"");let t=0,r,i,s=!1;for(let o=n.length-1;o>=0;o--)r=n.substring(o,o+1),i=Number.parseInt(r,10),s?(i*=2,t+=i>=10?i%10+1:i):t+=i,s=!s;return!!(t%10===0&&n)},Zy=/^(?:4\d{12}(?:\d{3,6})?|5[1-5]\d{14}|(222[1-9]|22[3-9]\d|2[3-6]\d{2}|27[01]\d|2720)\d{12}|6(?:011|5\d\d)\d{12,15}|3[47]\d{13}|3(?:0[0-5]|[68]\d)\d{11}|(?:2131|1800|35\d{3})\d{11}|6[27]\d{14}|^(81\d{14,17}))$/,Xy=Z({domain:"string",pattern:{meta:"a credit card number",rule:Zy.source},predicate:{meta:"a credit card number",predicate:Yy}}),Qy=/^([+-]?\d{4}(?!\d{2}\b))((-?)((0[1-9]|1[0-2])(\3([12]\d|0[1-9]|3[01]))?|W([0-4]\d|5[0-3])(-?[1-7])?|(00[1-9]|0[1-9]\d|[12]\d{2}|3([0-5]\d|6[1-6])))(T((([01]\d|2[0-3])((:?)[0-5]\d)?|24:?00)([,.]\d+(?!:))?)?(\17[0-5]\d([,.]\d+)?)?([Zz]|([+-])([01]\d|2[0-3]):?([0-5]\d)?)?)?)?$/,eb=e=>!Number.isNaN(new Date(e).valueOf()),Vo=Z({domain:"string",predicate:{meta:"a parsable date",predicate:eb}}).assertHasKind("intersection"),Jo=Bl.root.internal.narrow((e,n)=>{const t=Number.parseInt(e),r=Fl.epoch(t);return r instanceof yt?(n.errors.merge(r),!1):!0}).configure({description:"an integer string representing a safe Unix timestamp"},"self").assertHasKind("intersection"),tb=q.module({root:Jo,parse:Z({in:Jo,morphs:e=>new Date(e),declaredOut:D.Date})},{name:"string.date.epoch"}),Ho=Q(Qy,"an ISO 8601 (YYYY-MM-DDTHH:mm:ss.sssZ) date").internal.assertHasKind("intersection"),nb=q.module({root:Ho,parse:Z({in:Ho,morphs:e=>new Date(e),declaredOut:D.Date})},{name:"string.date.iso"}),rb=q.module({root:Vo,parse:Z({declaredIn:Vo,in:"string",morphs:(e,n)=>{const t=new Date(e);return Number.isNaN(t.valueOf())?n.error("a parsable date"):t},declaredOut:D.Date}),iso:nb,epoch:tb},{name:"string.date"}),ib=Q(/^[\w%+.-]+@[\d.A-Za-z-]+\.[A-Za-z]{2,}$/,"an email address","email"),Go="(?:[0-9]|[1-9][0-9]|1[0-9][0-9]|2[0-4][0-9]|25[0-5])",ft=`(${Go}[.]){3}${Go}`,sb=new RegExp(`^${ft}$`),ce="(?:[0-9a-fA-F]{1,4})",ob=new RegExp(`^((?:${ce}:){7}(?:${ce}|:)|(?:${ce}:){6}(?:${ft}|:${ce}|:)|(?:${ce}:){5}(?::${ft}|(:${ce}){1,2}|:)|(?:${ce}:){4}(?:(:${ce}){0,1}:${ft}|(:${ce}){1,3}|:)|(?:${ce}:){3}(?:(:${ce}){0,2}:${ft}|(:${ce}){1,4}|:)|(?:${ce}:){2}(?:(:${ce}){0,3}:${ft}|(:${ce}){1,5}|:)|(?:${ce}:){1}(?:(:${ce}){0,4}:${ft}|(:${ce}){1,6}|:)|(?::((?::${ce}){0,5}:${ft}|(?::${ce}){1,7}|:)))(%[0-9a-zA-Z.]{1,})?$`),ab=q.module({root:["v4 | v6","@","an IP address"],v4:Q(sb,"an IPv4 address","ipv4"),v6:Q(ob,"an IPv6 address","ipv6")},{name:"string.ip"}),Wt="a JSON string",Kl=e=>{if(!(e instanceof SyntaxError))throw e;return`must be ${Wt} (${e})`},cb=Z({meta:Wt,domain:"string",predicate:{meta:Wt,predicate:(e,n)=>{try{return JSON.parse(e),!0}catch(t){return n.reject({code:"predicate",expected:Wt,problem:Kl(t)})}}}}),lb=(e,n)=>{if(e.length===0)return n.error({code:"predicate",expected:Wt,actual:"empty"});try{return JSON.parse(e)}catch(t){return n.error({code:"predicate",expected:Wt,problem:Kl(t)})}},ub=q.module({root:cb,parse:Z({meta:"safe JSON string parser",in:"string",morphs:lb,declaredOut:D.jsonObject})},{name:"string.json"}),Wo=Q(/^[a-z]*$/,"only lowercase letters"),db=q.module({root:Z({in:"string",morphs:e=>e.toLowerCase(),declaredOut:Wo}),preformatted:Wo},{name:"string.lower"}),jl=["NFC","NFD","NFKC","NFKD"],Un=W(jl,(e,n)=>[n,Z({domain:"string",predicate:t=>t.normalize(n)===t,meta:`${n}-normalized unicode`})]),Jr=W(jl,(e,n)=>[n,Z({in:"string",morphs:t=>t.normalize(n),declaredOut:Un[n]})]),fb=q.module({root:Jr.NFC,preformatted:Un.NFC},{name:"string.normalize.NFC"}),hb=q.module({root:Jr.NFD,preformatted:Un.NFD},{name:"string.normalize.NFD"}),pb=q.module({root:Jr.NFKC,preformatted:Un.NFKC},{name:"string.normalize.NFKC"}),mb=q.module({root:Jr.NFKD,preformatted:Un.NFKD},{name:"string.normalize.NFKD"}),gb=q.module({root:"NFC",NFC:fb,NFD:hb,NFKC:pb,NFKD:mb},{name:"string.normalize"}),Yo=Q(Ni,"a well-formed numeric string"),yb=q.module({root:Yo,parse:Z({in:Yo,morphs:e=>Number.parseFloat(e),declaredOut:D.number})},{name:"string.numeric"}),Zo="a regex pattern",bb=Z({domain:"string",predicate:{meta:Zo,predicate:(e,n)=>{try{return new RegExp(e),!0}catch(t){return n.reject({code:"predicate",expected:Zo,problem:String(t)})}}},meta:{format:"regex"}}),vb=/^(0|[1-9]\d*)\.(0|[1-9]\d*)\.(0|[1-9]\d*)(?:-((?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*)(?:\.(?:0|[1-9]\d*|\d*[A-Za-z-][\dA-Za-z-]*))*))?(?:\+([\dA-Za-z-]+(?:\.[\dA-Za-z-]+)*))?$/,wb=Q(vb,"a semantic version (see https://semver.org/)"),Xo=Q(/^\S.*\S$|^\S?$/,"trimmed"),$b=q.module({root:Z({in:"string",morphs:e=>e.trim(),declaredOut:Xo}),preformatted:Xo},{name:"string.trim"}),Qo=Q(/^[A-Z]*$/,"only uppercase letters"),xb=q.module({root:Z({in:"string",morphs:e=>e.toUpperCase(),declaredOut:Qo}),preformatted:Qo},{name:"string.upper"}),Sb=e=>{if(URL.canParse)return URL.canParse(e);try{return new URL(e),!0}catch{return!1}},ea=Z({domain:"string",predicate:{meta:"a URL string",predicate:Sb},meta:{format:"uri"}}),kb=q.module({root:ea,parse:Z({declaredIn:ea,in:"string",morphs:(e,n)=>{try{return new URL(e)}catch{return n.error("a URL string")}},declaredOut:Z(URL)})},{name:"string.url"}),_b=q.module({root:["versioned | nil | max","@",{description:"a UUID",format:"uuid"}],"#nil":"'00000000-0000-0000-0000-000000000000'","#max":"'ffffffff-ffff-ffff-ffff-ffffffffffff'","#versioned":/[\da-f]{8}-[\da-f]{4}-[1-8][\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}/i,v1:Q(/^[\da-f]{8}-[\da-f]{4}-1[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv1"),v2:Q(/^[\da-f]{8}-[\da-f]{4}-2[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv2"),v3:Q(/^[\da-f]{8}-[\da-f]{4}-3[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv3"),v4:Q(/^[\da-f]{8}-[\da-f]{4}-4[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv4"),v5:Q(/^[\da-f]{8}-[\da-f]{4}-5[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv5"),v6:Q(/^[\da-f]{8}-[\da-f]{4}-6[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv6"),v7:Q(/^[\da-f]{8}-[\da-f]{4}-7[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv7"),v8:Q(/^[\da-f]{8}-[\da-f]{4}-8[\da-f]{3}-[89ab][\da-f]{3}-[\da-f]{12}$/i,"a UUIDv8")},{name:"string.uuid"}),Ab=q.module({root:D.string,alpha:Q(/^[A-Za-z]*$/,"only letters"),alphanumeric:Q(/^[\dA-Za-z]*$/,"only letters and digits 0-9"),hex:Hy,base64:Gy,capitalize:Wy,creditCard:Xy,date:rb,digits:Q(/^\d*$/,"only digits 0-9"),email:ib,integer:Bl,ip:ab,json:ub,lower:db,normalize:gb,numeric:yb,regex:bb,semver:wb,trim:$b,upper:xb,url:kb,uuid:_b},{name:"string"}),Cb=q.module({bigint:D.bigint,boolean:D.boolean,false:D.false,never:D.never,null:D.null,number:D.number,object:D.object,string:D.string,symbol:D.symbol,true:D.true,unknown:D.unknown,undefined:D.undefined}),Pb=q.module({root:D.unknown,any:D.unknown},{name:"unknown"}),Rb=q.module({root:D.jsonObject,stringify:As("morph",{in:D.jsonObject,morphs:e=>JSON.stringify(e),declaredOut:D.string})},{name:"object.json"}),Ib=q.module({root:D.object,json:Rb},{name:"object"});class Ob extends Xe{constructor(){super(...arguments);f(this,"description",'instantiate an object from an index signature and corresponding value type like `Record("string", "number")`')}}const Nb=lt(["K",D.key],"V")(e=>({domain:"object",index:{signature:e.K,value:e.V}}),Ob);class Mb extends Xe{constructor(){super(...arguments);f(this,"description",'pick a set of properties from an object like `Pick(User, "name | age")`')}}const Eb=lt(["T",D.object],["K",D.key])(e=>e.T.pick(e.K),Mb);class Lb extends Xe{constructor(){super(...arguments);f(this,"description",'omit a set of properties from an object like `Omit(User, "age")`')}}const Db=lt(["T",D.object],["K",D.key])(e=>e.T.omit(e.K),Lb);class Tb extends Xe{constructor(){super(...arguments);f(this,"description","make all named properties of an object optional like `Partial(User)`")}}const Fb=lt(["T",D.object])(e=>e.T.partial(),Tb);class Bb extends Xe{constructor(){super(...arguments);f(this,"description","make all named properties of an object required like `Required(User)`")}}const Kb=lt(["T",D.object])(e=>e.T.required(),Bb);class jb extends Xe{constructor(){super(...arguments);f(this,"description",'exclude branches of a union like `Exclude("boolean", "true")`')}}const qb=lt("T","U")(e=>e.T.exclude(e.U),jb);class zb extends Xe{constructor(){super(...arguments);f(this,"description",'extract branches of a union like `Extract("0 | false | 1", "number")`')}}const Ub=lt("T","U")(e=>e.T.extract(e.U),zb),Vb=q.module({Exclude:qb,Extract:Ub,Omit:Db,Partial:Fb,Pick:Eb,Record:Nb,Required:Kb}),Nt=My({...Cb,...Vb,...Uy,...Dy,string:Ab,number:Fl,object:Ib,unknown:Pb},{prereducedAliases:!0,name:"ark"}),fe=Nt.export();Object.assign(In.ambient,fe);In.typeAttachments={string:fe.string.root,number:fe.number.root,bigint:fe.bigint,boolean:fe.boolean,symbol:fe.symbol,undefined:fe.undefined,null:fe.null,object:fe.object.root,unknown:fe.unknown.root,false:fe.false,true:fe.true,never:fe.never,arrayIndex:fe.Array.index,Key:fe.Key,Record:fe.Record,Array:fe.Array.root,Date:fe.Date};const Wi=Object.assign(Nt.type,In.typeAttachments);Nt.match;Nt.generic;Nt.schema;Nt.define;Nt.declare;function Rs(e){return e.map(n=>`"${n}"`).join("|")}const Jb=Wi("('pending'|'reviewing'|'planned'|'in-progress'|'completed'|'closed')[]");Rs(["low","medium","high"]);Rs(["bug","feature","improvement","other"]);Rs(["asc","desc"]);const ql=Wi({"search?":"string","creator?":"string","assignee?":"string","status?":Wi(Jb),"tags?":"('security'|'performance'|'usability'|'design'|'code-quality'|'other')[]","type?":"('bug'|'feature'|'improvement'|'other')[]","order?":"'newest'|'oldest'|'hot'"}),Hb=()=>Ve(()=>import("./_workspaceId-BkUwddrn.js"),[]),zl=rt("/_layout/$workspaceId")({component:It(Hb,"component",()=>zl.ssr),validateSearch:ql,beforeLoad:async({params:e})=>{const n=await fh({data:{workspaceId:e.workspaceId}});if(!n.success)throw cs;return{currentWorkspace:n.data}}}),Gb=()=>Ve(()=>import("./register-uLZUEoRd.js"),__vite__mapDeps([8,5,2,9,7])),Ul=rt("/(auth)/register")({component:It(Gb,"component",()=>Ul.ssr)}),Wb=()=>Ve(()=>import("./login-De9bTmS_.js"),__vite__mapDeps([10,2,6,5,4,9,7])),Vl=rt("/(auth)/login")({component:It(Wb,"component",()=>Vl.ssr)}),Yb=()=>Ve(()=>import("./index-TpnxbMeV.js"),__vite__mapDeps([11,1,2,5,3,4,12])),Jl=rt("/_layout/$workspaceId/")({component:It(Yb,"component",()=>Jl.ssr),validateSearch:ql}),Zb=()=>Ve(()=>import("./_feedbackId-BJM-1nJy.js"),__vite__mapDeps([13,1,2,12]));Mn("src_routes_layout_workspaceId_feedbackId_tsx--getd_createServerFn_handler","/_serverFn");const Hl=rt("/_layout/$workspaceId/$feedbackId")({component:It(Zb,"component",()=>Hl.ssr)}),Gl=Xa.update({id:"/_layout",getParentRoute:()=>En}),Xb=Qa.update({id:"/",path:"/",getParentRoute:()=>En}),Is=zl.update({id:"/$workspaceId",path:"/$workspaceId",getParentRoute:()=>Gl}),Qb=Ul.update({id:"/(auth)/register",path:"/register",getParentRoute:()=>En}),ev=Vl.update({id:"/(auth)/login",path:"/login",getParentRoute:()=>En}),tv=Jl.update({id:"/",path:"/",getParentRoute:()=>Is}),nv=Hl.update({id:"/$feedbackId",path:"/$feedbackId",getParentRoute:()=>Is}),rv={LayoutWorkspaceIdFeedbackIdRoute:nv,LayoutWorkspaceIdIndexRoute:tv},iv=Is._addFileChildren(rv),sv={LayoutWorkspaceIdRoute:iv},ov=Gl._addFileChildren(sv),av={IndexRoute:Xb,LayoutRoute:ov,authLoginRoute:ev,authRegisterRoute:Qb},cv=En._addFileChildren(av)._addFileTypes();function lv(){return vf({routeTree:cv,defaultPreload:"intent",defaultErrorComponent:Ga,defaultNotFoundComponent:()=>v(cs,{}),scrollRestoration:!0})}const uv=lv();Ku(()=>v(Lf,{router:uv}),document.body);export{pi as $,Wi as A,pr as B,Ou as C,rs as D,Ca as E,mv as F,Lr as G,va as H,Js as I,Si as J,Vt as K,Cn as L,ht as M,ya as N,os as O,gv as P,Ns as Q,Yd as R,Yi as S,Gd as T,Wd as U,de as V,jt as W,Eu as X,Mu as Y,ss as Z,is as _,Rt as a,Jl as a0,bv as a1,wv as a2,vv as a3,Hl as a4,Ve as a5,$v as a6,nu as a7,ts as a8,Ue as a9,Pt as b,bt as c,v as d,yv as e,Ie as f,zd as g,mu as h,pe as i,G as j,wn as k,Re as l,Pe as m,Be as n,Me as o,Ce as p,Iu as q,Zt as r,qt as s,je as t,Ee as u,Xt as v,hr as w,Aa as x,Jt as y,Mn as z};

{"version":3,"file":"use-create-workspace-Da46anxc.mjs","sources":["../../../../../../../../src/components/email/collaboration-invite.tsx","../../../../../../../../src/components/workspace-creation/workspace-creation-fn.ts","../../../../../../../../src/components/workspace-creation/use-create-workspace.ts"],"sourcesContent":null,"names":["BASE_URL","CollaborationInvite","firstName","inviterName","projectName","token","inviteLink","_$ssr","_tmpl$2","_$ssrHydrationKey","_$createComponent","_$NoHydration","children","_tmpl$","_$escape","charAt","toUpperCase","slice","_$ssrAttribute","getWebsiteData_createServerFn_handler","createServerRpc","opts","signal","getWebsiteData.__executeServer","getWebsiteData","createServerFn","method","validator","domain","handler","data","baseUrl","response","fetch","headers","redirect","AbortSignal","timeout","ok","Error","statusText","status","html","text","$","cheerio","load","title","attr","description","logoUrl","rawLogoUrl","startsWith","findWorkspaceUrl_createServerFn_handler","findWorkspaceUrl.__executeServer","findWorkspaceUrl","url","workspaceUrl","workspace","db","query","findFirst","where","eq","resend","Resend","process","env","RESEND_API_KEY","addCollaborator_createServerFn_handler","addCollaborator.__executeServer","addCollaborator","email","renderToString","error","emails","send","from","to","subject","message","createWorkspace_createServerFn_handler","createWorkspace.__executeServer","createWorkspace","orgId","workspaceData","workspaceSchema","assert","id","nanoid","insertedWorkspace","insert","values","name","organizationId","logo","returning","success"],"mappings":"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"}